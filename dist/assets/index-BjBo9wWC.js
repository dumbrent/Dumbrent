import{r as e,a as t,b as s}from"./vendor-9gaTd7Wf.js";import{u as a,L as r,a as n,b as i,B as o,R as l,c}from"./router-Bw5DzW7f.js";import{c as d}from"./supabase-DphARXpI.js";import{B as h,X as m,M as u,a as p,I as g,T as x,F as f,b,c as y,P as j,H as w,d as v,e as N,S as _,C as S,f as k,g as I,h as C,i as P,j as A,U as E,k as T,A as U,l as D,m as R,D as $,n as L,o as F,p as B,q,r as O,s as M,L as W,t as H,u as Y,v as z,w as V,x as J,y as X,z as G,E as K,G as Q,J as Z,W as ee,K as te,N as se,O as ae,Q as re,R as ne,V as ie,Y as oe,Z as le,_ as ce,$ as de,a0 as he,a1 as me,a2 as ue,a3 as pe,a4 as ge,a5 as xe,a6 as fe,a7 as be,a8 as ye,a9 as je,aa as we,ab as ve}from"./ui-BPOBy7PX.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ne={exports:{}},_e={},Se=e,ke=Symbol.for("react.element"),Ie=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,Pe=Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ae={key:!0,ref:!0,__self:!0,__source:!0};function Ee(e,t,s){var a,r={},n=null,i=null;for(a in void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)Ce.call(t,a)&&!Ae.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:ke,type:e,key:n,ref:i,props:r,_owner:Pe.current}}_e.Fragment=Ie,_e.jsx=Ee,_e.jsxs=Ee,Ne.exports=_e;var Te,Ue=Ne.exports,De=t;Te=De.createRoot,De.hydrateRoot;const Re="https://mcnfrgwnwgksordlviiv.supabase.co";try{new URL(Re)}catch(Zi){throw new Error(`Invalid Supabase URL format: ${Re}. Please check your VITE_SUPABASE_URL environment variable.`)}const $e=d(Re,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jbmZyZ3dud2drc29yZGx2aWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTUwMTksImV4cCI6MjA2NDQ3MTAxOX0.1YOuP3eCF35aY1vDLMnwqbb_0QqDJSSTQe9i25ilq0Q",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",flowType:"pkce",debug:!1},global:{fetch:async(...e)=>{try{const t=await fetch(...e);if(!t.ok){if(404===t.status)throw new Error("Supabase project not found. Please check your project URL configuration.");throw new Error(`Supabase request failed: ${t.status} ${t.statusText}`)}return t}catch(t){if("TypeError"===t.name&&t.message.includes("fetch"))throw new Error("Unable to connect to Supabase. Please check your internet connection.");if(t.message.includes("CORS"))throw new Error("Cross-origin request blocked. Please check your Supabase project settings.");if(t.message.includes("Supabase"))throw t;throw new Error(`Failed to connect to Supabase: ${t.message}`)}}}}),Le=()=>{const[t,s]=e.useState(!1),[n,i]=e.useState(0),[o,l]=e.useState(!1),[c,d]=e.useState(!0),p=a(),[g,x]=e.useState(null),[f,b]=e.useState(!1);e.useEffect((()=>{y();const{data:{subscription:e}}=$e.auth.onAuthStateChange((async(e,t)=>{l(!!t),d(!1),t?(w(),j()):(i(0),g&&($e.removeChannel(g),x(null)))}));return()=>{e.unsubscribe(),g&&$e.removeChannel(g)}}),[]);const y=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();l(!!e),e&&(w(),j())}catch(Zi){}finally{d(!1)}},j=async()=>{if(!f){b(!0);try{const{data:{user:e}}=await $e.auth.getUser();if(!e)return;g&&($e.removeChannel(g),x(null));const t=$e.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},(()=>{w()})).subscribe();x(t)}catch(Zi){}finally{b(!1)}}},w=async()=>{try{const{data:{user:e}}=await $e.auth.getUser();if(!e)return;const{count:t}=await $e.from("notifications").select("id",{count:"exact"}).eq("user_id",e.id).eq("read",!1);i(t||0)}catch(Zi){}},v=async()=>{try{await $e.auth.signOut(),l(!1),i(0),p("/",{replace:!0}),window.location.reload()}catch(Zi){}};return Ue.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50 transition-all duration-300",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"flex justify-between items-center",children:[Ue.jsx(r,{to:"/",className:"flex items-center py-2",children:Ue.jsx("img",{src:"/Untitled design (9).png",alt:"Dumb Rent NYC",className:"h-24 w-auto"})}),Ue.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[Ue.jsxs("nav",{className:"flex space-x-8",children:[Ue.jsx(r,{to:"/",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",children:"Home"}),Ue.jsx(r,{to:"/about",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",children:"About"}),Ue.jsx(r,{to:"/neighborhoods",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",children:"Neighborhoods"}),Ue.jsx(r,{to:"/submit-listing",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",children:"Submit Listing"}),Ue.jsx(r,{to:"/submit-highlight",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",children:"Add Neighborhood Highlight"})]}),Ue.jsx("div",{className:"flex items-center space-x-4",children:!c&&Ue.jsx(Ue.Fragment,{children:o?Ue.jsxs(Ue.Fragment,{children:[Ue.jsxs(r,{to:"/profile",className:"relative",children:[n>0&&Ue.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:n}),Ue.jsx(h,{className:"h-6 w-6 text-gray-600 hover:text-[#4f46e5] transition-colors"})]}),Ue.jsx(r,{to:"/profile",className:"px-4 py-2 rounded-md text-[#4f46e5] border border-[#4f46e5] hover:bg-[#4f46e5]/5 transition-colors",children:"Profile"}),Ue.jsx("button",{onClick:v,className:"px-4 py-2 rounded-md bg-[#4f46e5] text-white hover:bg-[#4f46e5]/90 transition-colors",children:"Log Out"})]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(r,{to:"/login",className:"px-4 py-2 rounded-md text-[#4f46e5] border border-[#4f46e5] hover:bg-[#4f46e5]/5 transition-colors",children:"Log In"}),Ue.jsx(r,{to:"/signup",className:"px-4 py-2 rounded-md bg-[#4f46e5] text-white hover:bg-[#4f46e5]/90 transition-colors",children:"Sign Up"})]})})})]}),Ue.jsx("button",{className:"md:hidden text-gray-600",onClick:()=>s(!t),children:t?Ue.jsx(m,{className:"h-6 w-6"}):Ue.jsx(u,{className:"h-6 w-6"})})]}),t&&Ue.jsx("div",{className:"md:hidden bg-white py-4 px-4 shadow-lg",children:Ue.jsxs("nav",{className:"flex flex-col space-y-4",children:[Ue.jsx(r,{to:"/",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",onClick:()=>s(!1),children:"Home"}),Ue.jsx(r,{to:"/about",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",onClick:()=>s(!1),children:"About"}),Ue.jsx(r,{to:"/neighborhoods",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",onClick:()=>s(!1),children:"Neighborhoods"}),Ue.jsx(r,{to:"/submit-listing",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",onClick:()=>s(!1),children:"Submit Listing"}),Ue.jsx(r,{to:"/submit-highlight",className:"text-gray-600 hover:text-[#4f46e5] transition-colors",onClick:()=>s(!1),children:"Add Neighborhood Highlight"}),Ue.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:!c&&Ue.jsx(Ue.Fragment,{children:o?Ue.jsxs(Ue.Fragment,{children:[Ue.jsxs(r,{to:"/profile",className:"relative px-4 py-2 rounded-md text-[#4f46e5] border border-[#4f46e5] text-center",onClick:()=>s(!1),children:[n>0&&Ue.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:n}),"Profile"]}),Ue.jsx("button",{onClick:()=>{v(),s(!1)},className:"px-4 py-2 rounded-md bg-[#4f46e5] text-white text-center",children:"Log Out"})]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(r,{to:"/login",className:"px-4 py-2 rounded-md text-[#4f46e5] border border-[#4f46e5] text-center",onClick:()=>s(!1),children:"Log In"}),Ue.jsx(r,{to:"/signup",className:"px-4 py-2 rounded-md bg-[#4f46e5] text-white text-center",onClick:()=>s(!1),children:"Sign Up"})]})})})]})})]})})},Fe=()=>{const e=a(),t=t=>{e(t),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)};return Ue.jsx("footer",{className:"bg-white text-black",children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[Ue.jsxs("div",{children:[Ue.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Ue.jsx(p,{className:"h-8 w-8 text-[#6b46c1]"}),Ue.jsx("span",{className:"text-2xl font-bold text-black",children:"Dumb Rent NYC"})]}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:"Find your perfect apartment in NYC without the dumb broker fee."}),Ue.jsxs("div",{className:"flex space-x-4",children:[Ue.jsx("a",{href:"https://www.instagram.com/dumbrentnyc/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-black transition-colors","aria-label":"Follow us on Instagram",children:Ue.jsx(g,{className:"h-5 w-5"})}),Ue.jsx("a",{href:"https://x.com/DumbRent",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-black transition-colors","aria-label":"Follow us on Twitter",children:Ue.jsx(x,{className:"h-5 w-5"})}),Ue.jsx("a",{href:"#",className:"text-gray-600 hover:text-black transition-colors",children:Ue.jsx(f,{className:"h-5 w-5"})})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#6b46c1]",children:"Quick Links"}),Ue.jsxs("nav",{className:"flex flex-col space-y-2",children:[Ue.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Home"}),Ue.jsx("button",{onClick:()=>t("/about"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"About"}),Ue.jsx("button",{onClick:()=>t("/feedback"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Feedback"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#6b46c1]",children:"NYC Boroughs"}),Ue.jsxs("nav",{className:"flex flex-col space-y-2",children:[Ue.jsx("button",{onClick:()=>t("/neighborhoods?borough=1"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Manhattan"}),Ue.jsx("button",{onClick:()=>t("/neighborhoods?borough=2"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Brooklyn"}),Ue.jsx("button",{onClick:()=>t("/neighborhoods?borough=3"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Queens"}),Ue.jsx("button",{onClick:()=>t("/neighborhoods?borough=4"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"The Bronx"}),Ue.jsx("button",{onClick:()=>t("/neighborhoods?borough=5"),className:"text-gray-600 hover:text-black transition-colors text-left",children:"Staten Island"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#6b46c1]",children:"Contact Us"}),Ue.jsxs("div",{className:"flex flex-col space-y-3",children:[Ue.jsxs("div",{className:"flex items-start space-x-3",children:[Ue.jsx(b,{className:"h-5 w-5 text-gray-600 mt-0.5"}),Ue.jsx("span",{className:"text-gray-600",children:"123 Broadway, New York, NY 10001"})]}),Ue.jsxs("div",{className:"flex items-center space-x-3",children:[Ue.jsx(y,{className:"h-5 w-5 text-gray-600"}),Ue.jsx("a",{href:"mailto:info@dumbrent.com",className:"text-gray-600 hover:text-black transition-colors",children:"info@dumbrent.com"})]}),Ue.jsxs("div",{className:"flex items-center space-x-3",children:[Ue.jsx(j,{className:"h-5 w-5 text-gray-600"}),Ue.jsx("a",{href:"tel:+12125551234",className:"text-gray-600 hover:text-black transition-colors",children:"(212) 555-1234"})]})]})]})]}),Ue.jsx("div",{className:"border-t border-gray-200 mt-12 pt-8",children:Ue.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[Ue.jsxs("p",{className:"text-gray-600 text-center md:text-left",children:["Â© ",(new Date).getFullYear()," Dumb Rent inc. All rights reserved."]}),Ue.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[Ue.jsx("button",{onClick:()=>t("/terms"),className:"text-gray-600 hover:text-black transition-colors text-sm",children:"Terms & Conditions"}),Ue.jsx("button",{onClick:()=>t("/privacy"),className:"text-gray-600 hover:text-black transition-colors text-sm",children:"Privacy Policy"}),Ue.jsx("button",{onClick:()=>t("/about"),className:"text-gray-600 hover:text-black transition-colors text-sm",children:"About Us"})]})]})})]})})},Be=({children:e})=>Ue.jsxs("div",{className:"flex flex-col min-h-screen",children:[Ue.jsx(Le,{}),Ue.jsx("main",{className:"flex-grow",children:e}),Ue.jsx(Fe,{})]}),qe=["restaurants-bars","gyms-fitness","happy-hours-brunches","shopping-grocery","museums-art-entertainment","schools-universities","culture","parks-landmark","luxury","transportation"],Oe={"restaurants-bars":"Restaurants & Bars","gyms-fitness":"Gyms & Fitness","happy-hours-brunches":"Happy Hours & Brunches","shopping-grocery":"Shopping & Grocery","museums-art-entertainment":"Museums, Art & Entertainment","schools-universities":"Schools & Universities",culture:"Culture","parks-landmark":"Parks & Landmark",luxury:"Luxury",transportation:"Transportation"},Me=["Air Conditioning","Balcony","Dishwasher","Elevator","Fitness Center","Furnished","Hardwood Floors","In-Unit Laundry","Package Room","Parking Available","Patio","Pets Allowed","Private Outdoor Space","Storage Available","Stainless Steel Appliances","Walk-in Closet","Doorman","Roof Deck"],We=[{id:"1",name:"Manhattan",description:"The most densely populated borough of New York City, known for its cultural, entertainment, and financial centers.",imageUrl:"/images/manhattan.jpg"},{id:"2",name:"Brooklyn",description:"Known for its cultural diversity, independent art scene, and distinct neighborhoods.",imageUrl:"https://images.pexels.com/photos/2190283/pexels-photo-2190283.jpeg"},{id:"3",name:"Queens",description:"The largest borough by area and the most ethnically diverse urban area in the world.",imageUrl:"https://images.pexels.com/photos/2404949/pexels-photo-2404949.jpeg"},{id:"4",name:"The Bronx",description:"The northernmost borough, home to the Bronx Zoo, Yankee Stadium, and the birthplace of hip hop.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"5",name:"Staten Island",description:"The most suburban of the five boroughs, connected to Manhattan by the Staten Island Ferry.",imageUrl:"https://images.pexels.com/photos/2190377/pexels-photo-2190377.jpeg"}],He=[{id:"battery-park-city",name:"Battery Park City",boroughId:"1",description:"Planned community with waterfront views and modern amenities.",imageUrl:"/images/manhattan.jpg"},{id:"financial-district",name:"Financial District",boroughId:"1",description:"Historic area home to Wall Street and the World Trade Center.",imageUrl:"/images/manhattan.jpg"},{id:"tribeca",name:"Tribeca",boroughId:"1",description:"Upscale neighborhood known for its converted warehouses and celebrity residents.",imageUrl:"/images/manhattan.jpg"},{id:"soho",name:"SoHo",boroughId:"1",description:"Famous for its cast-iron architecture, art galleries, and high-end shopping.",imageUrl:"/images/manhattan.jpg"},{id:"nolita",name:"Nolita",boroughId:"1",description:"Trendy area north of Little Italy with boutique shopping and cafes.",imageUrl:"/images/manhattan.jpg"},{id:"little-italy",name:"Little Italy",boroughId:"1",description:"Historic Italian-American neighborhood with authentic restaurants.",imageUrl:"/images/manhattan.jpg"},{id:"chinatown",name:"Chinatown",boroughId:"1",description:"Vibrant cultural enclave with authentic Chinese cuisine and markets.",imageUrl:"/images/manhattan.jpg"},{id:"les",name:"Lower East Side",boroughId:"1",description:"Historic neighborhood known for its vibrant nightlife, diverse dining scene, and cultural heritage.",imageUrl:"/images/manhattan.jpg"},{id:"east-village",name:"East Village",boroughId:"1",description:"Bohemian neighborhood with a rich counterculture history.",imageUrl:"/images/manhattan.jpg"},{id:"west-village",name:"West Village",boroughId:"1",description:"Picturesque area with tree-lined streets and historic brownstones.",imageUrl:"/images/manhattan.jpg"},{id:"greenwich-village",name:"Greenwich Village",boroughId:"1",description:"Historic bohemian neighborhood with NYU campus and Washington Square Park.",imageUrl:"/images/manhattan.jpg"},{id:"noho",name:"NoHo",boroughId:"1",description:"Small upscale neighborhood north of Houston Street.",imageUrl:"/images/manhattan.jpg"},{id:"chelsea",name:"Chelsea",boroughId:"1",description:"Art district with galleries, the High Line, and modern condos.",imageUrl:"/images/manhattan.jpg"},{id:"flatiron",name:"Flatiron District",boroughId:"1",description:"Commercial area centered around the iconic Flatiron Building.",imageUrl:"/images/manhattan.jpg"},{id:"gramercy",name:"Gramercy",boroughId:"1",description:"Quiet residential area with historic Gramercy Park.",imageUrl:"/images/manhattan.jpg"},{id:"union-square",name:"Union Square",boroughId:"1",description:"Bustling area with shopping, dining, and the famous farmers market.",imageUrl:"/images/manhattan.jpg"},{id:"midtown-south",name:"Midtown South",boroughId:"1",description:"Commercial district with office buildings and Penn Station.",imageUrl:"/images/manhattan.jpg"},{id:"midtown-west",name:"Midtown West",boroughId:"1",description:"Theater District and Times Square area.",imageUrl:"/images/manhattan.jpg"},{id:"midtown-east",name:"Midtown East",boroughId:"1",description:"Business district with skyscrapers and corporate headquarters.",imageUrl:"/images/manhattan.jpg"},{id:"hells-kitchen",name:"Hell's Kitchen",boroughId:"1",description:"Diverse neighborhood with international cuisine and proximity to theaters.",imageUrl:"/images/manhattan.jpg"},{id:"upper-west-side",name:"Upper West Side",boroughId:"1",description:"A residential and cultural neighborhood between Central Park and Riverside Park.",imageUrl:"/images/manhattan.jpg"},{id:"upper-east-side",name:"Upper East Side",boroughId:"1",description:"Upscale area with museums, boutiques, and Central Park access.",imageUrl:"/images/manhattan.jpg"},{id:"yorkville",name:"Yorkville",boroughId:"1",description:"Upper East Side neighborhood with German and Czech heritage.",imageUrl:"/images/manhattan.jpg"},{id:"carnegie-hill",name:"Carnegie Hill",boroughId:"1",description:"Affluent area near Central Park with luxury buildings.",imageUrl:"/images/manhattan.jpg"},{id:"lenox-hill",name:"Lenox Hill",boroughId:"1",description:"Upscale neighborhood with high-end shopping and dining.",imageUrl:"/images/manhattan.jpg"},{id:"sutton-place",name:"Sutton Place",boroughId:"1",description:"Exclusive residential area with river views.",imageUrl:"/images/manhattan.jpg"},{id:"turtle-bay",name:"Turtle Bay",boroughId:"1",description:"Midtown East neighborhood home to the United Nations.",imageUrl:"/images/manhattan.jpg"},{id:"murray-hill",name:"Murray Hill",boroughId:"1",description:"Residential area popular with young professionals.",imageUrl:"/images/manhattan.jpg"},{id:"kips-bay",name:"Kips Bay",boroughId:"1",description:"Residential neighborhood with modern high-rises.",imageUrl:"/images/manhattan.jpg"},{id:"stuyvesant-town",name:"Stuyvesant Town",boroughId:"1",description:"Large residential complex on the East Side.",imageUrl:"/images/manhattan.jpg"},{id:"alphabet-city",name:"Alphabet City",boroughId:"1",description:"Eastern part of East Village with avenues A, B, C, and D.",imageUrl:"/images/manhattan.jpg"},{id:"two-bridges",name:"Two Bridges",boroughId:"1",description:"Diverse neighborhood between Manhattan and Brooklyn bridges.",imageUrl:"/images/manhattan.jpg"},{id:"morningside-heights",name:"Morningside Heights",boroughId:"1",description:"Academic neighborhood home to Columbia University.",imageUrl:"/images/manhattan.jpg"},{id:"hamilton-heights",name:"Hamilton Heights",boroughId:"1",description:"Historic Harlem neighborhood with beautiful architecture.",imageUrl:"/images/manhattan.jpg"},{id:"harlem",name:"Harlem",boroughId:"1",description:"Historic African-American cultural center with rich musical heritage.",imageUrl:"/images/manhattan.jpg"},{id:"east-harlem",name:"East Harlem",boroughId:"1",description:"Diverse neighborhood also known as El Barrio.",imageUrl:"/images/manhattan.jpg"},{id:"washington-heights",name:"Washington Heights",boroughId:"1",description:"Northern Manhattan neighborhood with Fort Tryon Park.",imageUrl:"/images/manhattan.jpg"},{id:"inwood",name:"Inwood",boroughId:"1",description:"Northernmost Manhattan neighborhood with parks and affordable housing.",imageUrl:"/images/manhattan.jpg"},{id:"marble-hill",name:"Marble Hill",boroughId:"1",description:"Small neighborhood technically in the Bronx but part of Manhattan.",imageUrl:"/images/manhattan.jpg"},{id:"brooklyn-heights",name:"Brooklyn Heights",boroughId:"2",description:"Historic neighborhood with the famous Promenade and brownstones.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"dumbo",name:"DUMBO",boroughId:"2",description:"Historic waterfront neighborhood with cobblestone streets and stunning Manhattan views.",imageUrl:"https://images.pexels.com/photos/2190284/pexels-photo-2190284.jpeg"},{id:"downtown-brooklyn",name:"Downtown Brooklyn",boroughId:"2",description:"Commercial and cultural center with shopping and entertainment.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"fort-greene",name:"Fort Greene",boroughId:"2",description:"Historic neighborhood with Fort Greene Park and cultural institutions.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"boerum-hill",name:"Boerum Hill",boroughId:"2",description:"Trendy area with Victorian houses and artisanal shops.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"cobble-hill",name:"Cobble Hill",boroughId:"2",description:"Charming neighborhood with historic brownstones and boutiques.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"carroll-gardens",name:"Carroll Gardens",boroughId:"2",description:"Italian-American neighborhood with tree-lined streets.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"red-hook",name:"Red Hook",boroughId:"2",description:"Waterfront neighborhood with art studios, unique shops, and stunning harbor views.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"gowanus",name:"Gowanus",boroughId:"2",description:"Industrial area undergoing rapid development and gentrification.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"pslope",name:"Park Slope",boroughId:"2",description:"Family-friendly area with beautiful brownstones and proximity to Prospect Park.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"prospect-heights",name:"Prospect Heights",boroughId:"2",description:"Diverse neighborhood near Prospect Park and Brooklyn Museum.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"crown-heights",name:"Crown Heights",boroughId:"2",description:"Diverse area with Caribbean culture and historic architecture.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"bedstuy",name:"Bedford-Stuyvesant",boroughId:"2",description:"Historic African-American neighborhood with beautiful brownstones.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"clinton-hill",name:"Clinton Hill",boroughId:"2",description:"Historic district with Victorian mansions and Pratt Institute.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"wburg",name:"Williamsburg",boroughId:"2",description:"A vibrant neighborhood known for its hipster culture, art scene, and waterfront views.",imageUrl:"https://images.pexels.com/photos/2406759/pexels-photo-2406759.jpeg"},{id:"greenpoint",name:"Greenpoint",boroughId:"2",description:"Polish-American neighborhood with waterfront parks and trendy spots.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"bushwick",name:"Bushwick",boroughId:"2",description:"Industrial area turned artist haven with galleries and nightlife.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"east-williamsburg",name:"East Williamsburg",boroughId:"2",description:"Industrial area with artist studios and creative spaces.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"ridgewood",name:"Ridgewood",boroughId:"2",description:"Diverse neighborhood on the Brooklyn-Queens border.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"sunset-park",name:"Sunset Park",boroughId:"2",description:"Diverse area with great views of Manhattan and the harbor.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"bay-ridge",name:"Bay Ridge",boroughId:"2",description:"Family-friendly neighborhood with Norwegian heritage.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"dyker-heights",name:"Dyker Heights",boroughId:"2",description:"Residential area famous for elaborate Christmas decorations.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"bensonhurst",name:"Bensonhurst",boroughId:"2",description:"Italian-American and Chinese neighborhood with great food.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"coney-island",name:"Coney Island",boroughId:"2",description:"Famous beachfront area with amusement parks and boardwalk.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"brighton-beach",name:"Brighton Beach",boroughId:"2",description:'Russian-American community known as "Little Odessa."',imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"sheepshead-bay",name:"Sheepshead Bay",boroughId:"2",description:"Waterfront neighborhood with fishing boats and seafood restaurants.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"flatbush",name:"Flatbush",boroughId:"2",description:"Large diverse area with Caribbean and Orthodox Jewish communities.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"midwood",name:"Midwood",boroughId:"2",description:"Residential area with Orthodox Jewish and Pakistani communities.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"marine-park",name:"Marine Park",boroughId:"2",description:"Suburban-style neighborhood with the largest park in Brooklyn.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"canarsie",name:"Canarsie",boroughId:"2",description:"Residential area at the southeastern tip of Brooklyn.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"east-new-york",name:"East New York",boroughId:"2",description:"Diverse neighborhood with affordable housing and growing arts scene.",imageUrl:"https://images.pexels.com/photos/2884867/pexels-photo-2884867.jpeg"},{id:"lic",name:"Long Island City",boroughId:"3",description:"Modern waterfront district with high-rise apartments and cultural institutions.",imageUrl:"https://images.pexels.com/photos/2190285/pexels-photo-2190285.jpeg"},{id:"astoria",name:"Astoria",boroughId:"3",description:"A diverse neighborhood known for its Greek heritage and growing arts community.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"sunnyside",name:"Sunnyside",boroughId:"3",description:"Diverse neighborhood with garden-style apartments and Irish heritage.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"woodside",name:"Woodside",boroughId:"3",description:"Multicultural area with Filipino, Irish, and Latin American communities.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"jackson-heights",name:"Jackson Heights",boroughId:"3",description:"Historic district known for its cultural diversity and food scene.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"elmhurst",name:"Elmhurst",boroughId:"3",description:"One of the most diverse neighborhoods in the world.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"corona",name:"Corona",boroughId:"3",description:"Diverse area home to Citi Field and the US Open tennis venue.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"flushing",name:"Flushing",boroughId:"3",description:"Vibrant Asian community known for authentic cuisine and shopping.",imageUrl:"https://images.pexels.com/photos/2190286/pexels-photo-2190286.jpeg"},{id:"forest-hills",name:"Forest Hills",boroughId:"3",description:"Upscale residential area with Tudor-style homes.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"rego-park",name:"Rego Park",boroughId:"3",description:"Diverse middle-class neighborhood with shopping centers.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"kew-gardens",name:"Kew Gardens",boroughId:"3",description:"Quiet residential area with historic architecture.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"richmond-hill",name:"Richmond Hill",boroughId:"3",description:"Diverse area with Indo-Caribbean and Latin American communities.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"ozone-park",name:"Ozone Park",boroughId:"3",description:"Diverse neighborhood near JFK Airport.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"howard-beach",name:"Howard Beach",boroughId:"3",description:"Waterfront community with Italian-American heritage.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"rockaway",name:"Rockaway",boroughId:"3",description:"Beach community with surfing and boardwalk attractions.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"bayside",name:"Bayside",boroughId:"3",description:"Suburban-style neighborhood with good schools and parks.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"whitestone",name:"Whitestone",boroughId:"3",description:"Quiet residential area near the Whitestone Bridge.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"college-point",name:"College Point",boroughId:"3",description:"Waterfront neighborhood with diverse communities.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"fresh-meadows",name:"Fresh Meadows",boroughId:"3",description:"Middle-class residential area with garden apartments.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"jamaica",name:"Jamaica",boroughId:"3",description:"Major transportation hub with diverse communities.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"st-albans",name:"St. Albans",boroughId:"3",description:"Historic African-American community with notable residents.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"hollis",name:"Hollis",boroughId:"3",description:"Residential area known for its hip-hop history.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"queens-village",name:"Queens Village",boroughId:"3",description:"Diverse suburban-style neighborhood.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"bellerose",name:"Bellerose",boroughId:"3",description:"Quiet residential area on the Nassau County border.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"maspeth",name:"Maspeth",boroughId:"3",description:"Small residential neighborhood with Polish heritage.",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg"},{id:"south-bronx",name:"South Bronx",boroughId:"4",description:"Historic area undergoing revitalization with cultural attractions.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"mott-haven",name:"Mott Haven",boroughId:"4",description:"Waterfront neighborhood with art galleries and new development.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"melrose",name:"Melrose",boroughId:"4",description:"Diverse area near Yankee Stadium with affordable housing.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"concourse",name:"Grand Concourse",boroughId:"4",description:"Historic boulevard lined with Art Deco architecture.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"highbridge",name:"Highbridge",boroughId:"4",description:"Historic area with the High Bridge and Yankee Stadium.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"morrisania",name:"Morrisania",boroughId:"4",description:"Central Bronx neighborhood with rich cultural history.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"tremont",name:"Tremont",boroughId:"4",description:"Diverse area with Italian and Latino communities.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"fordham",name:"Fordham",boroughId:"4",description:"Commercial hub with Fordham University and shopping district.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"belmont",name:"Belmont",boroughId:"4",description:'Italian-American neighborhood known as the "Little Italy of the Bronx."',imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"morris-park",name:"Morris Park",boroughId:"4",description:"Residential area with Italian-American heritage.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"pelham-bay",name:"Pelham Bay",boroughId:"4",description:"Northeastern Bronx area with the largest park in NYC.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"riverdale",name:"Riverdale",boroughId:"4",description:"Scenic residential area with parks and historic mansions.",imageUrl:"https://images.pexels.com/photos/2287523/pexels-photo-2287523.jpeg"},{id:"kingsbridge",name:"Kingsbridge",boroughId:"4",description:"Diverse neighborhood near the Harlem River.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"norwood",name:"Norwood",boroughId:"4",description:"Residential area with Irish and Dominican communities.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"wakefield",name:"Wakefield",boroughId:"4",description:"Northernmost Bronx neighborhood with suburban feel.",imageUrl:"https://images.pexels.com/photos/2190376/pexels-photo-2190376.jpeg"},{id:"stjohn",name:"St. George",boroughId:"5",description:"Staten Island's civic center with Victorian houses and cultural venues.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"stapleton",name:"Stapleton",boroughId:"5",description:"Historic waterfront neighborhood with diverse communities.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"new-brighton",name:"New Brighton",boroughId:"5",description:"Hillside neighborhood with harbor views.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"west-brighton",name:"West Brighton",boroughId:"5",description:"Diverse area with affordable housing options.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"port-richmond",name:"Port Richmond",boroughId:"5",description:"Working-class neighborhood with Mexican and Latino communities.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"mariners-harbor",name:"Mariners Harbor",boroughId:"5",description:"Waterfront community with industrial heritage.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"new-springville",name:"New Springville",boroughId:"5",description:"Suburban area with shopping centers and family homes.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"bulls-head",name:"Bulls Head",boroughId:"5",description:"Central Staten Island residential area.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"great-kills",name:"Great Kills",boroughId:"5",description:"Waterfront neighborhood with marina and parks.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"tottenville",name:"Tottenville",boroughId:"5",description:"Southernmost neighborhood in NYC with historic charm.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"annadale",name:"Annadale",boroughId:"5",description:"Residential area with suburban character.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"eltingville",name:"Eltingville",boroughId:"5",description:"Southern Staten Island neighborhood with shopping and dining.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"clifton",name:"Clifton",boroughId:"5",description:"Diverse neighborhood with Sri Lankan and Mexican communities.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"concord",name:"Concord",boroughId:"5",description:"Family-friendly area with parks and suburban feel.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"grasmere",name:"Grasmere",boroughId:"5",description:"Quiet residential neighborhood with suburban character.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"old-town",name:"Old Town",boroughId:"5",description:"Historic waterfront area with colonial heritage and harbor views.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"richmondtown",name:"Richmondtown",boroughId:"5",description:"Historic village with colonial buildings and living history museum.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"midland-beach",name:"Midland Beach",boroughId:"5",description:"Beachfront community with boardwalk and ocean access.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"new-dorp-beach",name:"New Dorp Beach",boroughId:"5",description:"Waterfront extension of New Dorp with beach access.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"pleasant-plains",name:"Pleasant Plains",boroughId:"5",description:"Suburban neighborhood with family homes and parks.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"charleston",name:"Charleston",boroughId:"5",description:"Developing area with new housing developments and green spaces.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"rossville",name:"Rossville",boroughId:"5",description:"Southwestern Staten Island area with industrial and residential mix.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"woodrow",name:"Woodrow",boroughId:"5",description:"Southern Staten Island neighborhood with suburban character.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"grant-city",name:"Grant City",boroughId:"5",description:"Central Staten Island area with shopping and transportation.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"},{id:"new-dorp",name:"New Dorp",boroughId:"5",description:"Central Staten Island neighborhood with shopping and dining.",imageUrl:"https://images.pexels.com/photos/2389339/pexels-photo-2389339.jpeg"}],Ye=[{id:"550e8400-e29b-41d4-a716-446655440000",title:"Stunning Central Park View Luxury Condo",description:"Welcome to your Upper West Side sanctuary! This meticulously renovated 2-bedroom haven offers breathtaking Central Park views and luxurious finishes throughout. The chef's kitchen features top-of-the-line appliances, custom cabinetry, and a breakfast bar perfect for entertaining.",price:6500,deposit:13e3,bedrooms:2,bathrooms:2,square_feet:1200,address:"235 West 75th Street",zip_code:"10023",neighborhood_id:"upper-west-side",borough_id:"1",key_feature:"Panoramic Central Park Views",landlord_id:"landlord-1",available_date:new Date("2025-03-15"),status:"published",featured:!0,created_at:new Date("2025-02-15"),updated_at:new Date("2025-02-15"),images:["https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg","https://images.pexels.com/photos/1571463/pexels-photo-1571463.jpeg","https://images.pexels.com/photos/1571468/pexels-photo-1571468.jpeg","https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg","https://images.pexels.com/photos/1457847/pexels-photo-1457847.jpeg"],amenities:["Air Conditioning","Dishwasher","Elevator","Doorman","Fitness Center","Hardwood Floors","In-Unit Laundry","Package Room","Roof Deck","Walk-in Closet","Stainless Steel Appliances"]},{id:"6ba7b810-9dad-11d1-80b4-00c04fd430c8",title:"Designer Williamsburg Loft with Private Roof Deck",description:"Discover urban luxury in this stunning Williamsburg loft! This thoughtfully designed space seamlessly blends industrial charm with modern comfort. The open-concept living area features soaring 12-foot ceilings, exposed brick walls, and oversized windows.",price:4800,deposit:9600,bedrooms:1,bathrooms:1.5,square_feet:950,address:"180 North 7th Street",zip_code:"11211",neighborhood_id:"wburg",borough_id:"2",key_feature:"Private 800 sq ft Roof Deck",landlord_id:"landlord-2",available_date:new Date("2025-04-01"),status:"published",featured:!0,created_at:new Date("2025-03-01"),updated_at:new Date("2025-03-01"),images:["https://images.pexels.com/photos/1571458/pexels-photo-1571458.jpeg","https://images.pexels.com/photos/1571459/pexels-photo-1571459.jpeg","https://images.pexels.com/photos/1571461/pexels-photo-1571461.jpeg","https://images.pexels.com/photos/1643384/pexels-photo-1643384.jpeg","https://images.pexels.com/photos/1457848/pexels-photo-1457848.jpeg"],amenities:["Air Conditioning","Dishwasher","Hardwood Floors","In-Unit Laundry","Private Outdoor Space","Roof Deck","Stainless Steel Appliances","Storage Available","Walk-in Closet"]},{id:"6ba7b811-9dad-11d1-80b4-00c04fd430c8",title:"Charming Astoria Garden Oasis",description:"Welcome to your peaceful Astoria retreat! This beautifully renovated garden apartment offers the perfect blend of indoor and outdoor living. The spacious layout features two sun-filled bedrooms and a modern open kitchen with breakfast bar.",price:3200,deposit:6400,bedrooms:2,bathrooms:1,square_feet:800,address:"28-15 34th Street",zip_code:"11103",neighborhood_id:"astoria",borough_id:"3",key_feature:"Private Garden with Patio",landlord_id:"landlord-3",available_date:new Date("2025-05-01"),status:"published",featured:!1,created_at:new Date("2025-04-01"),updated_at:new Date("2025-04-01"),images:["https://images.pexels.com/photos/1571462/pexels-photo-1571462.jpeg","https://images.pexels.com/photos/1571464/pexels-photo-1571464.jpeg","https://images.pexels.com/photos/1571465/pexels-photo-1571465.jpeg","https://images.pexels.com/photos/1643385/pexels-photo-1643385.jpeg","https://images.pexels.com/photos/1457849/pexels-photo-1457849.jpeg"],amenities:["Air Conditioning","Dishwasher","Hardwood Floors","In-Unit Laundry","Pets Allowed","Private Outdoor Space","Stainless Steel Appliances","Storage Available"]},{id:"6ba7b812-9dad-11d1-80b4-00c04fd430c8",title:"Luxury High-Rise Studio in Lower East Side",description:"Experience the epitome of Manhattan luxury living in this thoughtfully designed studio apartment. Floor-to-ceiling windows showcase stunning city views and flood the space with natural light.",price:3500,deposit:7e3,bedrooms:0,bathrooms:1,square_feet:500,address:"175 Ludlow Street",zip_code:"10002",neighborhood_id:"les",borough_id:"1",key_feature:"Floor-to-Ceiling Windows",landlord_id:"landlord-1",available_date:new Date("2025-03-30"),status:"published",featured:!0,created_at:new Date("2025-02-28"),updated_at:new Date("2025-02-28"),images:["https://images.pexels.com/photos/1643384/pexels-photo-1643384.jpeg","https://images.pexels.com/photos/1643385/pexels-photo-1643385.jpeg","https://images.pexels.com/photos/1643386/pexels-photo-1643386.jpeg","https://images.pexels.com/photos/1643387/pexels-photo-1643387.jpeg","https://images.pexels.com/photos/1643388/pexels-photo-1643388.jpeg"],amenities:["Air Conditioning","Dishwasher","Doorman","Elevator","Fitness Center","Hardwood Floors","Package Room","Roof Deck","Stainless Steel Appliances"]},{id:"6ba7b813-9dad-11d1-80b4-00c04fd430c8",title:"DUMBO Waterfront Loft with Manhattan Bridge Views",description:"Live in one of Brooklyn's most coveted neighborhoods in this spectacular converted loft. Original industrial details meet modern luxury in this unique 2-bedroom home.",price:5800,deposit:11600,bedrooms:2,bathrooms:2,square_feet:1400,address:"65 Washington Street",zip_code:"11201",neighborhood_id:"dumbo",borough_id:"2",key_feature:"Direct Manhattan Bridge Views",landlord_id:"landlord-3",available_date:new Date("2025-04-15"),status:"published",featured:!0,created_at:new Date("2025-03-15"),updated_at:new Date("2025-03-15"),images:["https://images.pexels.com/photos/1643389/pexels-photo-1643389.jpeg","https://images.pexels.com/photos/1643390/pexels-photo-1643390.jpeg","https://images.pexels.com/photos/1643391/pexels-photo-1643391.jpeg","https://images.pexels.com/photos/1643392/pexels-photo-1643392.jpeg","https://images.pexels.com/photos/1643393/pexels-photo-1643393.jpeg"],amenities:["Air Conditioning","Dishwasher","Elevator","Hardwood Floors","In-Unit Laundry","Package Room","Pets Allowed","Storage Available","Stainless Steel Appliances"]}],ze=[{id:"1",neighborhoodId:"upper-west-side",name:"Central Park",description:"An iconic urban park offering extensive walking trails, outdoor activities, and cultural attractions.",type:"parks-landmark",imageUrl:"https://images.pexels.com/photos/2082103/pexels-photo-2082103.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"2",neighborhoodId:"upper-west-side",name:"American Museum of Natural History",description:"World-renowned museum featuring dinosaur fossils, space exhibits, and cultural artifacts.",type:"museums-art-entertainment",imageUrl:"https://images.pexels.com/photos/2086676/pexels-photo-2086676.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"3",neighborhoodId:"les",name:"Katz's Delicatessen",description:"Historic deli famous for its pastrami sandwiches and traditional Jewish fare.",type:"restaurants-bars",imageUrl:"https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"4",neighborhoodId:"soho",name:"Cast Iron Architecture",description:"The world's largest collection of cast-iron architecture, dating back to the 1800s.",type:"culture",imageUrl:"https://images.pexels.com/photos/2079246/pexels-photo-2079246.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"5",neighborhoodId:"wburg",name:"Smorgasburg",description:"The largest weekly open-air food market in America, featuring diverse local vendors.",type:"restaurants-bars",imageUrl:"https://images.pexels.com/photos/2087748/pexels-photo-2087748.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"6",neighborhoodId:"pslope",name:"Prospect Park",description:"585-acre urban oasis designed by the creators of Central Park.",type:"parks-landmark",imageUrl:"https://images.pexels.com/photos/2404949/pexels-photo-2404949.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"7",neighborhoodId:"dumbo",name:"Brooklyn Bridge Park",description:"85-acre post-industrial waterfront park offering stunning Manhattan views.",type:"parks-landmark",imageUrl:"https://images.pexels.com/photos/2190284/pexels-photo-2190284.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")},{id:"8",neighborhoodId:"astoria",name:"Museum of the Moving Image",description:"The only museum in the US dedicated to the art, history, and technology of movies and television.",type:"museums-art-entertainment",imageUrl:"https://images.pexels.com/photos/2389349/pexels-photo-2389349.jpeg",addedBy:"system",createdAt:new Date("2025-06-01")}],Ve=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),Je=({listingId:t,className:s="",showText:r=!1,size:n="md"})=>{const i=a(),[o,l]=e.useState(!1),[c,d]=e.useState(!1),[h,m]=e.useState(!1),[u,p]=e.useState(!1);e.useEffect((()=>{const e=(s=t,Ye.some((e=>e.id===s)));var s;p(e),e?g():x()}),[t]);const g=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();m(!!e)}catch(Zi){}},x=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(m(!!e),e){const e=await(async e=>{try{if(!Ve(e))return!1;const{data:{user:t}}=await $e.auth.getUser();if(!t)return!1;const{data:s,error:a}=await $e.from("tenant_saved_listings").select("id").eq("tenant_id",t.id).eq("listing_id",e).maybeSingle();if(a)throw a;return!!s}catch(Zi){return!1}})(t);l(e)}}catch(Zi){}},f=u||c,b=u?"Demo listing - saving not available":o?"Remove from saved":"Save listing";return Ue.jsxs("button",{onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),h)if(u)alert("This is a demo listing and cannot be saved. Please browse real listings to use the save feature.");else{d(!0);try{o?(await(async e=>{try{if(!Ve(e))throw new Error("Invalid listing ID format");const{data:{user:t}}=await $e.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:s}=await $e.from("tenant_saved_listings").delete().eq("tenant_id",t.id).eq("listing_id",e);if(s)throw s}catch(Zi){throw Zi}})(t),l(!1)):(await(async(e,t)=>{try{if(!Ve(e))throw new Error("Invalid listing ID format");const{data:{user:s}}=await $e.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:r}=await $e.from("tenant_saved_listings").insert({tenant_id:s.id,listing_id:e,notes:t||""}).select().single();if(r)throw r;return a}catch(Zi){throw Zi}})(t),l(!0))}catch(Zi){alert("Failed to update saved status. Please try again.")}finally{d(!1)}}else i("/login")},disabled:f,className:`\n        ${r?"flex items-center":{sm:"p-1",md:"p-2",lg:"p-3"}[n]} \n        ${r?"px-4 py-2":"rounded-full"} \n        transition-all \n        duration-200 \n        ${o?"bg-red-500 text-white hover:bg-red-600":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500"}\n        ${f?"opacity-50 cursor-not-allowed":"hover:scale-110"}\n        ${r?"rounded-md border border-gray-300":""}\n        ${u?"opacity-60":""}\n        ${s}\n      `,title:b,children:[Ue.jsx(w,{className:`${{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}[n]} ${o?"fill-current":""} ${r?"mr-2":""}`}),r&&Ue.jsx("span",{className:`font-medium ${{sm:"text-sm",md:"text-sm",lg:"text-base"}[n]}`,children:u?"Demo Listing":o?"Saved":"Save Listing"})]})},Xe=({listing:e})=>{const t=[...e.amenities].sort((()=>Math.random()-.5)).slice(0,3);return Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-lg hover:-translate-y-1 relative",children:[Ue.jsx("div",{className:"absolute top-3 right-3 z-10",children:Ue.jsx(Je,{listingId:e.id,size:"md"})}),Ue.jsxs("div",{className:"relative h-56 overflow-hidden",children:[Ue.jsxs("div",{className:"absolute top-0 left-0 bg-[#4f46e5] text-white px-4 py-2 z-10",children:[(a=e.price,a.toLocaleString("en-US",{style:"currency",currency:"USD"}).replace(".00","")),"/mo"]}),Ue.jsx(r,{to:`/listing/${e.id}`,children:Ue.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover",loading:"lazy"})})]}),Ue.jsxs("div",{className:"p-5",children:[Ue.jsx(r,{to:`/listing/${e.id}`,children:Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3 hover:text-[#4f46e5] transition-colors",children:e.title})}),Ue.jsxs("div",{className:"flex items-center text-gray-500 mb-3",children:[Ue.jsx(b,{className:"h-4 w-4 mr-1"}),Ue.jsxs("p",{className:"text-sm",children:[e.address,", ",(e=>{const t=He.find((t=>t.id===e));return t?t.name:""})(e.neighborhood_id)]})]}),Ue.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(v,{className:"h-4 w-4 mr-1"}),Ue.jsxs("span",{children:[e.bedrooms," ",1===e.bedrooms?"Bed":"Beds"]})]}),Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(N,{className:"h-4 w-4 mr-1"}),Ue.jsxs("span",{children:[e.bathrooms," ",1===e.bathrooms?"Bath":"Baths"]})]}),e.square_feet&&Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(_,{className:"h-4 w-4 mr-1"}),Ue.jsxs("span",{children:[e.square_feet," sq ft"]})]})]}),Ue.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[Ue.jsx(S,{className:"h-4 w-4 mr-1"}),Ue.jsxs("span",{className:"text-sm",children:["Available ",(s=e.available_date,new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))]})]}),Ue.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.map(((e,t)=>Ue.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs",children:e},t))),e.amenities.length>3&&Ue.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs",children:["+",e.amenities.length-3," more"]})]}),Ue.jsx(r,{to:`/listing/${e.id}`,className:"block w-full text-center bg-[#4f46e5] hover:bg-[#4f46e5]/90 text-white py-2 rounded-md transition-colors",children:"View Details"})]})]});var s,a},Ge=({listings:e,isLoading:t=!1})=>t?Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map(((e,t)=>Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[Ue.jsx("div",{className:"h-56 bg-gray-300"}),Ue.jsxs("div",{className:"p-5",children:[Ue.jsx("div",{className:"h-6 bg-gray-300 rounded mb-3"}),Ue.jsx("div",{className:"h-4 bg-gray-300 rounded mb-3"}),Ue.jsxs("div",{className:"flex gap-2 mb-4",children:[Ue.jsx("div",{className:"h-4 w-16 bg-gray-300 rounded"}),Ue.jsx("div",{className:"h-4 w-16 bg-gray-300 rounded"}),Ue.jsx("div",{className:"h-4 w-16 bg-gray-300 rounded"})]}),Ue.jsx("div",{className:"h-10 bg-gray-300 rounded"})]})]},t)))}):0===e.length?Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No listings found"}),Ue.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria"})]}):Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>Ue.jsx(Xe,{listing:e},e.id)))}),Ke=({filters:t,onFilterChange:s,className:a="",isMobile:r=!1,onClose:n})=>{const[i,o]=e.useState({price:!0,rooms:!0,location:!0,amenities:!0}),l=(e,a)=>{s({...t,minPrice:e,maxPrice:a})},c=t.boroughId?He.filter((e=>e.boroughId===t.boroughId)):He,d=({title:e,section:t})=>Ue.jsxs("button",{className:"flex justify-between items-center w-full text-left mb-3",onClick:()=>(e=>{o((t=>({...t,[e]:!t[e]})))})(t),children:[Ue.jsx("h3",{className:"text-lg font-semibold",children:e}),i[t]?Ue.jsx(I,{className:"h-5 w-5 text-gray-500"}):Ue.jsx(C,{className:"h-5 w-5 text-gray-500"})]});return Ue.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${a}`,children:[r&&Ue.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(k,{className:"h-5 w-5 mr-2 text-[#1a1b4b]"}),Ue.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),Ue.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:Ue.jsx(m,{className:"h-5 w-5"})})]}),Ue.jsx("div",{className:"mb-6",children:Ue.jsx("button",{onClick:()=>{s({})},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors",children:"Reset All Filters"})}),Ue.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[Ue.jsx(d,{title:"Price Range",section:"price"}),i.price&&Ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Min Price"}),Ue.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a1b4b]",value:t.minPrice||"",onChange:e=>l(e.target.value?parseInt(e.target.value):void 0,t.maxPrice),children:[{value:"",label:"No min"},{value:"1000",label:"$1,000"},{value:"2000",label:"$2,000"},{value:"3000",label:"$3,000"},{value:"4000",label:"$4,000"},{value:"5000",label:"$5,000"}].map((e=>Ue.jsx("option",{value:e.value,children:e.label},e.value)))})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Max Price"}),Ue.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a1b4b]",value:t.maxPrice||"",onChange:e=>l(t.minPrice,e.target.value?parseInt(e.target.value):void 0),children:[{value:"",label:"No max"},{value:"2000",label:"$2,000"},{value:"3000",label:"$3,000"},{value:"4000",label:"$4,000"},{value:"5000",label:"$5,000"},{value:"7500",label:"$7,500"},{value:"10000",label:"$10,000"}].map((e=>Ue.jsx("option",{value:e.value,children:e.label},e.value)))})]})]})]}),Ue.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[Ue.jsx(d,{title:"Bedrooms & Bathrooms",section:"rooms"}),i.rooms&&Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Bedrooms"}),Ue.jsx("div",{className:"flex space-x-2",children:[{value:0,label:"Studio"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5+"}].map((e=>Ue.jsx("button",{className:"flex-1 py-2 rounded-md border "+(t.bedrooms===e.value?"bg-[#1a1b4b] text-white border-[#1a1b4b]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),onClick:()=>{return a=t.bedrooms===e.value?void 0:e.value,void s({...t,bedrooms:a});var a},children:e.label},e.value)))})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Bathrooms"}),Ue.jsx("div",{className:"flex space-x-2",children:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4+"}].map((e=>Ue.jsx("button",{className:"flex-1 py-2 rounded-md border "+(t.bathrooms===e.value?"bg-[#1a1b4b] text-white border-[#1a1b4b]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),onClick:()=>{return a=t.bathrooms===e.value?void 0:e.value,void s({...t,bathrooms:a});var a},children:e.label},e.value)))})]})]})]}),Ue.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[Ue.jsx(d,{title:"Location",section:"location"}),i.location&&Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Borough"}),Ue.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a1b4b]",value:t.boroughId||"",onChange:e=>{return a=e.target.value||void 0,void s({...t,boroughId:a,neighborhoodId:void 0});var a},children:[Ue.jsx("option",{value:"",children:"All Boroughs"}),We.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Neighborhood"}),Ue.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a1b4b]",value:t.neighborhoodId||"",onChange:e=>{return a=e.target.value||void 0,void s({...t,neighborhoodId:a});var a},children:[Ue.jsx("option",{value:"",children:"All Neighborhoods"}),c.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]})]})]}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx(d,{title:"Amenities",section:"amenities"}),i.amenities&&Ue.jsx("div",{className:"grid grid-cols-2 gap-2",children:Me.map((e=>Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx("input",{type:"checkbox",id:`amenity-${e}`,checked:(t.amenities||[]).includes(e),onChange:()=>(e=>{const a=t.amenities||[],r=a.includes(e)?a.filter((t=>t!==e)):[...a,e];s({...t,amenities:r})})(e),className:"h-4 w-4 text-[#1a1b4b] rounded focus:ring-[#1a1b4b]"}),Ue.jsx("label",{htmlFor:`amenity-${e}`,className:"ml-2 text-sm text-gray-700",children:e})]},e)))})]})]})},Qe=async e=>{try{const{data:{user:t}}=await $e.auth.getUser();if(!t)throw new Error("User not authenticated");const s=await(async e=>{try{const{data:{user:t},error:s}=await $e.auth.getUser();if(s)throw s;if(!t)throw new Error("User not authenticated");const{data:a,error:r}=await $e.from("listings").insert({title:e.title,description:e.description,price:e.price,deposit:e.deposit,bedrooms:e.bedrooms,bathrooms:e.bathrooms,square_feet:e.squareFeet,address:e.address,zip_code:e.zipCode,neighborhood_id:e.neighborhoodId,borough_id:e.boroughId,key_feature:e.keyFeature,available_date:e.availableDate,status:e.status||"pending",landlord_id:t.id}).select().single();if(r)throw r;const{error:n}=await $e.from("listing_images").insert(e.images.map(((e,t)=>({listing_id:a.id,url:e,position:t}))));if(n)throw n;const{error:i}=await $e.from("listing_amenities").insert(e.amenities.map((e=>({listing_id:a.id,amenity:e}))));if(i)throw i;return a}catch(Zi){throw Zi}})({...e,status:"draft"});return s}catch(Zi){throw Zi}},Ze=()=>{const[t,s]=e.useState({}),[a,n]=e.useState(Ye),[i,o]=e.useState(!0),[l,c]=e.useState(!1),[d,h]=e.useState("newest"),[m,u]=e.useState([]),[p,g]=e.useState(!1),[x,f]=e.useState(!1),[b,y]=e.useState(null);e.useEffect((()=>{(async()=>{const{data:{session:e}}=await $e.auth.getSession();g(!!e)})(),j()}),[]);const j=async()=>{o(!0);try{const e=await(async(e={})=>{try{const t=(new Date).toISOString().split("T")[0],{data:s,error:a}=await $e.from("listing_subscriptions").select("listing_id").eq("status","active").gte("end_date",t);if(a)throw a;const r=(null==s?void 0:s.map((e=>e.listing_id)))||[];if(0===r.length)return[];let n=$e.from("listings").select("\n        *,\n        images:listing_images(url),\n        amenities:listing_amenities(amenity)\n      ").eq("status","published").in("id",r);e&&Object.entries(e).forEach((([e,t])=>{null!=t&&(n=n.eq(e,t))}));const{data:i,error:o}=await n;if(o)throw o;return i.map((e=>{var t,s;return{...e,images:(null==(t=e.images)?void 0:t.map((e=>e.url)))||[],amenities:(null==(s=e.amenities)?void 0:s.map((e=>e.amenity)))||[],available_date:new Date(e.available_date),created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)}}))}catch(Zi){throw Zi}})();u(e);const t=[...e,...Ye];n(w(t,d))}catch(Zi){n(w(Ye,d))}finally{o(!1)}};e.useEffect((()=>{let e=[...m,...Ye];t.minPrice&&(e=e.filter((e=>e.price>=t.minPrice))),t.maxPrice&&(e=e.filter((e=>e.price<=t.maxPrice))),void 0!==t.bedrooms&&(e=e.filter((e=>e.bedrooms===t.bedrooms))),void 0!==t.bathrooms&&(e=e.filter((e=>e.bathrooms===t.bathrooms))),t.boroughId&&(e=e.filter((e=>e.borough_id===t.boroughId))),t.neighborhoodId&&(e=e.filter((e=>e.neighborhood_id===t.neighborhoodId))),t.amenities&&t.amenities.length>0&&(e=e.filter((e=>t.amenities.every((t=>e.amenities.includes(t)))))),e=w(e,d),n(e)}),[t,d,m]);const w=(e,t)=>{const s=[...e];switch(t){case"newest":return s.sort(((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()));case"price_low":return s.sort(((e,t)=>e.price-t.price));case"price_high":return s.sort(((e,t)=>t.price-e.price));default:return s}};return Ue.jsxs(Be,{children:[Ue.jsx("section",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] text-white py-16",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[Ue.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Your Perfect NYC Apartment"}),Ue.jsx("p",{className:"text-xl mb-8",children:"Discover rental listings with detailed neighborhood insights across all five boroughs"}),Ue.jsxs("div",{className:"flex justify-center gap-4",children:[Ue.jsx("a",{href:"#listings",className:"px-6 py-3 bg-white text-[#4f46e5] font-semibold rounded-md hover:bg-gray-100 transition-colors",children:"View Listings"}),Ue.jsx(r,{to:"/neighborhoods",className:"px-6 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-md hover:bg-white/10 transition-colors",children:"Explore Neighborhoods"})]})]})})}),Ue.jsx("section",{id:"listings",className:"py-12 bg-gray-50",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Featured Listings"}),Ue.jsxs("div",{className:"flex items-center gap-2",children:[p&&Ue.jsx("button",{onClick:async()=>{f(!0);try{const e=await(async()=>{const{data:{session:e}}=await $e.auth.getSession();if(!e)return null;try{const{data:t}=await $e.from("listings").select("id").eq("title","Test Listing for Application").maybeSingle();if(t)return t.id;const{data:s,error:a}=await $e.from("listings").insert({title:"Test Listing for Application",description:"This is a test listing created for testing the application system. Feel free to apply to this listing to test the functionality.",price:2500,deposit:5e3,bedrooms:1,bathrooms:1,square_feet:700,address:"123 Test Street",zip_code:"10001",neighborhood_id:"chelsea",borough_id:"1",key_feature:"Test Feature",landlord_id:e.user.id,available_date:(new Date).toISOString().split("T")[0],status:"published"}).select().single();return a?null:(await $e.from("listing_images").insert([{listing_id:s.id,url:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg",position:0},{listing_id:s.id,url:"https://images.pexels.com/photos/1571463/pexels-photo-1571463.jpeg",position:1}]),await $e.from("listing_amenities").insert([{listing_id:s.id,amenity:"Air Conditioning"},{listing_id:s.id,amenity:"Hardwood Floors"},{listing_id:s.id,amenity:"Dishwasher"}]),s.id)}catch(Zi){return null}})();e?(y(e),await j(),alert("Test listing created successfully! You can now apply to this listing to test the application system.")):alert("Failed to create test listing. Please try again.")}catch(Zi){alert("Error creating test listing: "+(Zi instanceof Error?Zi.message:String(Zi)))}finally{f(!1)}},disabled:x,className:"md:flex items-center px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors hidden",children:x?Ue.jsxs("span",{className:"flex items-center",children:[Ue.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Ue.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Ue.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(P,{className:"h-4 w-4 mr-1"}),"Create Test Listing"]})}),b&&Ue.jsx(r,{to:`/listing/${b}`,className:"md:flex items-center px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 transition-colors hidden",children:"View Test Listing"}),Ue.jsxs("button",{onClick:()=>c(!0),className:"md:hidden flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-gray-700",children:[Ue.jsx(k,{className:"h-5 w-5 mr-2"}),"Filters"]})]})]}),Ue.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[Ue.jsx(Ke,{filters:t,onFilterChange:s,className:"hidden md:block md:w-80 flex-shrink-0 sticky top-24 self-start"}),l&&Ue.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden",children:Ue.jsx("div",{className:"bg-white h-full w-4/5 max-w-sm overflow-auto animate-slide-in-right",children:Ue.jsx(Ke,{filters:t,onFilterChange:s,isMobile:!0,onClose:()=>c(!1)})})}),Ue.jsxs("div",{className:"flex-1",children:[Ue.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[Ue.jsxs("p",{className:"text-gray-600",children:[a.length," ",1===a.length?"listing":"listings"," found"]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx("label",{className:"mr-2 text-gray-700",children:"Sort by:"}),Ue.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5]",value:d,onChange:e=>h(e.target.value),children:[Ue.jsx("option",{value:"newest",children:"Newest"}),Ue.jsx("option",{value:"price_low",children:"Price: Low to High"}),Ue.jsx("option",{value:"price_high",children:"Price: High to Low"})]})]})]}),Ue.jsx(Ge,{listings:a,isLoading:i})]})]})]})}),Ue.jsx("section",{className:"py-16 bg-[#4f46e5] text-white",children:Ue.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Are You a Landlord?"}),Ue.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"List your property on Dumb Rent and connect with qualified tenants looking for their next home."}),Ue.jsx("a",{href:"/submit-listing",className:"inline-block px-6 py-3 bg-white text-[#4f46e5] font-semibold rounded-md hover:bg-gray-100 transition-colors",children:"Submit a Listing"})]})})]})},et=({neighborhood:e,borough:t})=>Ue.jsxs(r,{to:`/neighborhood/${e.id}`,className:"group bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-lg hover:-translate-y-1",children:[Ue.jsx("div",{className:"h-48 overflow-hidden",children:Ue.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})}),Ue.jsxs("div",{className:"p-5",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:e.name}),Ue.jsxs("div",{className:"flex items-center text-gray-500 mb-3",children:[Ue.jsx(b,{className:"h-4 w-4 mr-1"}),Ue.jsx("p",{className:"text-sm",children:t})]}),Ue.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),Ue.jsx("div",{className:"text-blue-600 font-medium group-hover:text-blue-700 transition-colors",children:"Explore Neighborhood"})]})]}),tt=()=>{const[t,s]=n(),[a,i]=e.useState("all"),[o,l]=e.useState(""),[c,d]=e.useState(!0);e.useEffect((()=>{const e=t.get("borough");e&&i(e),setTimeout((()=>{d(!1)}),1e3)}),[t]);const h=e=>{i(e),"all"===e?t.delete("borough"):t.set("borough",e),s(t)},m=He.filter((e=>{const t="all"===a||e.boroughId===a,s=""===o||e.name.toLowerCase().includes(o.toLowerCase());return t&&s})),u=e=>{const t=We.find((t=>t.id===e));return t?t.name:""};return Ue.jsxs(Be,{children:[Ue.jsx("section",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] text-white py-16",children:Ue.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ue.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Explore NYC Neighborhoods"}),Ue.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Discover the unique character and amenities of New York City's diverse neighborhoods"}),Ue.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(A,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{type:"text",placeholder:"Search neighborhoods...",className:"w-full pl-10 pr-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] text-gray-800",value:o,onChange:e=>l(e.target.value)})]})]})}),Ue.jsx("section",{className:"py-12 bg-gray-50",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsx("div",{className:"mb-8 overflow-x-auto",children:Ue.jsxs("div",{className:"flex space-x-2 min-w-max",children:[Ue.jsx("button",{className:`px-4 py-2 rounded-md ${"all"===a?"bg-[#4f46e5] text-white":"bg-white text-gray-700 hover:bg-gray-100"} transition-colors`,onClick:()=>h("all"),children:"All Boroughs"}),We.map((e=>Ue.jsx("button",{className:`px-4 py-2 rounded-md ${a===e.id?"bg-[#4f46e5] text-white":"bg-white text-gray-700 hover:bg-gray-100"} transition-colors`,onClick:()=>h(e.id),children:e.name},e.id)))]})}),c?Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map(((e,t)=>Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[Ue.jsx("div",{className:"h-48 bg-gray-300"}),Ue.jsxs("div",{className:"p-5",children:[Ue.jsx("div",{className:"h-6 bg-gray-300 rounded mb-3"}),Ue.jsx("div",{className:"h-4 bg-gray-300 rounded mb-3"}),Ue.jsx("div",{className:"h-16 bg-gray-300 rounded mb-3"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded"})]})]},t)))}):m.length>0?Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((e=>Ue.jsx(et,{neighborhood:e,borough:u(e.boroughId)},e.id)))}):Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No neighborhoods found"}),Ue.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria"})]})]})}),Ue.jsx("section",{className:"py-16 bg-white",children:Ue.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Know Something About Your Neighborhood?"}),Ue.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-gray-600",children:"Help us build the most comprehensive neighborhood guide by sharing your local knowledge"}),Ue.jsx(r,{to:"/submit-highlight",className:"inline-block px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Add a Neighborhood Feature"})]})})]})},st=({highlight:e})=>{return Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.imageUrl&&Ue.jsx("div",{className:"h-48 overflow-hidden",children:Ue.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),Ue.jsxs("div",{className:"p-5",children:[Ue.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.name}),Ue.jsx("span",{className:"px-3 py-1 bg-[#4f46e5]/10 text-[#4f46e5] text-sm rounded-full",children:Oe[e.type]})]}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),Ue.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(E,{className:"h-4 w-4 mr-1"}),Ue.jsxs("span",{children:["Added by ",e.addedBy]})]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(T,{className:"h-4 w-4 mr-1"}),Ue.jsx("span",{children:(t=e.createdAt,new Date(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))})]})]})]})]});var t},at=()=>{var t;const{id:a}=i(),[n,o]=e.useState(null),[l,c]=e.useState(""),[d,h]=e.useState([]),[m,u]=e.useState([]),[p,g]=e.useState("all"),[x,f]=e.useState(!0);e.useEffect((()=>{setTimeout((()=>{const e=He.find((e=>e.id===a));if(e){o(e);const t=We.find((t=>t.id===e.boroughId));c((null==t?void 0:t.name)||"");const s=Ye.filter((e=>e.neighborhood_id===a));h(s);const r=ze.filter((e=>e.neighborhoodId===a));u(r)}f(!1)}),1e3)}),[a]);const y=[[{type:"all",label:"All",icon:Ue.jsx(b,{className:"h-5 w-5"})},{type:"restaurants-bars",label:"Restaurants & Bars",icon:Ue.jsx(R,{className:"h-5 w-5"})},{type:"gyms-fitness",label:"Gyms & Fitness",icon:Ue.jsx($,{className:"h-5 w-5"})},{type:"happy-hours-brunches",label:"Happy Hours & Brunches",icon:Ue.jsx(T,{className:"h-5 w-5"})}],[{type:"shopping-grocery",label:"Shopping & Grocery",icon:Ue.jsx(L,{className:"h-5 w-5"})},{type:"museums-art-entertainment",label:"Arts & Entertainment",icon:Ue.jsx(F,{className:"h-5 w-5"})},{type:"schools-universities",label:"Schools",icon:Ue.jsx(B,{className:"h-5 w-5"})},{type:"parks-landmark",label:"Parks & Landmarks",icon:Ue.jsx(q,{className:"h-5 w-5"})}],[{type:"transportation",label:"Transportation",icon:Ue.jsx(O,{className:"h-5 w-5"})},{type:"luxury",label:"Luxury",icon:Ue.jsx(M,{className:"h-5 w-5"})},{type:"culture",label:"Culture",icon:Ue.jsx(W,{className:"h-5 w-5"})}]],j="all"===p?m:m.filter((e=>e.type===p));return x?Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ue.jsx("div",{className:"h-96 bg-gray-300 rounded-lg animate-pulse mb-8"}),Ue.jsx("div",{className:"h-10 bg-gray-300 rounded w-1/3 animate-pulse mb-4"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/2 animate-pulse mb-8"}),Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:3}).map(((e,t)=>Ue.jsx("div",{className:"bg-gray-300 h-64 rounded-lg animate-pulse"},t)))})]})}):n?Ue.jsxs(Be,{children:[Ue.jsxs("div",{className:"relative h-96",children:[Ue.jsx("img",{src:null==n?void 0:n.imageUrl,alt:null==n?void 0:n.name,className:"w-full h-full object-cover"}),Ue.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:Ue.jsxs("div",{className:"container mx-auto px-4 pb-12",children:[Ue.jsxs(r,{to:"/neighborhoods",className:"inline-flex items-center text-white mb-4 hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Neighborhoods"]}),Ue.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:null==n?void 0:n.name}),Ue.jsxs("div",{className:"flex items-center text-white/90",children:[Ue.jsx(b,{className:"h-5 w-5 mr-1"}),Ue.jsx("span",{children:l})]})]})})]}),Ue.jsx("section",{className:"py-12 bg-white",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:["About ",null==n?void 0:n.name]}),Ue.jsxs("div",{className:"max-w-4xl",children:[Ue.jsx("p",{className:"text-lg text-gray-700 mb-6",children:null==n?void 0:n.description}),Ue.jsxs("p",{className:"text-lg text-gray-700",children:[null==n?void 0:n.name," is a vibrant neighborhood located in ",l,", New York City. It offers a diverse mix of cultural attractions, dining options, and residential areas, making it an ideal place to live and explore."]})]})]})}),Ue.jsx("section",{className:"py-12 bg-gray-50",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Available Listings"}),Ue.jsx(r,{to:"/",className:"text-[#4f46e5] hover:text-[#4f46e5]/90 font-medium",children:"View All Listings"})]}),d.length>0?Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((e=>Ue.jsx(Xe,{listing:e},e.id)))}):Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[Ue.jsx(D,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No listings available"}),Ue.jsxs("p",{className:"text-gray-600 mb-6",children:["There are currently no available listings in ",null==n?void 0:n.name,"."]}),Ue.jsx(r,{to:"/",className:"px-6 py-2 bg-[#4f46e5] text-white font-medium rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Browse Other Areas"})]})]})}),Ue.jsx("section",{className:"py-12 bg-white",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Neighborhood Highlights"}),Ue.jsxs(r,{to:"/submit-highlight",className:"inline-flex items-center text-[#4f46e5] hover:text-[#4f46e5]/90 font-medium",children:[Ue.jsx(P,{className:"h-4 w-4 mr-1"}),"Add Highlight"]})]}),Ue.jsx("div",{className:"mb-8",children:Ue.jsx("div",{className:"flex flex-col gap-2",children:y.map(((e,t)=>Ue.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:e.map((e=>Ue.jsxs("button",{className:`px-4 py-2 rounded-md flex items-center justify-center ${p===e.type?"bg-[#4f46e5] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,onClick:()=>g(e.type),children:[s.cloneElement(e.icon,{className:`h-5 w-5 ${p===e.type?"text-white":"text-gray-500"} mr-2`}),e.label]},e.type)))},t)))})}),j.length>0?Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((e=>Ue.jsx(st,{highlight:e},e.id)))}):Ue.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[Ue.jsx(b,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No highlights yet"}),Ue.jsxs("p",{className:"text-gray-600 mb-6",children:["Be the first to add a ","all"!==p?null==(t=y.flat().find((e=>e.type===p)))?void 0:t.label:"highlight"," to ",null==n?void 0:n.name,"!"]}),Ue.jsx(r,{to:"/submit-highlight",className:"px-6 py-2 bg-[#4f46e5] text-white font-medium rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Add Neighborhood Highlight"})]})]})})]}):Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Neighborhood Not Found"}),Ue.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The neighborhood you're looking for doesn't exist."}),Ue.jsx(r,{to:"/neighborhoods",className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors",children:"Browse All Neighborhoods"})]})})},rt=({zipCode:t,address:s,title:a})=>{const r=e.useRef(null),[n,i]=e.useState(!0),[o,l]=e.useState(null),[c,d]=e.useState(null);e.useEffect((()=>{if(!t)return l("No zip code provided"),void i(!1);h()}),[t]);const h=async()=>{try{if(i(!0),l(null),!window.google||!window.google.maps)return l("Google Maps failed to load. Please refresh the page."),void i(!1);(new window.google.maps.Geocoder).geocode({address:`${t}, New York, NY, USA`,componentRestrictions:{country:"US",administrativeArea:"NY"}},((e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;m(t)}else l("Unable to locate this zip code on the map"),i(!1)}))}catch(e){l("Failed to initialize map"),i(!1)}},m=e=>{if(r.current)try{const n=new window.google.maps.Map(r.current,{zoom:14,center:e,mapTypeId:window.google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"on"}]}],mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0}),o=(new window.google.maps.Circle({strokeColor:"#4f46e5",strokeOpacity:.8,strokeWeight:2,fillColor:"#4f46e5",fillOpacity:.15,map:n,center:e,radius:800}),new window.google.maps.Marker({position:e,map:n,title:a||`Property in ${t}`,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle cx="16" cy="16" r="12" fill="#4f46e5" stroke="white" stroke-width="3"/>\n              <path d="M16 8C13.2386 8 11 10.2386 11 13C11 17 16 23 16 23S21 17 21 13C21 10.2386 18.7614 8 16 8ZM16 15C14.8954 15 14 14.1046 14 13C14 11.8954 14.8954 11 16 11C17.1046 11 18 11.8954 18 13C18 14.1046 17.1046 15 16 15Z" fill="white"/>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(32,32),anchor:new window.google.maps.Point(16,16)}})),l=new window.google.maps.InfoWindow({content:`\n          <div style="padding: 8px; max-width: 200px;">\n            <h4 style="margin: 0 0 8px 0; color: #1f2937; font-size: 14px; font-weight: 600;">\n              ${a||"Property Location"}\n            </h4>\n            <p style="margin: 0 0 4px 0; color: #6b7280; font-size: 12px;">\n              ${s||`Located in ${t}`}\n            </p>\n            <p style="margin: 0; color: #9ca3af; font-size: 11px;">\n              Approximate location within ${t}\n            </p>\n          </div>\n        `});o.addListener("click",(()=>{l.open(n,o)})),d(n),i(!1)}catch(n){l("Failed to create map"),i(!1)}};return o?Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[Ue.jsx(H,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Map Unavailable"}),Ue.jsx("p",{className:"text-gray-600",children:o})]}):Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[Ue.jsx("div",{className:"p-6 border-b border-gray-200",children:Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(b,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Location"}),Ue.jsxs("p",{className:"text-gray-600",children:["General area in ",t,s&&` â¢ ${s}`]})]})]})}),Ue.jsxs("div",{className:"relative",children:[n&&Ue.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center z-10",children:Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#4f46e5] mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}),Ue.jsx("div",{ref:r,className:"w-full h-96",style:{minHeight:"384px"}}),Ue.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 shadow-md",children:Ue.jsxs("p",{className:"text-xs text-gray-600",children:[Ue.jsx(b,{className:"h-3 w-3 inline mr-1"}),"Approximate location for privacy"]})})]}),Ue.jsx("div",{className:"p-4 bg-gray-50 text-center",children:Ue.jsx("p",{className:"text-sm text-gray-600",children:"The exact address will be shared after your application is approved"})})]})},nt=()=>{const{id:t}=i(),s=a(),[n,o]=e.useState(null),[l,c]=e.useState(""),[d,h]=e.useState(""),[m,u]=e.useState([]),[p,g]=e.useState(0),[x,f]=e.useState(!0),[y,j]=e.useState(!1),[w,k]=e.useState(!1),[I,C]=e.useState(!1),[P,A]=e.useState(null),[E,T]=e.useState(!1),[D,R]=e.useState(!1),[$,L]=e.useState({fullName:"",email:"",phone:"",moveInDate:"",message:""});e.useEffect((()=>{F()}),[t]);const F=async()=>{var e,s;try{const{data:{session:a}}=await $e.auth.getSession();k(!!a);let r=null,n=!1;if(t)try{const{data:a,error:i}=await $e.from("listings").select("\n              *,\n              images:listing_images(url),\n              amenities:listing_amenities(amenity)\n            ").eq("id",t).eq("status","published").single();!i&&a&&(r={...a,images:(null==(e=a.images)?void 0:e.map((e=>e.url)))||[],amenities:(null==(s=a.amenities)?void 0:s.map((e=>e.amenity)))||[],available_date:new Date(a.available_date),created_at:new Date(a.created_at),updated_at:new Date(a.updated_at)},n=!0)}catch(Zi){}if(r||(r=Ye.find((e=>e.id===t))||null),r){o(r);const e=He.find((e=>e.id===r.neighborhood_id));c((null==e?void 0:e.name)||"");const s=We.find((e=>e.id===r.borough_id));s&&h(s.name);const i=ze.filter((e=>e.neighborhoodId===r.neighborhood_id));if(u(i),(null==a?void 0:a.user)&&n)try{const{data:e,error:s}=await $e.from("applications").select("id, status, created_at").eq("listing_id",t).eq("tenant_id",a.user.id).maybeSingle();s||e&&(C(!0),A(e.status))}catch(Zi){}if(null==a?void 0:a.user)try{const{data:e}=await $e.from("user_profiles").select("display_name").eq("user_id",a.user.id).single();L((t=>({...t,email:a.user.email||"",fullName:(null==e?void 0:e.display_name)||""})))}catch(Zi){L((e=>({...e,email:a.user.email||""})))}}f(!1)}catch(Zi){f(!1)}},B=e=>{try{return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}catch(Zi){return"Date not available"}},q=e=>{switch(e){case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-yellow-600 bg-yellow-100"}};if(x)return Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ue.jsx("div",{className:"h-96 bg-gray-300 rounded-lg animate-pulse mb-8"}),Ue.jsx("div",{className:"h-10 bg-gray-300 rounded w-1/3 animate-pulse mb-4"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/2 animate-pulse mb-8"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Ue.jsxs("div",{className:"md:col-span-2",children:[Ue.jsx("div",{className:"h-64 bg-gray-300 rounded-lg animate-pulse mb-6"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded animate-pulse mb-3"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded animate-pulse mb-3"}),Ue.jsx("div",{className:"h-6 bg-gray-300 rounded animate-pulse mb-3"})]}),Ue.jsx("div",{className:"h-64 bg-gray-300 rounded-lg animate-pulse"})]})]})});if(!n)return Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Listing Not Found"}),Ue.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The listing you're looking for doesn't exist or has been removed."}),Ue.jsx(r,{to:"/",className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors",children:"Browse All Listings"})]})});const O=(()=>{const e={};return qe.forEach((t=>{const s=m.filter((e=>e.type===t));s.length>0&&(e[t]=s.sort((()=>Math.random()-.5)).slice(0,6))})),e})();return Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs(r,{to:"/",className:"inline-flex items-center text-blue-600 hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Listings"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-8",children:[Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("div",{className:"flex justify-between items-start mb-4",children:Ue.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:n.title})}),Ue.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[Ue.jsx(b,{className:"h-5 w-5 mr-1"}),Ue.jsxs("span",{children:[n.address,", ",l,", ",d]})]}),Ue.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(Y,{className:"h-5 w-5 text-blue-600 mr-1"}),Ue.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(M=n.price,M.toLocaleString("en-US",{style:"currency",currency:"USD"}).replace(".00",""))}),Ue.jsx("span",{className:"text-gray-500",children:"/month"})]}),Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(v,{className:"h-5 w-5 mr-1"}),Ue.jsxs("span",{children:[n.bedrooms," ",1===n.bedrooms?"Bedroom":"Bedrooms"]})]}),Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(N,{className:"h-5 w-5 mr-1"}),Ue.jsxs("span",{children:[n.bathrooms," ",1===n.bathrooms?"Bathroom":"Bathrooms"]})]}),n.square_feet&&Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(_,{className:"h-5 w-5 mr-1"}),Ue.jsxs("span",{children:[n.square_feet.toLocaleString()," sq ft"]})]}),Ue.jsxs("div",{className:"flex items-center text-gray-700",children:[Ue.jsx(S,{className:"h-5 w-5 mr-1"}),Ue.jsxs("span",{children:["Available ",B(n.available_date)]})]})]})]}),Ue.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Ue.jsxs("div",{className:"lg:col-span-2",children:[Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("div",{className:"relative h-96 rounded-lg overflow-hidden mb-2",children:Ue.jsx("img",{src:n.images[p],alt:`${n.title} - Image ${p+1}`,className:"w-full h-full object-cover"})}),Ue.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:n.images.map(((e,t)=>Ue.jsx("button",{className:"h-20 w-32 flex-shrink-0 rounded-md overflow-hidden border-2 "+(t===p?"border-blue-600":"border-transparent"),onClick:()=>g(t),children:Ue.jsx("img",{src:e,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t)))})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Description"}),Ue.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Amenities"}),Ue.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.amenities.map(((e,t)=>Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(z,{className:"h-5 w-5 text-blue-600 mr-2"}),Ue.jsx("span",{children:e})]},t)))})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:[l," Highlights"]}),Object.entries(O).map((([e,t])=>Ue.jsx("div",{className:"mb-6",children:Ue.jsx("ul",{className:"space-y-3",children:t.map((e=>Ue.jsxs("li",{className:"flex items-start",children:[Ue.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),Ue.jsx("div",{children:Ue.jsx("h4",{className:"font-medium text-gray-800",children:e.name})})]},e.id)))})},e)))]}),Ue.jsx("div",{className:"mb-8",children:Ue.jsx(rt,{zipCode:n.zip_code,address:n.address,title:n.title})})]}),Ue.jsx("div",{className:"lg:col-span-1",children:Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[D?Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-green-100 rounded-full p-3 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(z,{className:"h-8 w-8 text-green-600"})}),Ue.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Application Submitted!"}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for your application. You'll receive a confirmation email shortly, and the landlord will review it and get back to you soon."}),Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[Ue.jsxs("p",{className:"text-sm text-gray-600",children:[Ue.jsx("strong",{children:"Status:"})," ",Ue.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q("pending")}`,children:"Pending Review"})]}),Ue.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"You can track your application status in your profile."})]}),Ue.jsx(r,{to:"/profile?tab=applications",className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors inline-block text-center",children:"View My Applications"})]}):I?Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Application Status"}),Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[Ue.jsx("p",{className:"text-gray-600 mb-2",children:"You have already applied for this apartment."}),Ue.jsxs("p",{className:"text-sm text-gray-600",children:[Ue.jsx("strong",{children:"Status:"})," ",Ue.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q(P||"pending")}`,children:P?P.charAt(0).toUpperCase()+P.slice(1):"Pending"})]})]}),Ue.jsx(r,{to:"/profile?tab=applications",className:"w-full py-3 bg-gray-100 text-gray-700 font-semibold rounded-md hover:bg-gray-200 transition-colors inline-block text-center",children:"View Application Details"})]}):y?Ue.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),w){T(!0);try{const{data:{session:e}}=await $e.auth.getSession();if(!(null==e?void 0:e.user)||!n)throw new Error("User not authenticated or listing not found");if(Ye.some((e=>e.id===n.id)))R(!0),C(!0),A("pending"),j(!1),alert("Demo application submitted! In a real application, this would be saved to the database and the landlord would be notified.");else{const{data:s,error:a}=await $e.from("listings").select("landlord_id, title, address").eq("id",n.id).single();if(a)throw new Error("This listing is not available for applications");if(!s)throw new Error("Listing not found in database");const{data:r,error:i}=await $e.from("applications").insert({listing_id:n.id,tenant_id:e.user.id,landlord_id:s.landlord_id,full_name:$.fullName,email:$.email,phone:$.phone||null,move_in_date:$.moveInDate,message:$.message||null}).select().single();if(i){if("23505"===i.code)throw new Error("You have already applied for this listing");throw new Error(`Failed to submit application: ${i.message}`)}const o=crypto.randomUUID(),l=`New Application for ${s.title}\n\nApplicant: ${$.fullName}\nEmail: ${$.email}\n${$.phone?`Phone: ${$.phone}`:""}\nDesired Move-in Date: ${new Date($.moveInDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}\n\n${$.message?`Message from applicant:\n${$.message}`:"No additional message provided."}\n\n---\nThis message was automatically generated from a rental application. You can reply to communicate directly with the applicant.`,{error:c}=await $e.from("messages").insert({conversation_id:o,sender_id:e.user.id,recipient_id:s.landlord_id,listing_id:n.id,content:l});try{(await fetch("https://mcnfrgwnwgksordlviiv.supabase.co/functions/v1/send-application-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jbmZyZ3dud2drc29yZGx2aWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTUwMTksImV4cCI6MjA2NDQ3MTAxOX0.1YOuP3eCF35aY1vDLMnwqbb_0QqDJSSTQe9i25ilq0Q"},body:JSON.stringify({tenantName:$.fullName,tenantEmail:$.email,listingTitle:s.title,listingAddress:s.address,moveInDate:$.moveInDate,message:$.message,listingUrl:`${window.location.origin}/listing/${n.id}`})})).ok}catch(t){}R(!0),C(!0),A("pending"),j(!1)}}catch(Zi){let t="Failed to submit application. Please try again.";Zi instanceof Error&&(t=Zi.message.includes("already applied")?"You have already applied for this listing.":Zi.message.includes("not available")?"This listing is no longer available for applications.":Zi.message.includes("not authenticated")?"Please log in to submit an application.":Zi.message),alert(t)}finally{T(!1)}}else s("/login")},className:"space-y-4",children:[Ue.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Apply for this Apartment"}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name *"}),Ue.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",value:$.fullName,onChange:e=>L((t=>({...t,fullName:e.target.value}))),required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Email *"}),Ue.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",value:$.email,onChange:e=>L((t=>({...t,email:e.target.value}))),required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Phone"}),Ue.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number",value:$.phone,onChange:e=>L((t=>({...t,phone:e.target.value})))})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Move-in Date *"}),Ue.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:$.moveInDate,onChange:e=>L((t=>({...t,moveInDate:e.target.value}))),required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Message"}),Ue.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32",placeholder:"Introduce yourself and ask any questions you may have",value:$.message,onChange:e=>L((t=>({...t,message:e.target.value})))})]}),Ue.jsx("button",{type:"submit",disabled:E,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:E?"Submitting...":"Submit Application"}),Ue.jsx("button",{type:"button",onClick:()=>j(!1),className:"w-full py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Interested in this property?"}),Ue.jsx("p",{className:"text-gray-600 mb-6",children:"Apply now to schedule a viewing or secure this apartment before it's gone!"}),Ue.jsx("div",{className:"mb-4",children:Ue.jsx(Je,{listingId:n.id,size:"lg",showText:!0,className:"w-full justify-center"})}),w?Ue.jsx("button",{onClick:()=>j(!0),className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors mb-4",children:"Apply for this Apartment"}):Ue.jsx(r,{to:"/login",className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors mb-4 inline-block text-center",children:"Sign In to Apply"})]}),Ue.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(V,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsxs("span",{className:"text-sm text-gray-500",children:["Listed on ",B(n.created_at)]})]}),Ue.jsxs("div",{className:"text-sm text-gray-500",children:["Listing ID: ",n.id]})]})]})})]})]})]});var M},it=({preview:e,onEdit:t,onPublish:s,isSubmitting:a=!1})=>{const r=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}).replace(".00","");return Ue.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:Ue.jsxs("div",{className:"p-6",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Preview Your Listing"}),Ue.jsx("div",{className:"mb-6",children:Ue.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.listing.images.map(((e,t)=>Ue.jsx("img",{src:e,alt:`Property image ${t+1}`,className:"w-full h-48 object-cover rounded-lg"},t)))})}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:e.listing.title}),Ue.jsxs("div",{className:"flex items-center text-[#4f46e5] text-xl font-bold",children:[Ue.jsx(Y,{className:"h-6 w-6"}),r(e.listing.price),"/month"]}),Ue.jsxs("div",{className:"text-gray-600 mt-1",children:["Security Deposit: ",r(e.listing.deposit)]})]}),Ue.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(v,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsxs("span",{children:[e.listing.bedrooms," ",1===e.listing.bedrooms?"Bedroom":"Bedrooms"]})]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(N,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsxs("span",{children:[e.listing.bathrooms," ",1===e.listing.bathrooms?"Bathroom":"Bathrooms"]})]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(_,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsxs("span",{children:[e.listing.square_feet," sq ft"]})]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(S,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsxs("span",{children:["Available ",(n=e.listing.available_date,new Date(n).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))]})]})]}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Description"}),Ue.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:e.listing.description})]}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Amenities"}),Ue.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.listing.amenities.map(((e,t)=>Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx("span",{className:"w-2 h-2 bg-[#4f46e5] rounded-full mr-2"}),Ue.jsx("span",{className:"text-gray-700",children:e})]},t)))})]}),Ue.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[Ue.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),Ue.jsxs("div",{className:"space-y-2",children:[Ue.jsxs("p",{className:"text-gray-700",children:[Ue.jsx("span",{className:"font-medium",children:"Display Name:"})," ",e.landlord.displayName]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(y,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsx("span",{className:"text-gray-700",children:e.landlord.email})]}),e.landlord.phone&&Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(j,{className:"h-5 w-5 text-gray-500 mr-2"}),Ue.jsx("span",{className:"text-gray-700",children:e.landlord.phone})]}),Ue.jsxs("p",{className:"text-gray-700",children:[Ue.jsx("span",{className:"font-medium",children:"Preferred Contact Method:"})," ",e.landlord.preferredContact]})]})]}),Ue.jsxs("div",{className:"flex gap-4 mt-8",children:[Ue.jsx("button",{onClick:t,disabled:a,className:"flex-1 px-6 py-3 border border-[#4f46e5] text-[#4f46e5] font-semibold rounded-md hover:bg-[#4f46e5]/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Edit Listing"}),Ue.jsx("button",{onClick:s,disabled:a,className:"flex-1 px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(J,{className:"h-4 w-4 animate-spin"}),"Creating Listing..."]}):"Continue to Payment"})]})]})});var n},ot=({isOpen:e,onClose:t})=>e?Ue.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Ue.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[Ue.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(X,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Terms and Conditions"})]}),Ue.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 transition-colors",children:Ue.jsx(m,{className:"h-6 w-6"})})]}),Ue.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[Ue.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsxs("div",{className:"flex items-center mb-3",children:[Ue.jsx(G,{className:"h-5 w-5 text-[#4f46e5] mr-2"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"1. Introduction"})]}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:'Welcome to Dumb Rent NYC ("we," "our," or "us"). These Terms and Conditions ("Terms") govern your use of our website and services located at dumbrent.com (the "Service") operated by Dumb Rent Inc.'}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By accessing or using our Service, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access the Service."})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsxs("div",{className:"flex items-center mb-3",children:[Ue.jsx(K,{className:"h-5 w-5 text-[#4f46e5] mr-2"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2. User Accounts"})]}),Ue.jsxs("div",{className:"space-y-3 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"2.1 Account Creation:"})," To access certain features of our Service, you must create an account. You agree to provide accurate, current, and complete information during registration."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"2.2 Account Security:"})," You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"2.3 Account Types:"})," We offer different account types including tenant accounts and listing owner accounts, each with specific features and responsibilities."]})]})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsxs("div",{className:"flex items-center mb-3",children:[Ue.jsx(V,{className:"h-5 w-5 text-[#4f46e5] mr-2"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3. Listing Services"})]}),Ue.jsxs("div",{className:"space-y-3 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.1 Listing Accuracy:"})," Listing owners must provide accurate, complete, and up-to-date information about their properties. False or misleading information is strictly prohibited."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.2 Property Ownership:"})," By submitting a listing, you represent and warrant that you are the owner of the property or have proper authorization to list it."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.3 Listing Approval:"})," All listings are subject to our review and approval process. We reserve the right to reject or remove any listing that violates these Terms."]})]})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsxs("div",{className:"flex items-center mb-3",children:[Ue.jsx(Q,{className:"h-5 w-5 text-[#4f46e5] mr-2"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4. Payment Terms"})]}),Ue.jsxs("div",{className:"space-y-3 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.1 Subscription Fees:"})," Listing owners must pay subscription fees to publish their listings. Our pricing structure is as follows:"]}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[Ue.jsx("li",{children:"First 30 days: $100"}),Ue.jsx("li",{children:"Second 30 days: $50"}),Ue.jsx("li",{children:"Third 30 days: $25"}),Ue.jsx("li",{children:"After 90 days: Free"})]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.2 Payment Processing:"})," All payments are processed securely through our payment partners. We do not store your payment information."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.3 Refunds:"})," Subscription fees are generally non-refundable. However, we may provide refunds at our sole discretion in exceptional circumstances."]})]})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsxs("div",{className:"flex items-center mb-3",children:[Ue.jsx(Z,{className:"h-5 w-5 text-[#4f46e5] mr-2"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5. User Conduct"})]}),Ue.jsxs("div",{className:"space-y-3 text-gray-700",children:[Ue.jsx("p",{children:"You agree not to use our Service to:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[Ue.jsx("li",{children:"Violate any applicable laws or regulations"}),Ue.jsx("li",{children:"Post false, misleading, or fraudulent content"}),Ue.jsx("li",{children:"Harass, abuse, or harm other users"}),Ue.jsx("li",{children:"Spam or send unsolicited communications"}),Ue.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),Ue.jsx("li",{children:"Interfere with the proper functioning of our Service"})]})]})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"6. Intellectual Property"}),Ue.jsxs("div",{className:"space-y-3 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.1 Our Content:"})," The Service and its original content, features, and functionality are owned by Dumb Rent Inc. and are protected by international copyright, trademark, and other intellectual property laws."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.2 User Content:"})," You retain ownership of content you submit to our Service. However, by submitting content, you grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content."]})]})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"7. Limitation of Liability"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To the maximum extent permitted by law, Dumb Rent Inc. shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of profits, data, or use, arising out of or relating to your use of the Service."})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"8. Governing Law"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of the State of New York, without regard to its conflict of law provisions."})]}),Ue.jsxs("section",{className:"mb-6",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"9. Contact Information"}),Ue.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[Ue.jsx("p",{children:Ue.jsx("strong",{children:"Dumb Rent Inc."})}),Ue.jsx("p",{children:"123 Broadway, New York, NY 10001"}),Ue.jsx("p",{children:"Email: legal@dumbrent.com"}),Ue.jsx("p",{children:"Phone: (212) 555-1234"})]})]})]}),Ue.jsx("div",{className:"border-t border-gray-200 p-6",children:Ue.jsxs("div",{className:"flex justify-between items-center",children:[Ue.jsx("p",{className:"text-sm text-gray-500",children:"By using our service, you agree to these terms and conditions."}),Ue.jsx("button",{onClick:t,className:"px-6 py-2 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"I Understand"})]})})]})}):null,lt="RFC3986",ct={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},dt=Array.isArray,ht=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),mt=1024;function ut(e,t){if(dt(e)){const s=[];for(let a=0;a<e.length;a+=1)s.push(t(e[a]));return s}return t(e)}const pt=Object.prototype.hasOwnProperty,gt={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},xt=Array.isArray,ft=Array.prototype.push,bt=function(e,t){ft.apply(e,xt(t)?t:[t])},yt=Date.prototype.toISOString,jt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,s,a,r)=>{if(0===e.length)return e;let n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===s)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let i="";for(let o=0;o<n.length;o+=mt){const e=n.length>=mt?n.slice(o,o+mt):n,t=[];for(let s=0;s<e.length;++s){let a=e.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||"RFC1738"===r&&(40===a||41===a)?t[t.length]=e.charAt(s):a<128?t[t.length]=ht[a]:a<2048?t[t.length]=ht[192|a>>6]+ht[128|63&a]:a<55296||a>=57344?t[t.length]=ht[224|a>>12]+ht[128|a>>6&63]+ht[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(s)),t[t.length]=ht[240|a>>18]+ht[128|a>>12&63]+ht[128|a>>6&63]+ht[128|63&a])}i+=t.join("")}return i},encodeValuesOnly:!1,format:lt,formatter:ct[lt],indices:!1,serializeDate:e=>yt.call(e),skipNulls:!1,strictNullHandling:!1};const wt={};function vt(e,t,s,a,r,n,i,o,l,c,d,h,m,u,p,g,x,f){let b=e,y=f,j=0,w=!1;for(;void 0!==(y=y.get(wt))&&!w;){const t=y.get(e);if(j+=1,void 0!==t){if(t===j)throw new RangeError("Cyclic object value");w=!0}void 0===y.get(wt)&&(j=0)}if("function"==typeof c?b=c(t,b):b instanceof Date?b=null==m?void 0:m(b):"comma"===s&&xt(b)&&(b=ut(b,(function(e){return e instanceof Date?null==m?void 0:m(e):e}))),null===b){if(n)return l&&!g?l(t,jt.encoder,x,"key",u):t;b=""}if("string"==typeof(v=b)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}(b)){if(l){const e=g?t:l(t,jt.encoder,x,"key",u);return[(null==p?void 0:p(e))+"="+(null==p?void 0:p(l(b,jt.encoder,x,"value",u)))]}return[(null==p?void 0:p(t))+"="+(null==p?void 0:p(String(b)))]}var v;const N=[];if(void 0===b)return N;let _;if("comma"===s&&xt(b))g&&l&&(b=ut(b,l)),_=[{value:b.length>0?b.join(",")||null:void 0}];else if(xt(c))_=c;else{const e=Object.keys(b);_=d?e.sort(d):e}const S=o?String(t).replace(/\./g,"%2E"):String(t),k=a&&xt(b)&&1===b.length?S+"[]":S;if(r&&xt(b)&&0===b.length)return k+"[]";for(let I=0;I<_.length;++I){const t=_[I],y="object"==typeof t&&void 0!==t.value?t.value:b[t];if(i&&null===y)continue;const w=h&&o?t.replace(/\./g,"%2E"):t,v=xt(b)?"function"==typeof s?s(k,w):k:k+(h?"."+w:"["+w+"]");f.set(e,j);const S=new WeakMap;S.set(wt,f),bt(N,vt(y,v,s,a,r,n,i,o,"comma"===s&&g&&xt(b)?null:l,c,d,h,m,u,p,g,x,S))}return N}function Nt(e,t={}){let s=e;const a=function(e=jt){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||jt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=lt;if(void 0!==e.format){if(!pt.call(ct,e.format))throw new TypeError("Unknown format option provided.");s=e.format}const a=ct[s];let r,n=jt.filter;if(("function"==typeof e.filter||xt(e.filter))&&(n=e.filter),r=e.arrayFormat&&e.arrayFormat in gt?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":jt.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=void 0===e.allowDots?1==!!e.encodeDotInKeys||jt.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:jt.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:jt.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:jt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?jt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:jt.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:jt.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:jt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:jt.encodeValuesOnly,filter:n,format:s,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:jt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:jt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:jt.strictNullHandling}}(t);let r,n;"function"==typeof a.filter?(n=a.filter,s=n("",s)):xt(a.filter)&&(n=a.filter,r=n);const i=[];if("object"!=typeof s||null===s)return"";const o=gt[a.arrayFormat],l="comma"===o&&a.commaRoundTrip;r||(r=Object.keys(s)),a.sort&&r.sort(a.sort);const c=new WeakMap;for(let m=0;m<r.length;++m){const e=r[m];a.skipNulls&&null===s[e]||bt(i,vt(s[e],e,o,l,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,c))}const d=i.join(a.delimiter);let h=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}const _t="4.104.0";let St,kt,It,Ct,Pt,At,Et,Tt,Ut,Dt=!1;class Rt{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const $t=()=>{St||function(e,t={auto:!1}){if(Dt)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(St)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${St}'\``);Dt=t.auto,St=e.kind,kt=e.fetch,It=e.FormData,Ct=e.File,Pt=e.ReadableStream,At=e.getMultipartRequestOptions,Et=e.getDefaultAgent,Tt=e.fileFromPath,Ut=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import â¦ from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let s,a,r,n;try{s=fetch,a=Request,r=Response,n=Headers}catch(Zi){throw new Error(`this environment is missing the following Web Fetch API type: ${Zi.message}. ${t}`)}return{kind:"web",fetch:s,Request:a,Response:r,Headers:n,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new Rt(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0})};$t();class Lt extends Error{}class Ft extends Lt{constructor(e,t,s,a){super(`${Ft.makeMessage(e,t,s)}`),this.status=e,this.headers=a,this.request_id=null==a?void 0:a["x-request-id"],this.error=t;const r=t;this.code=null==r?void 0:r.code,this.param=null==r?void 0:r.param,this.type=null==r?void 0:r.type}static makeMessage(e,t,s){const a=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,s,a){if(!e||!a)return new qt({message:s,cause:Fs(t)});const r=null==t?void 0:t.error;return 400===e?new Mt(e,r,s,a):401===e?new Wt(e,r,s,a):403===e?new Ht(e,r,s,a):404===e?new Yt(e,r,s,a):409===e?new zt(e,r,s,a):422===e?new Vt(e,r,s,a):429===e?new Jt(e,r,s,a):e>=500?new Xt(e,r,s,a):new Ft(e,r,s,a)}}class Bt extends Ft{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qt extends Ft{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Ot extends qt{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Mt extends Ft{}class Wt extends Ft{}class Ht extends Ft{}class Yt extends Ft{}class zt extends Ft{}class Vt extends Ft{}class Jt extends Ft{}class Xt extends Ft{}class Gt extends Lt{constructor(){super("Could not parse response content as the length limit was reached")}}class Kt extends Lt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Qt,Zt=function(e,t,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,s):r?r.value=s:t.set(e,s),s},es=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};class ts{constructor(){Qt.set(this,void 0),this.buffer=new Uint8Array,Zt(this,Qt,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(new TextEncoder).encode(e):e;let s=new Uint8Array(this.buffer.length+t.length);s.set(this.buffer),s.set(t,this.buffer.length),this.buffer=s;const a=[];let r;for(;null!=(r=ss(this.buffer,es(this,Qt,"f")));){if(r.carriage&&null==es(this,Qt,"f")){Zt(this,Qt,r.index,"f");continue}if(null!=es(this,Qt,"f")&&(r.index!==es(this,Qt,"f")+1||r.carriage)){a.push(this.decodeText(this.buffer.slice(0,es(this,Qt,"f")-1))),this.buffer=this.buffer.slice(es(this,Qt,"f")),Zt(this,Qt,null,"f");continue}const e=null!==es(this,Qt,"f")?r.preceding-1:r.preceding,t=this.decodeText(this.buffer.slice(0,e));a.push(t),this.buffer=this.buffer.slice(r.index),Zt(this,Qt,null,"f")}return a}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Lt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Lt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Lt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}function ss(e,t){for(let s=t??0;s<e.length;s++){if(10===e[s])return{preceding:s,index:s+1,carriage:!1};if(13===e[s])return{preceding:s,index:s+1,carriage:!0}}return null}function as(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}function rs(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}Qt=new WeakMap,ts.NEWLINE_CHARS=new Set(["\n","\r"]),ts.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class ns{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let s=!1;return new ns((async function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const s of async function*(e,t){if(!e.body)throw t.abort(),new Lt("Attempted to iterate over a response with no body");const s=new is,a=new ts,r=rs(e.body);for await(const n of async function*(e){let t=new Uint8Array;for await(const s of e){if(null==s)continue;const e=s instanceof ArrayBuffer?new Uint8Array(s):"string"==typeof s?(new TextEncoder).encode(s):s;let a,r=new Uint8Array(t.length+e.length);for(r.set(t),r.set(e,t.length),t=r;-1!==(a=as(t));)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}(r))for(const e of a.decode(n)){const t=s.decode(e);t&&(yield t)}for(const n of a.flush()){const e=s.decode(n);e&&(yield e)}}(e,t))if(!a)if(s.data.startsWith("[DONE]"))a=!0;else if(null===s.event||s.event.startsWith("response.")||s.event.startsWith("transcript.")){let t;try{t=JSON.parse(s.data)}catch(r){throw r}if(t&&t.error)throw new Ft(void 0,t.error,void 0,Ss(e.headers));yield t}else{let e;try{e=JSON.parse(s.data)}catch(r){throw r}if("error"==s.event)throw new Ft(void 0,e.error,e.message,void 0);yield{event:s.event,data:e}}a=!0}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;throw r}finally{a||t.abort()}}),t)}static fromReadableStream(e,t){let s=!1;return new ns((async function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const t of async function*(){const t=new ts,s=rs(e);for await(const e of s)for(const s of t.decode(e))yield s;for(const e of t.flush())yield e}())a||t&&(yield JSON.parse(t));a=!0}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;throw r}finally{a||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],s=this.iterator(),a=a=>({next:()=>{if(0===a.length){const a=s.next();e.push(a),t.push(a)}return a.shift()}});return[new ns((()=>a(e)),this.controller),new ns((()=>a(t)),this.controller)]}toReadableStream(){const e=this;let t;const s=new TextEncoder;return new Pt({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:a,done:r}=await t.next();if(r)return e.close();const n=s.encode(JSON.stringify(a)+"\n");e.enqueue(n)}catch(a){e.error(a)}},async cancel(){var e;await(null==(e=t.return)?void 0:e.call(t))}})}}class is{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,s,a]=function(e,t){const s=e.indexOf(t);if(-1!==s)return[e.substring(0,s),t,e.substring(s+t.length)];return[e,"",""]}(e,":");return a.startsWith(" ")&&(a=a.substring(1)),"event"===t?this.event=a:"data"===t&&this.data.push(a),null}}const os=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,ls=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&cs(e),cs=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function ds(e,t,s){var a;if(e=await e,ls(e))return e;if(os(e)){const a=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const r=cs(a)?[await a.arrayBuffer()]:[a];return new Ct(r,t,s)}const r=await async function(e){var t;let s=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(cs(e))s.push(await e.arrayBuffer());else{if(!ms(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${null==(t=null==e?void 0:e.constructor)?void 0:t.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const t of e)s.push(t)}return s}(e);if(t||(t=function(e){var t;return hs(e.name)||hs(e.filename)||(null==(t=hs(e.path))?void 0:t.split(/[\\/]/).pop())}(e)??"unknown_file"),!(null==s?void 0:s.type)){const e=null==(a=r[0])?void 0:a.type;"string"==typeof e&&(s={...s,type:e})}return new Ct(r,t,s)}const hs=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,ms=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],us=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],ps=async e=>{const t=await gs(e.body);return At(t,e)},gs=async e=>{const t=new It;return await Promise.all(Object.entries(e||{}).map((([e,s])=>xs(t,e,s)))),t},xs=async(e,t,s)=>{if(void 0!==s){if(null==s)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)e.append(t,String(s));else if((e=>ls(e)||os(e)||Ut(e))(s)){const a=await ds(s);e.append(t,a)}else if(Array.isArray(s))await Promise.all(s.map((s=>xs(e,t+"[]",s))));else{if("object"!=typeof s)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`);await Promise.all(Object.entries(s).map((([s,a])=>xs(e,`${t}[${s}]`,a))))}}};var fs,bs={};async function ys(e){var t;const{response:s}=e;if(e.options.stream)return Hs("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller):ns.fromSSEResponse(s,e.controller);if(204===s.status)return null;if(e.options.__binaryResponse)return s;const a=s.headers.get("content-type"),r=null==(t=null==a?void 0:a.split(";")[0])?void 0:t.trim();if((null==r?void 0:r.includes("application/json"))||(null==r?void 0:r.endsWith("+json"))){const e=await s.json();return Hs("response",s.status,s.url,s.headers,e),js(e,s)}const n=await s.text();return Hs("response",s.status,s.url,s.headers,n),n}function js(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}$t();class ws extends Promise{constructor(e,t=ys){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new ws(this.responsePromise,(async t=>js(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class vs{constructor({baseURL:e,maxRetries:t=2,timeout:s=6e5,httpAgent:a,fetch:r}){this.baseURL=e,this.maxRetries=Ls("maxRetries",t),this.timeout=Ls("timeout",s),this.httpAgent=a,this.fetch=r??kt}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ts(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Ys()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,s){return this.request(Promise.resolve(s).then((async s=>{const a=s&&cs(null==s?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(null==s?void 0:s.body)instanceof DataView?s.body:(null==s?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(null==s?void 0:s.body)?new DataView(s.body.buffer):null==s?void 0:s.body;return{method:e,path:t,...s,body:a}})))}getAPIList(e,t,s){return this.requestAPIList(t,{method:"get",path:e,...s})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var s;const a={...e},{method:r,path:n,query:i,headers:o={}}=a,l=ArrayBuffer.isView(a.body)||a.__binaryRequest&&"string"==typeof a.body?a.body:us(a.body)?a.body.body:a.body?JSON.stringify(a.body,null,2):null,c=this.calculateContentLength(l),d=this.buildURL(n,i);"timeout"in a&&Ls("timeout",a.timeout),a.timeout=a.timeout??this.timeout;const h=a.httpAgent??this.httpAgent??Et(d),m=a.timeout+1e3;"number"==typeof(null==(s=null==h?void 0:h.options)?void 0:s.timeout)&&m>(h.options.timeout??0)&&(h.options.timeout=m),this.idempotencyHeader&&"get"!==r&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:r,...l&&{body:l},headers:this.buildHeaders({options:a,headers:o,contentLength:c,retryCount:t}),...h&&{agent:h},signal:a.signal??null},url:d,timeout:a.timeout}}buildHeaders({options:e,headers:t,contentLength:s,retryCount:a}){const r={};s&&(r["content-length"]=s);const n=this.defaultHeaders(e);return Ms(r,n),Ms(r,t),us(e.body)&&"node"!==St&&delete r["content-type"],void 0===zs(n,"x-stainless-retry-count")&&void 0===zs(t,"x-stainless-retry-count")&&(r["x-stainless-retry-count"]=String(a)),void 0===zs(n,"x-stainless-timeout")&&void 0===zs(t,"x-stainless-timeout")&&e.timeout&&(r["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(r,t),r}async prepareOptions(e){}async prepareRequest(e,{url:t,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,s,a){return Ft.generate(e,t,s,a)}request(e,t=null){return new ws(this.makeRequest(e,t))}async makeRequest(e,t){var s,a;const r=await e,n=r.maxRetries??this.maxRetries;null==t&&(t=n),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:n-t});if(await this.prepareRequest(i,{url:o,options:r}),Hs("request",o,r,i.headers),null==(s=r.signal)?void 0:s.aborted)throw new Bt;const c=new AbortController,d=await this.fetchWithTimeout(o,i,l,c).catch(Fs);if(d instanceof Error){if(null==(a=r.signal)?void 0:a.aborted)throw new Bt;if(t)return this.retryRequest(r,t);if("AbortError"===d.name)throw new Ot;throw new qt({cause:d})}const h=Ss(d.headers);if(!d.ok){if(t&&this.shouldRetry(d)){return Hs(`response (error; ${`retrying, ${t} attempts remaining`})`,d.status,o,h),this.retryRequest(r,t,h)}const e=await d.text().catch((e=>Fs(e).message)),s=Us(e),a=s?void 0:e;Hs(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,d.status,o,h,a);throw this.makeStatusError(d.status,s,a,h)}return{response:d,options:r,controller:c}}requestAPIList(e,t){const s=this.makeRequest(t,null);return new _s(this,s,e)}buildURL(e,t){const s=Rs(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return qs(a)||(t={...a,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Lt(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,s,a){const{signal:r,...n}=t||{};r&&r.addEventListener("abort",(()=>a.abort()));const i=setTimeout((()=>a.abort()),s),o={signal:a.signal,...n};return o.method&&(o.method=o.method.toUpperCase()),this.fetch.call(void 0,e,o).finally((()=>{clearTimeout(i)}))}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,s){let a;const r=null==s?void 0:s["retry-after-ms"];if(r){const e=parseFloat(r);Number.isNaN(e)||(a=e)}const n=null==s?void 0:s["retry-after"];if(n&&!a){const e=parseFloat(n);a=Number.isNaN(e)?Date.parse(n)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){const s=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,s)}return await $s(a),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e;return Math.min(.5*Math.pow(2,s),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${_t}`}}class Ns{constructor(e,t,s,a){fs.set(this,void 0),function(e,t,s,a,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(e,s)}(this,fs,e),this.options=a,this.response=t,this.body=s}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Lt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const s=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,a]of s)e.url.searchParams.set(t,a);t.query=void 0,t.path=e.url.toString()}return await function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)}(this,fs,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(fs=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class _s extends ws{constructor(e,t,s){super(t,(async t=>new s(e,t.response,await ys(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Ss=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const s=t.toString();return e[s.toLowerCase()]||e[s]}}),ks={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Is=e=>"object"==typeof e&&null!==e&&!qs(e)&&Object.keys(e).every((e=>Os(ks,e))),Cs=()=>{var e;if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_t,"X-Stainless-OS":As(Deno.build.os),"X-Stainless-Arch":Ps(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:(null==(e=Deno.version)?void 0:e.deno)??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_t,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_t,"X-Stainless-OS":As(process.platform),"X-Stainless-Arch":Ps(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:s}of e){const e=s.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_t,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_t,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Ps=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",As=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Es;const Ts=()=>Es??(Es=Cs()),Us=e=>{try{return JSON.parse(e)}catch(t){return}},Ds=/^[a-z][a-z0-9+.-]*:/i,Rs=e=>Ds.test(e),$s=e=>new Promise((t=>setTimeout(t,e))),Ls=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Lt(`${e} must be an integer`);if(t<0)throw new Lt(`${e} must be a positive integer`);return t},Fs=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Bs=e=>{var t,s,a,r;return"undefined"!=typeof process?(null==(t=null==bs?void 0:bs[e])?void 0:t.trim())??void 0:"undefined"!=typeof Deno?null==(r=null==(a=null==(s=Deno.env)?void 0:s.get)?void 0:a.call(s,e))?void 0:r.trim():void 0};function qs(e){if(!e)return!0;for(const t in e)return!1;return!0}function Os(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ms(e,t){for(const s in t){if(!Os(t,s))continue;const a=s.toLowerCase();if(!a)continue;const r=t[s];null===r?delete e[a]:void 0!==r&&(e[a]=r)}}const Ws=new Set(["authorization","api-key"]);function Hs(e,...t){if("undefined"!=typeof process&&"true"===(null==bs?void 0:bs.DEBUG)){t.map((e=>{if(!e)return e;if(e.headers){const t={...e,headers:{...e.headers}};for(const s in e.headers)Ws.has(s.toLowerCase())&&(t.headers[s]="REDACTED");return t}let t=null;for(const s in e)Ws.has(s.toLowerCase())&&(t??(t={...e}),t[s]="REDACTED");return t??e}))}}const Ys=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),zs=(e,t)=>{var s;const a=t.toLowerCase();if((e=>"function"==typeof(null==e?void 0:e.get))(e)){const r=(null==(s=t[0])?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,((e,t,s)=>t+s.toUpperCase()));for(const s of[t,a,t.toUpperCase(),r]){const t=e.get(s);if(t)return t}}for(const[r,n]of Object.entries(e))if(r.toLowerCase()===a)return Array.isArray(n)?(n.length,n[0]):n};function Vs(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class Js extends Ns{constructor(e,t,s,a){super(e,t,s,a),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Xs extends Ns{constructor(e,t,s,a){super(e,t,s,a),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e;const t=this.getPaginatedItems();if(!t.length)return null;const s=null==(e=t[t.length-1])?void 0:e.id;return s?{params:{after:s}}:null}}class Gs{constructor(e){this._client=e}}let Ks=class extends Gs{list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,ea,{query:t,...s})}},Qs=class extends Gs{constructor(){super(...arguments),this.messages=new Ks(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,s){return this._client.post(`/chat/completions/${e}`,{body:t,...s})}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/chat/completions",Zs,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}};class Zs extends Xs{}class ea extends Xs{}Qs.ChatCompletionsPage=Zs,Qs.Messages=Ks;let ta=class extends Gs{constructor(){super(...arguments),this.completions=new Qs(this._client)}};ta.Completions=Qs,ta.ChatCompletionsPage=Zs;class sa extends Gs{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...null==t?void 0:t.headers},__binaryResponse:!0})}}class aa extends Gs{create(e,t){return this._client.post("/audio/transcriptions",ps({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}}))}}class ra extends Gs{create(e,t){return this._client.post("/audio/translations",ps({body:e,...t,__metadata:{model:e.model}}))}}class na extends Gs{constructor(){super(...arguments),this.transcriptions=new aa(this._client),this.translations=new ra(this._client),this.speech=new sa(this._client)}}na.Transcriptions=aa,na.Translations=ra,na.Speech=sa;class ia extends Gs{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/batches",oa,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class oa extends Xs{}ia.BatchesPage=oa;var la,ca,da,ha,ma,ua,pa,ga,xa,fa,ba,ya,ja,wa=function(e,t,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,s):r?r.value=s:t.set(e,s),s},va=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};class Na{constructor(){la.add(this),this.controller=new AbortController,ca.set(this,void 0),da.set(this,(()=>{})),ha.set(this,(()=>{})),ma.set(this,void 0),ua.set(this,(()=>{})),pa.set(this,(()=>{})),ga.set(this,{}),xa.set(this,!1),fa.set(this,!1),ba.set(this,!1),ya.set(this,!1),wa(this,ca,new Promise(((e,t)=>{wa(this,da,e,"f"),wa(this,ha,t,"f")})),"f"),wa(this,ma,new Promise(((e,t)=>{wa(this,ua,e,"f"),wa(this,pa,t,"f")})),"f"),va(this,ca,"f").catch((()=>{})),va(this,ma,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),va(this,la,"m",ja).bind(this))}),0)}_connected(){this.ended||(va(this,da,"f").call(this),this._emit("connect"))}get ended(){return va(this,xa,"f")}get errored(){return va(this,fa,"f")}get aborted(){return va(this,ba,"f")}abort(){this.controller.abort()}on(e,t){return(va(this,ga,"f")[e]||(va(this,ga,"f")[e]=[])).push({listener:t}),this}off(e,t){const s=va(this,ga,"f")[e];if(!s)return this;const a=s.findIndex((e=>e.listener===t));return a>=0&&s.splice(a,1),this}once(e,t){return(va(this,ga,"f")[e]||(va(this,ga,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,s)=>{wa(this,ya,!0,"f"),"error"!==e&&this.once("error",s),this.once(e,t)}))}async done(){wa(this,ya,!0,"f"),await va(this,ma,"f")}_emit(e,...t){if(va(this,xa,"f"))return;"end"===e&&(wa(this,xa,!0,"f"),va(this,ua,"f").call(this));const s=va(this,ga,"f")[e];if(s&&(va(this,ga,"f")[e]=s.filter((e=>!e.once)),s.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return va(this,ya,"f")||(null==s?void 0:s.length)||Promise.reject(e),va(this,ha,"f").call(this,e),va(this,pa,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];va(this,ya,"f")||(null==s?void 0:s.length)||Promise.reject(e),va(this,ha,"f").call(this,e),va(this,pa,"f").call(this,e),this._emit("end")}}_emitFinal(){}}ca=new WeakMap,da=new WeakMap,ha=new WeakMap,ma=new WeakMap,ua=new WeakMap,pa=new WeakMap,ga=new WeakMap,xa=new WeakMap,fa=new WeakMap,ba=new WeakMap,ya=new WeakMap,la=new WeakSet,ja=function(e){if(wa(this,fa,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Bt),e instanceof Bt)return wa(this,ba,!0,"f"),this._emit("abort",e);if(e instanceof Lt)return this._emit("error",e);if(e instanceof Error){const t=new Lt(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Lt(String(e)))};var _a,Sa,ka,Ia,Ca,Pa,Aa,Ea,Ta,Ua,Da,Ra,$a,La,Fa,Ba,qa,Oa,Ma,Wa,Ha,Ya,za=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)},Va=function(e,t,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,s):r?r.value=s:t.set(e,s),s};class Ja extends Na{constructor(){super(...arguments),_a.add(this),Sa.set(this,[]),ka.set(this,{}),Ia.set(this,{}),Ca.set(this,void 0),Pa.set(this,void 0),Aa.set(this,void 0),Ea.set(this,void 0),Ta.set(this,void 0),Ua.set(this,void 0),Da.set(this,void 0),Ra.set(this,void 0),$a.set(this,void 0)}[(Sa=new WeakMap,ka=new WeakMap,Ia=new WeakMap,Ca=new WeakMap,Pa=new WeakMap,Aa=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,Ua=new WeakMap,Da=new WeakMap,Ra=new WeakMap,$a=new WeakMap,_a=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let s=!1;return this.on("event",(s=>{const a=t.shift();a?a.resolve(s):e.push(s)})),this.on("end",(()=>{s=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),this.on("error",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),{next:async()=>{if(!e.length)return s?{value:void 0,done:!0}:new Promise(((e,s)=>t.push({resolve:e,reject:s}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Ja;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){var s;const a=null==t?void 0:t.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=ns.fromReadableStream(e,this.controller);for await(const n of r)za(this,_a,"m",La).call(this,n);if(null==(s=r.controller.signal)?void 0:s.aborted)throw new Bt;return this._addRun(za(this,_a,"m",Fa).call(this))}toReadableStream(){return new ns(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,s,a,r){const n=new Ja;return n._run((()=>n._runToolAssistantStream(e,t,s,a,{...r,headers:{...null==r?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}}))),n}async _createToolAssistantStream(e,t,s,a,r){var n;const i=null==r?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const o={...a,stream:!0},l=await e.submitToolOutputs(t,s,o,{...r,signal:this.controller.signal});this._connected();for await(const c of l)za(this,_a,"m",La).call(this,c);if(null==(n=l.controller.signal)?void 0:n.aborted)throw new Bt;return this._addRun(za(this,_a,"m",Fa).call(this))}static createThreadAssistantStream(e,t,s){const a=new Ja;return a._run((()=>a._threadAssistantStream(e,t,{...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}}))),a}static createAssistantStream(e,t,s,a){const r=new Ja;return r._run((()=>r._runAssistantStream(e,t,s,{...a,headers:{...null==a?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}}))),r}currentEvent(){return za(this,Da,"f")}currentRun(){return za(this,Ra,"f")}currentMessageSnapshot(){return za(this,Ca,"f")}currentRunStepSnapshot(){return za(this,$a,"f")}async finalRunSteps(){return await this.done(),Object.values(za(this,ka,"f"))}async finalMessages(){return await this.done(),Object.values(za(this,Ia,"f"))}async finalRun(){if(await this.done(),!za(this,Pa,"f"))throw Error("Final run was not received.");return za(this,Pa,"f")}async _createThreadAssistantStream(e,t,s){var a;const r=null==s?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const n={...t,stream:!0},i=await e.createAndRun(n,{...s,signal:this.controller.signal});this._connected();for await(const o of i)za(this,_a,"m",La).call(this,o);if(null==(a=i.controller.signal)?void 0:a.aborted)throw new Bt;return this._addRun(za(this,_a,"m",Fa).call(this))}async _createAssistantStream(e,t,s,a){var r;const n=null==a?void 0:a.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const i={...s,stream:!0},o=await e.create(t,i,{...a,signal:this.controller.signal});this._connected();for await(const l of o)za(this,_a,"m",La).call(this,l);if(null==(r=o.controller.signal)?void 0:r.aborted)throw new Bt;return this._addRun(za(this,_a,"m",Fa).call(this))}static accumulateDelta(e,t){for(const[s,a]of Object.entries(t)){if(!e.hasOwnProperty(s)){e[s]=a;continue}let t=e[s];if(null!=t)if("index"!==s&&"type"!==s){if("string"==typeof t&&"string"==typeof a)t+=a;else if("number"==typeof t&&"number"==typeof a)t+=a;else{if(!Vs(t)||!Vs(a)){if(Array.isArray(t)&&Array.isArray(a)){if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...a);continue}for(const e of a){if(!Vs(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const s=e.index;if(null==s)throw new Error("Expected array delta entry to have an `index` property");if("number"!=typeof s)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);const a=t[s];null==a?t.push(e):t[s]=this.accumulateDelta(a,e)}continue}throw Error(`Unhandled record type: ${s}, deltaValue: ${a}, accValue: ${t}`)}t=this.accumulateDelta(t,a)}e[s]=t}else e[s]=a;else e[s]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,t,s){return await this._createThreadAssistantStream(t,e,s)}async _runAssistantStream(e,t,s,a){return await this._createAssistantStream(t,e,s,a)}async _runToolAssistantStream(e,t,s,a,r){return await this._createToolAssistantStream(s,e,t,a,r)}}La=function(e){if(!this.ended)switch(Va(this,Da,e,"f"),za(this,_a,"m",Oa).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":za(this,_a,"m",Ya).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":za(this,_a,"m",qa).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":za(this,_a,"m",Ba).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Fa=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");if(!za(this,Pa,"f"))throw Error("Final run has not been received");return za(this,Pa,"f")},Ba=function(e){const[t,s]=za(this,_a,"m",Wa).call(this,e,za(this,Ca,"f"));Va(this,Ca,t,"f"),za(this,Ia,"f")[t.id]=t;for(const a of s){const e=t.content[a.index];"text"==(null==e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const s of e.data.delta.content){if("text"==s.type&&s.text){let e=s.text,a=t.content[s.index];if(!a||"text"!=a.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,a.text)}if(s.index!=za(this,Aa,"f")){if(za(this,Ea,"f"))switch(za(this,Ea,"f").type){case"text":this._emit("textDone",za(this,Ea,"f").text,za(this,Ca,"f"));break;case"image_file":this._emit("imageFileDone",za(this,Ea,"f").image_file,za(this,Ca,"f"))}Va(this,Aa,s.index,"f")}Va(this,Ea,t.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==za(this,Aa,"f")){const t=e.data.content[za(this,Aa,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,za(this,Ca,"f"));break;case"text":this._emit("textDone",t.text,za(this,Ca,"f"))}}za(this,Ca,"f")&&this._emit("messageDone",e.data),Va(this,Ca,void 0,"f")}},qa=function(e){const t=za(this,_a,"m",Ma).call(this,e);switch(Va(this,$a,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&"tool_calls"==s.step_details.type&&s.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of s.step_details.tool_calls)e.index==za(this,Ta,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(za(this,Ua,"f")&&this._emit("toolCallDone",za(this,Ua,"f")),Va(this,Ta,e.index,"f"),Va(this,Ua,t.step_details.tool_calls[e.index],"f"),za(this,Ua,"f")&&this._emit("toolCallCreated",za(this,Ua,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Va(this,$a,void 0,"f");"tool_calls"==e.data.step_details.type&&za(this,Ua,"f")&&(this._emit("toolCallDone",za(this,Ua,"f")),Va(this,Ua,void 0,"f")),this._emit("runStepDone",e.data,t)}},Oa=function(e){za(this,Sa,"f").push(e),this._emit("event",e)},Ma=function(e){switch(e.event){case"thread.run.step.created":return za(this,ka,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=za(this,ka,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const a=Ja.accumulateDelta(t,s.delta);za(this,ka,"f")[e.data.id]=a}return za(this,ka,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":za(this,ka,"f")[e.data.id]=e.data}if(za(this,ka,"f")[e.data.id])return za(this,ka,"f")[e.data.id];throw new Error("No snapshot available")},Wa=function(e,t){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const e of a.delta.content)if(e.index in t.content){let s=t.content[e.index];t.content[e.index]=za(this,_a,"m",Ha).call(this,e,s)}else t.content[e.index]=e,s.push(e);return[t,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ha=function(e,t){return Ja.accumulateDelta(t,e)},Ya=function(e){switch(Va(this,Ra,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Va(this,Pa,e.data,"f"),za(this,Ua,"f")&&(this._emit("toolCallDone",za(this,Ua,"f")),Va(this,Ua,void 0,"f"))}};class Xa extends Gs{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}update(e,t,s){return this._client.post(`/assistants/${e}`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/assistants",Ga,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}}class Ga extends Xs{}function Ka(e){return"function"==typeof e.parse}Xa.AssistantsPage=Ga;const Qa=e=>"assistant"===(null==e?void 0:e.role),Za=e=>"function"===(null==e?void 0:e.role),er=e=>"tool"===(null==e?void 0:e.role);function tr(e){return"auto-parseable-response-format"===(null==e?void 0:e.$brand)}function sr(e){return"auto-parseable-tool"===(null==e?void 0:e.$brand)}function ar(e,t){const s=e.choices.map((e=>{var s;if("length"===e.finish_reason)throw new Gt;if("content_filter"===e.finish_reason)throw new Kt;return{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:(null==(s=e.message.tool_calls)?void 0:s.map((e=>function(e,t){var s;const a=null==(s=e.tools)?void 0:s.find((e=>{var s;return(null==(s=e.function)?void 0:s.name)===t.function.name}));return{...t,function:{...t.function,parsed_arguments:sr(a)?a.$parseRaw(t.function.arguments):(null==a?void 0:a.function.strict)?JSON.parse(t.function.arguments):null}}}(t,e))))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?rr(t,e.message.content):null}}}));return{...e,choices:s}}function rr(e,t){var s,a;if("json_schema"!==(null==(s=e.response_format)?void 0:s.type))return null;if("json_schema"===(null==(a=e.response_format)?void 0:a.type)){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function nr(e,t){var s;if(!e)return!1;const a=null==(s=e.tools)?void 0:s.find((e=>{var s;return(null==(s=e.function)?void 0:s.name)===t.function.name}));return sr(a)||(null==a?void 0:a.function.strict)||!1}function ir(e){var t;return!!tr(e.response_format)||((null==(t=e.tools)?void 0:t.some((e=>sr(e)||"function"===e.type&&!0===e.function.strict)))??!1)}var or,lr,cr,dr,hr,mr,ur,pr,gr=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};const xr=10;class fr extends Na{constructor(){super(...arguments),or.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const s=null==(t=e.choices[0])?void 0:t.message;return s&&this._addMessage(s),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Za(e)||er(e))&&e.content)this._emit("functionCallResult",e.content);else if(Qa(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Qa(e)&&e.tool_calls)for(const s of e.tool_calls)"function"===s.type&&this._emit("functionCall",s.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Lt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),gr(this,or,"m",lr).call(this)}async finalMessage(){return await this.done(),gr(this,or,"m",cr).call(this)}async finalFunctionCall(){return await this.done(),gr(this,or,"m",dr).call(this)}async finalFunctionCallResult(){return await this.done(),gr(this,or,"m",hr).call(this)}async totalUsage(){return await this.done(),gr(this,or,"m",mr).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=gr(this,or,"m",cr).call(this);t&&this._emit("finalMessage",t);const s=gr(this,or,"m",lr).call(this);s&&this._emit("finalContent",s);const a=gr(this,or,"m",dr).call(this);a&&this._emit("finalFunctionCall",a);const r=gr(this,or,"m",hr).call(this);null!=r&&this._emit("finalFunctionCallResult",r),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",gr(this,or,"m",mr).call(this))}async _createChatCompletion(e,t,s){const a=null==s?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),gr(this,or,"m",ur).call(this,t);const r=await e.chat.completions.create({...t,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ar(r,t))}async _runChatCompletion(e,t,s){for(const a of t.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,t,s)}async _runFunctions(e,t,s){var a;const r="function",{function_call:n="auto",stream:i,...o}=t,l="string"!=typeof n&&(null==n?void 0:n.name),{maxChatCompletions:c=xr}=s||{},d={};for(const m of t.functions)d[m.name||m.function.name]=m;const h=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const m of t.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const t=null==(a=(await this._createChatCompletion(e,{...o,function_call:n,functions:h,messages:[...this.messages]},s)).choices[0])?void 0:a.message;if(!t)throw new Lt("missing message in ChatCompletion response");if(!t.function_call)return;const{name:i,arguments:c}=t.function_call,m=d[i];if(!m){const e=`Invalid function_call: ${JSON.stringify(i)}. Available options are: ${h.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:i,content:e});continue}if(l&&l!==i){const e=`Invalid function_call: ${JSON.stringify(i)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:i,content:e});continue}let u;try{u=Ka(m)?await m.parse(c):c}catch(Zi){this._addMessage({role:r,name:i,content:Zi instanceof Error?Zi.message:String(Zi)});continue}const p=await m.function(u,this),g=gr(this,or,"m",pr).call(this,p);if(this._addMessage({role:r,name:i,content:g}),l)return}}async _runTools(e,t,s){var a,r,n;const i="tool",{tool_choice:o="auto",stream:l,...c}=t,d="string"!=typeof o&&(null==(a=null==o?void 0:o.function)?void 0:a.name),{maxChatCompletions:h=xr}=s||{},m=t.tools.map((e=>{if(sr(e)){if(!e.$callback)throw new Lt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),u={};for(const g of m)"function"===g.type&&(u[g.function.name||g.function.function.name]=g.function);const p="tools"in t?m.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const g of t.messages)this._addMessage(g,!1);for(let g=0;g<h;++g){const t=null==(r=(await this._createChatCompletion(e,{...c,tool_choice:o,tools:p,messages:[...this.messages]},s)).choices[0])?void 0:r.message;if(!t)throw new Lt("missing message in ChatCompletion response");if(!(null==(n=t.tool_calls)?void 0:n.length))return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:s,arguments:a}=e.function,r=u[s];if(!r){const e=`Invalid tool_call: ${JSON.stringify(s)}. Available options are: ${Object.keys(u).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:t,content:e});continue}if(d&&d!==s){const e=`Invalid tool_call: ${JSON.stringify(s)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:i,tool_call_id:t,content:e});continue}let n;try{n=Ka(r)?await r.parse(a):a}catch(Zi){const s=Zi instanceof Error?Zi.message:String(Zi);this._addMessage({role:i,tool_call_id:t,content:s});continue}const o=await r.function(n,this),l=gr(this,or,"m",pr).call(this,o);if(this._addMessage({role:i,tool_call_id:t,content:l}),d)return}}}}or=new WeakSet,lr=function(){return gr(this,or,"m",cr).call(this).content??null},cr=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Qa(t)){const{function_call:e,...s}=t,a={...s,content:t.content??null,refusal:t.refusal??null};return e&&(a.function_call=e),a}}throw new Lt("stream ended without producing a ChatCompletionMessage with role=assistant")},dr=function(){var e,t;for(let s=this.messages.length-1;s>=0;s--){const a=this.messages[s];if(Qa(a)&&(null==a?void 0:a.function_call))return a.function_call;if(Qa(a)&&(null==(e=null==a?void 0:a.tool_calls)?void 0:e.length))return null==(t=a.tool_calls.at(-1))?void 0:t.function}},hr=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Za(t)&&null!=t.content)return t.content;if(er(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some((e=>{var s;return"assistant"===e.role&&(null==(s=e.tool_calls)?void 0:s.some((e=>"function"===e.type&&e.id===t.tool_call_id)))})))return t.content}},mr=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},ur=function(e){if(null!=e.n&&e.n>1)throw new Lt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},pr=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class br extends fr{static runFunctions(e,t,s){const a=new br,r={...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run((()=>a._runFunctions(e,t,r))),a}static runTools(e,t,s){const a=new br,r={...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run((()=>a._runTools(e,t,r))),a}_addMessage(e,t=!0){super._addMessage(e,t),Qa(e)&&e.content&&this._emit("content",e.content)}}const yr=1,jr=2,wr=4,vr=8,Nr=16,_r=32,Sr=64,kr=128,Ir=256,Cr=511;class Pr extends Error{}class Ar extends Error{}const Er=(e,t)=>{const s=e.length;let a=0;const r=e=>{throw new Pr(`${e} at position ${a}`)},n=e=>{throw new Ar(`${e} at position ${a}`)},i=()=>(h(),a>=s&&r("Unexpected end of input"),'"'===e[a]?o():"{"===e[a]?l():"["===e[a]?c():"null"===e.substring(a,a+4)||Nr&t&&s-a<4&&"null".startsWith(e.substring(a))?(a+=4,null):"true"===e.substring(a,a+4)||_r&t&&s-a<4&&"true".startsWith(e.substring(a))?(a+=4,!0):"false"===e.substring(a,a+5)||_r&t&&s-a<5&&"false".startsWith(e.substring(a))?(a+=5,!1):"Infinity"===e.substring(a,a+8)||kr&t&&s-a<8&&"Infinity".startsWith(e.substring(a))?(a+=8,1/0):"-Infinity"===e.substring(a,a+9)||Ir&t&&1<s-a&&s-a<9&&"-Infinity".startsWith(e.substring(a))?(a+=9,-1/0):"NaN"===e.substring(a,a+3)||Sr&t&&s-a<3&&"NaN".startsWith(e.substring(a))?(a+=3,NaN):d()),o=()=>{const i=a;let o=!1;for(a++;a<s&&('"'!==e[a]||o&&"\\"===e[a-1]);)o="\\"===e[a]&&!o,a++;if('"'==e.charAt(a))try{return JSON.parse(e.substring(i,++a-Number(o)))}catch(l){n(String(l))}else if(yr&t)try{return JSON.parse(e.substring(i,a-Number(o))+'"')}catch(l){return JSON.parse(e.substring(i,e.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{a++,h();const n={};try{for(;"}"!==e[a];){if(h(),a>=s&&vr&t)return n;const r=o();h(),a++;try{const e=i();Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(l){if(vr&t)return n;throw l}h(),","===e[a]&&a++}}catch(l){if(vr&t)return n;r("Expected '}' at end of object")}return a++,n},c=()=>{a++;const s=[];try{for(;"]"!==e[a];)s.push(i()),h(),","===e[a]&&a++}catch(n){if(wr&t)return s;r("Expected ']' at end of array")}return a++,s},d=()=>{if(0===a){"-"===e&&jr&t&&r("Not sure what '-' is");try{return JSON.parse(e)}catch(o){if(jr&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(l){}n(String(o))}}const i=a;for("-"===e[a]&&a++;e[a]&&!",]}".includes(e[a]);)a++;a!=s||jr&t||r("Unterminated number literal");try{return JSON.parse(e.substring(i,a))}catch(o){"-"===e.substring(i,a)&&jr&t&&r("Not sure what '-' is");try{return JSON.parse(e.substring(i,e.lastIndexOf("e")))}catch(l){n(String(l))}}},h=()=>{for(;a<s&&" \n\r\t".includes(e[a]);)a++};return i()},Tr=e=>function(e,t=Cr){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return Er(e.trim(),t)}(e,Cr^jr);var Ur,Dr,Rr,$r,Lr,Fr,Br,qr,Or,Mr,Wr,Hr,Yr=function(e,t,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,s):r?r.value=s:t.set(e,s),s},zr=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};class Vr extends fr{constructor(e){super(),Ur.add(this),Dr.set(this,void 0),Rr.set(this,void 0),$r.set(this,void 0),Yr(this,Dr,e,"f"),Yr(this,Rr,[],"f")}get currentChatCompletionSnapshot(){return zr(this,$r,"f")}static fromReadableStream(e){const t=new Vr(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,s){const a=new Vr(t);return a._run((()=>a._runChatCompletion(e,{...t,stream:!0},{...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}}))),a}async _createChatCompletion(e,t,s){var a;super._createChatCompletion;const r=null==s?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),zr(this,Ur,"m",Lr).call(this);const n=await e.chat.completions.create({...t,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const i of n)zr(this,Ur,"m",Br).call(this,i);if(null==(a=n.controller.signal)?void 0:a.aborted)throw new Bt;return this._addChatCompletion(zr(this,Ur,"m",Mr).call(this))}async _fromReadableStream(e,t){var s;const a=null==t?void 0:t.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),zr(this,Ur,"m",Lr).call(this),this._connected();const r=ns.fromReadableStream(e,this.controller);let n;for await(const i of r)n&&n!==i.id&&this._addChatCompletion(zr(this,Ur,"m",Mr).call(this)),zr(this,Ur,"m",Br).call(this,i),n=i.id;if(null==(s=r.controller.signal)?void 0:s.aborted)throw new Bt;return this._addChatCompletion(zr(this,Ur,"m",Mr).call(this))}[(Dr=new WeakMap,Rr=new WeakMap,$r=new WeakMap,Ur=new WeakSet,Lr=function(){this.ended||Yr(this,$r,void 0,"f")},Fr=function(e){let t=zr(this,Rr,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},zr(this,Rr,"f")[e.index]=t,t)},Br=function(e){var t,s,a,r,n,i,o,l,c,d,h,m,u,p,g;if(this.ended)return;const x=zr(this,Ur,"m",Hr).call(this,e);this._emit("chunk",e,x);for(const f of e.choices){const e=x.choices[f.index];null!=f.delta.content&&"assistant"===(null==(t=e.message)?void 0:t.role)&&(null==(s=e.message)?void 0:s.content)&&(this._emit("content",f.delta.content,e.message.content),this._emit("content.delta",{delta:f.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=f.delta.refusal&&"assistant"===(null==(a=e.message)?void 0:a.role)&&(null==(r=e.message)?void 0:r.refusal)&&this._emit("refusal.delta",{delta:f.delta.refusal,snapshot:e.message.refusal}),null!=(null==(n=f.logprobs)?void 0:n.content)&&"assistant"===(null==(i=e.message)?void 0:i.role)&&this._emit("logprobs.content.delta",{content:null==(o=f.logprobs)?void 0:o.content,snapshot:(null==(l=e.logprobs)?void 0:l.content)??[]}),null!=(null==(c=f.logprobs)?void 0:c.refusal)&&"assistant"===(null==(d=e.message)?void 0:d.role)&&this._emit("logprobs.refusal.delta",{refusal:null==(h=f.logprobs)?void 0:h.refusal,snapshot:(null==(m=e.logprobs)?void 0:m.refusal)??[]});const b=zr(this,Ur,"m",Fr).call(this,e);e.finish_reason&&(zr(this,Ur,"m",Or).call(this,e),null!=b.current_tool_call_index&&zr(this,Ur,"m",qr).call(this,e,b.current_tool_call_index));for(const t of f.delta.tool_calls??[])b.current_tool_call_index!==t.index&&(zr(this,Ur,"m",Or).call(this,e),null!=b.current_tool_call_index&&zr(this,Ur,"m",qr).call(this,e,b.current_tool_call_index)),b.current_tool_call_index=t.index;for(const t of f.delta.tool_calls??[]){const s=null==(u=e.message.tool_calls)?void 0:u[t.index];(null==s?void 0:s.type)&&("function"===(null==s?void 0:s.type)?this._emit("tool_calls.function.arguments.delta",{name:null==(p=s.function)?void 0:p.name,index:t.index,arguments:s.function.arguments,parsed_arguments:s.function.parsed_arguments,arguments_delta:(null==(g=t.function)?void 0:g.arguments)??""}):null==s||s.type)}}},qr=function(e,t){var s,a,r;if(zr(this,Ur,"m",Fr).call(this,e).done_tool_calls.has(t))return;const n=null==(s=e.message.tool_calls)?void 0:s[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=null==(r=null==(a=zr(this,Dr,"f"))?void 0:a.tools)?void 0:r.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:sr(e)?e.$parseRaw(n.function.arguments):(null==e?void 0:e.function.strict)?JSON.parse(n.function.arguments):null})}else n.type},Or=function(e){var t,s;const a=zr(this,Ur,"m",Fr).call(this,e);if(e.message.content&&!a.content_done){a.content_done=!0;const t=zr(this,Ur,"m",Wr).call(this);this._emit("content.done",{content:e.message.content,parsed:t?t.$parseRaw(e.message.content):null})}e.message.refusal&&!a.refusal_done&&(a.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),(null==(t=e.logprobs)?void 0:t.content)&&!a.logprobs_content_done&&(a.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),(null==(s=e.logprobs)?void 0:s.refusal)&&!a.logprobs_refusal_done&&(a.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},Mr=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");const e=zr(this,$r,"f");if(!e)throw new Lt("request ended without sending any chunks");return Yr(this,$r,void 0,"f"),Yr(this,Rr,[],"f"),function(e,t){const{id:s,choices:a,created:r,model:n,system_fingerprint:i,...o}=e,l={...o,id:s,choices:a.map((({message:t,finish_reason:s,index:a,logprobs:r,...n})=>{if(!s)throw new Lt(`missing finish_reason for choice ${a}`);const{content:i=null,function_call:o,tool_calls:l,...c}=t,d=t.role;if(!d)throw new Lt(`missing role for choice ${a}`);if(o){const{arguments:e,name:l}=o;if(null==e)throw new Lt(`missing function_call.arguments for choice ${a}`);if(!l)throw new Lt(`missing function_call.name for choice ${a}`);return{...n,message:{content:i,function_call:{arguments:e,name:l},role:d,refusal:t.refusal??null},finish_reason:s,index:a,logprobs:r}}return l?{...n,index:a,finish_reason:s,logprobs:r,message:{...c,role:d,content:i,refusal:t.refusal??null,tool_calls:l.map(((t,s)=>{const{function:r,type:n,id:i,...o}=t,{arguments:l,name:c,...d}=r||{};if(null==i)throw new Lt(`missing choices[${a}].tool_calls[${s}].id\n${Jr(e)}`);if(null==n)throw new Lt(`missing choices[${a}].tool_calls[${s}].type\n${Jr(e)}`);if(null==c)throw new Lt(`missing choices[${a}].tool_calls[${s}].function.name\n${Jr(e)}`);if(null==l)throw new Lt(`missing choices[${a}].tool_calls[${s}].function.arguments\n${Jr(e)}`);return{...o,id:i,type:n,function:{...d,name:c,arguments:l}}}))}}:{...n,message:{...c,content:i,role:d,refusal:t.refusal??null},finish_reason:s,index:a,logprobs:r}})),created:r,model:n,object:"chat.completion",...i?{system_fingerprint:i}:{}};return function(e,t){return t&&ir(t)?ar(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}})))}}(l,t)}(e,zr(this,Dr,"f"))},Wr=function(){var e;const t=null==(e=zr(this,Dr,"f"))?void 0:e.response_format;return tr(t)?t:null},Hr=function(e){var t,s,a,r;let n=zr(this,$r,"f");const{choices:i,...o}=e;n?Object.assign(n,o):n=Yr(this,$r,{...o,choices:[]},"f");for(const{delta:l,finish_reason:c,index:d,logprobs:h=null,...m}of e.choices){let e=n.choices[d];if(e||(e=n.choices[d]={finish_reason:c,index:d,message:{},logprobs:h,...m}),h)if(e.logprobs){const{content:a,refusal:r,...n}=h;Object.assign(e.logprobs,n),a&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...a)),r&&((s=e.logprobs).refusal??(s.refusal=[]),e.logprobs.refusal.push(...r))}else e.logprobs=Object.assign({},h);if(c&&(e.finish_reason=c,zr(this,Dr,"f")&&ir(zr(this,Dr,"f")))){if("length"===c)throw new Gt;if("content_filter"===c)throw new Kt}if(Object.assign(e,m),!l)continue;const{content:i,refusal:o,function_call:u,role:p,tool_calls:g,...x}=l;if(Object.assign(e.message,x),o&&(e.message.refusal=(e.message.refusal||"")+o),p&&(e.message.role=p),u&&(e.message.function_call?(u.name&&(e.message.function_call.name=u.name),u.arguments&&((a=e.message.function_call).arguments??(a.arguments=""),e.message.function_call.arguments+=u.arguments)):e.message.function_call=u),i&&(e.message.content=(e.message.content||"")+i,!e.message.refusal&&zr(this,Ur,"m",Wr).call(this)&&(e.message.parsed=Tr(e.message.content))),g){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:s,type:a,function:n,...i}of g){const o=(r=e.message.tool_calls)[t]??(r[t]={});Object.assign(o,i),s&&(o.id=s),a&&(o.type=a),n&&(o.function??(o.function={name:n.name??"",arguments:""})),(null==n?void 0:n.name)&&(o.function.name=n.name),(null==n?void 0:n.arguments)&&(o.function.arguments+=n.arguments,nr(zr(this,Dr,"f"),o)&&(o.function.parsed_arguments=Tr(o.function.arguments)))}}}return n},Symbol.asyncIterator)](){const e=[],t=[];let s=!1;return this.on("chunk",(s=>{const a=t.shift();a?a.resolve(s):e.push(s)})),this.on("end",(()=>{s=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),this.on("error",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),{next:async()=>{if(!e.length)return s?{value:void 0,done:!0}:new Promise(((e,s)=>t.push({resolve:e,reject:s}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ns(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Jr(e){return JSON.stringify(e)}class Xr extends Vr{static fromReadableStream(e){const t=new Xr(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,s){const a=new Xr(null),r={...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run((()=>a._runFunctions(e,t,r))),a}static runTools(e,t,s){const a=new Xr(t),r={...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run((()=>a._runTools(e,t,r))),a}}let Gr=class extends Gs{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new Lt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new Lt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...null==t?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>ar(t,e)))}runFunctions(e,t){return e.stream?Xr.runFunctions(this._client,e,t):br.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?Xr.runTools(this._client,e,t):br.runTools(this._client,e,t)}stream(e,t){return Vr.createChatCompletion(this._client,e,t)}};class Kr extends Gs{constructor(){super(...arguments),this.completions=new Gr(this._client)}}(Kr||(Kr={})).Completions=Gr;class Qr extends Gs{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}}class Zr extends Gs{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}}class en extends Gs{constructor(){super(...arguments),this.sessions=new Qr(this._client),this.transcriptionSessions=new Zr(this._client)}}en.Sessions=Qr,en.TranscriptionSessions=Zr;class tn extends Gs{create(e,t,s){return this._client.post(`/threads/${e}/messages`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get(`/threads/${e}/messages/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}update(e,t,s,a){return this._client.post(`/threads/${e}/messages/${t}`,{body:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers}})}list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,sn,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}del(e,t,s){return this._client.delete(`/threads/${e}/messages/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}}class sn extends Xs{}tn.MessagesPage=sn;class an extends Gs{retrieve(e,t,s,a={},r){return Is(a)?this.retrieve(e,t,s,{},a):this._client.get(`/threads/${e}/runs/${t}/steps/${s}`,{query:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...null==r?void 0:r.headers}})}list(e,t,s={},a){return Is(s)?this.list(e,t,{},s):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,rn,{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers}})}}class rn extends Xs{}an.RunStepsPage=rn;let nn=class extends Gs{constructor(){super(...arguments),this.steps=new an(this._client)}create(e,t,s){const{include:a,...r}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:a},body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers},stream:t.stream??!1})}retrieve(e,t,s){return this._client.get(`/threads/${e}/runs/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}update(e,t,s,a){return this._client.post(`/threads/${e}/runs/${t}`,{body:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers}})}list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,on,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}cancel(e,t,s){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}async createAndPoll(e,t,s){const a=await this.create(e,t,s);return await this.poll(e,a.id,s)}createAndStream(e,t,s){return Ja.createAssistantStream(e,this._client.beta.threads.runs,t,s)}async poll(e,t,s){const a={...null==s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for((null==s?void 0:s.pollIntervalMs)&&(a["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:r,response:n}=await this.retrieve(e,t,{...s,headers:{...null==s?void 0:s.headers,...a}}).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null==s?void 0:s.pollIntervalMs)e=s.pollIntervalMs;else{const t=n.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await $s(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,t,s){return Ja.createAssistantStream(e,this._client.beta.threads.runs,t,s)}submitToolOutputs(e,t,s,a){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,t,s,a){const r=await this.submitToolOutputs(e,t,s,a);return await this.poll(e,r.id,a)}submitToolOutputsStream(e,t,s,a){return Ja.createToolAssistantStream(e,t,this._client.beta.threads.runs,s,a)}};class on extends Xs{}nn.RunsPage=on,nn.Steps=an,nn.RunStepsPage=rn;class ln extends Gs{constructor(){super(...arguments),this.runs=new nn(this._client),this.messages=new tn(this._client)}create(e={},t){return Is(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}update(e,t,s){return this._client.post(`/threads/${e}`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const s=await this.createAndRun(e,t);return await this.runs.poll(s.thread_id,s.id,t)}createAndRunStream(e,t){return Ja.createThreadAssistantStream(e,this._client.beta.threads,t)}}ln.Runs=nn,ln.RunsPage=on,ln.Messages=tn,ln.MessagesPage=sn;class cn extends Gs{constructor(){super(...arguments),this.realtime=new en(this._client),this.chat=new Kr(this._client),this.assistants=new Xa(this._client),this.threads=new ln(this._client)}}cn.Realtime=en,cn.Assistants=Xa,cn.AssistantsPage=Ga,cn.Threads=ln;class dn extends Gs{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class hn extends Gs{retrieve(e,t,s){return this._client.get(`/containers/${e}/files/${t}/content`,{...s,headers:{Accept:"application/binary",...null==s?void 0:s.headers},__binaryResponse:!0})}}let mn=class extends Gs{constructor(){super(...arguments),this.content=new hn(this._client)}create(e,t,s){return this._client.post(`/containers/${e}/files`,ps({body:t,...s}))}retrieve(e,t,s){return this._client.get(`/containers/${e}/files/${t}`,s)}list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/containers/${e}/files`,un,{query:t,...s})}del(e,t,s){return this._client.delete(`/containers/${e}/files/${t}`,{...s,headers:{Accept:"*/*",...null==s?void 0:s.headers}})}};class un extends Xs{}mn.FileListResponsesPage=un,mn.Content=hn;class pn extends Gs{constructor(){super(...arguments),this.files=new mn(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(`/containers/${e}`,t)}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/containers",gn,{query:e,...t})}del(e,t){return this._client.delete(`/containers/${e}`,{...t,headers:{Accept:"*/*",...null==t?void 0:t.headers}})}}class gn extends Xs{}pn.ContainerListResponsesPage=gn,pn.Files=mn,pn.FileListResponsesPage=un;class xn extends Gs{create(e,t){const s=!!e.encoding_format;let a=s?e.encoding_format:"base64";s&&Hs(0,"User defined encoding_format:",e.encoding_format);const r=this._client.post("/embeddings",{body:{...e,encoding_format:a},...t});return s?r:(Hs(0,"Decoding base64 embeddings to float32 array"),r._thenUnwrap((e=>(e&&e.data&&e.data.forEach((e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),s=t.length,a=new Uint8Array(s);for(let e=0;e<s;e++)a[e]=t.charCodeAt(e);return Array.from(new Float32Array(a.buffer))}})(t)})),e))))}}class fn extends Gs{retrieve(e,t,s,a){return this._client.get(`/evals/${e}/runs/${t}/output_items/${s}`,a)}list(e,t,s={},a){return Is(s)?this.list(e,t,{},s):this._client.getAPIList(`/evals/${e}/runs/${t}/output_items`,bn,{query:s,...a})}}class bn extends Xs{}fn.OutputItemListResponsesPage=bn;class yn extends Gs{constructor(){super(...arguments),this.outputItems=new fn(this._client)}create(e,t,s){return this._client.post(`/evals/${e}/runs`,{body:t,...s})}retrieve(e,t,s){return this._client.get(`/evals/${e}/runs/${t}`,s)}list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/evals/${e}/runs`,jn,{query:t,...s})}del(e,t,s){return this._client.delete(`/evals/${e}/runs/${t}`,s)}cancel(e,t,s){return this._client.post(`/evals/${e}/runs/${t}`,s)}}class jn extends Xs{}yn.RunListResponsesPage=jn,yn.OutputItems=fn,yn.OutputItemListResponsesPage=bn;class wn extends Gs{constructor(){super(...arguments),this.runs=new yn(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(`/evals/${e}`,t)}update(e,t,s){return this._client.post(`/evals/${e}`,{body:t,...s})}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/evals",vn,{query:e,...t})}del(e,t){return this._client.delete(`/evals/${e}`,t)}}class vn extends Xs{}wn.EvalListResponsesPage=vn,wn.Runs=yn,wn.RunListResponsesPage=jn;let Nn=class extends Gs{create(e,t){return this._client.post("/files",ps({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/files",_n,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...null==t?void 0:t.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:s=18e5}={}){const a=new Set(["processed","error","deleted"]),r=Date.now();let n=await this.retrieve(e);for(;!n.status||!a.has(n.status);)if(await $s(t),n=await this.retrieve(e),Date.now()-r>s)throw new Ot({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return n}};class _n extends Xs{}Nn.FileObjectsPage=_n;class Sn extends Gs{}let kn=class extends Gs{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class In extends Gs{constructor(){super(...arguments),this.graders=new kn(this._client)}}In.Graders=kn;class Cn extends Gs{create(e,t,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Pn,{body:t,method:"post",...s})}retrieve(e,t={},s){return Is(t)?this.retrieve(e,{},t):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...s})}del(e,t,s){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${t}`,s)}}class Pn extends Js{}Cn.PermissionCreateResponsesPage=Pn;let An=class extends Gs{constructor(){super(...arguments),this.permissions=new Cn(this._client)}};An.Permissions=Cn,An.PermissionCreateResponsesPage=Pn;class En extends Gs{list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Tn,{query:t,...s})}}class Tn extends Xs{}En.FineTuningJobCheckpointsPage=Tn;class Un extends Gs{constructor(){super(...arguments),this.checkpoints=new En(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Dn,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},s){return Is(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Rn,{query:t,...s})}pause(e,t){return this._client.post(`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(`/fine_tuning/jobs/${e}/resume`,t)}}class Dn extends Xs{}class Rn extends Xs{}Un.FineTuningJobsPage=Dn,Un.FineTuningJobEventsPage=Rn,Un.Checkpoints=En,Un.FineTuningJobCheckpointsPage=Tn;class $n extends Gs{constructor(){super(...arguments),this.methods=new Sn(this._client),this.jobs=new Un(this._client),this.checkpoints=new An(this._client),this.alpha=new In(this._client)}}$n.Methods=Sn,$n.Jobs=Un,$n.FineTuningJobsPage=Dn,$n.FineTuningJobEventsPage=Rn,$n.Checkpoints=An,$n.Alpha=In;class Ln extends Gs{}class Fn extends Gs{constructor(){super(...arguments),this.graderModels=new Ln(this._client)}}Fn.GraderModels=Ln;class Bn extends Gs{createVariation(e,t){return this._client.post("/images/variations",ps({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",ps({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class qn extends Gs{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",On,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class On extends Js{}qn.ModelsPage=On;class Mn extends Gs{create(e,t){return this._client.post("/moderations",{body:e,...t})}}function Wn(e,t){return t&&function(e){var t;if(tr(null==(t=e.text)?void 0:t.format))return!0;return!1}(t)?Hn(e,t):{...e,output_parsed:null,output:e.output.map((e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map((e=>({...e,parsed:null})))}:e))}}function Hn(e,t){const s=e.output.map((e=>{if("function_call"===e.type)return{...e,parsed_arguments:zn(t,e)};if("message"===e.type){const s=e.content.map((e=>"output_text"===e.type?{...e,parsed:Yn(t,e.text)}:e));return{...e,content:s}}return e})),a=Object.assign({},e,{output:s});return Object.getOwnPropertyDescriptor(e,"output_text")||Vn(a),Object.defineProperty(a,"output_parsed",{enumerable:!0,get(){for(const e of a.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),a}function Yn(e,t){var s,a,r,n;if("json_schema"!==(null==(a=null==(s=e.text)?void 0:s.format)?void 0:a.type))return null;if("$parseRaw"in(null==(r=e.text)?void 0:r.format)){return(null==(n=e.text)?void 0:n.format).$parseRaw(t)}return JSON.parse(t)}function zn(e,t){const s=(a=e.tools??[],r=t.name,a.find((e=>"function"===e.type&&e.name===r)));var a,r,n;return{...t,...t,parsed_arguments:(n=s,"auto-parseable-tool"===(null==n?void 0:n.$brand)?s.$parseRaw(t.arguments):(null==s?void 0:s.strict)?JSON.parse(t.arguments):null)}}function Vn(e){const t=[];for(const s of e.output)if("message"===s.type)for(const e of s.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}class Jn extends Gs{list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/responses/${e}/input_items`,oi,{query:t,...s})}}var Xn,Gn,Kn,Qn,Zn,ei,ti,si,ai=function(e,t,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,s):r?r.value=s:t.set(e,s),s},ri=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};class ni extends Na{constructor(e){super(),Xn.add(this),Gn.set(this,void 0),Kn.set(this,void 0),Qn.set(this,void 0),ai(this,Gn,e,"f")}static createResponse(e,t,s){const a=new ni(t);return a._run((()=>a._createOrRetrieveResponse(e,t,{...s,headers:{...null==s?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}}))),a}async _createOrRetrieveResponse(e,t,s){var a;const r=null==s?void 0:s.signal;let n;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),ri(this,Xn,"m",Zn).call(this);let i=null;"response_id"in t?(n=await e.responses.retrieve(t.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),i=t.starting_after??null):n=await e.responses.create({...t,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const o of n)ri(this,Xn,"m",ei).call(this,o,i);if(null==(a=n.controller.signal)?void 0:a.aborted)throw new Bt;return ri(this,Xn,"m",ti).call(this)}[(Gn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,Xn=new WeakSet,Zn=function(){this.ended||ai(this,Kn,void 0,"f")},ei=function(e,t){if(this.ended)return;const s=(e,s)=>{(null==t||s.sequence_number>t)&&this._emit(e,s)},a=ri(this,Xn,"m",si).call(this,e);switch(s("event",e),e.type){case"response.output_text.delta":{const t=a.output[e.output_index];if(!t)throw new Lt(`missing output at index ${e.output_index}`);if("message"===t.type){const a=t.content[e.content_index];if(!a)throw new Lt(`missing content at index ${e.content_index}`);if("output_text"!==a.type)throw new Lt(`expected content to be 'output_text', got ${a.type}`);s("response.output_text.delta",{...e,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const t=a.output[e.output_index];if(!t)throw new Lt(`missing output at index ${e.output_index}`);"function_call"===t.type&&s("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:s(e.type,e)}},ti=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");const e=ri(this,Kn,"f");if(!e)throw new Lt("request ended without sending any events");ai(this,Kn,void 0,"f");const t=function(e,t){return Wn(e,t)}(e,ri(this,Gn,"f"));return ai(this,Qn,t,"f"),t},si=function(e){let t=ri(this,Kn,"f");if(!t){if("response.created"!==e.type)throw new Lt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=ai(this,Kn,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const s=t.output[e.output_index];if(!s)throw new Lt(`missing output at index ${e.output_index}`);"message"===s.type&&s.content.push(e.part);break}case"response.output_text.delta":{const s=t.output[e.output_index];if(!s)throw new Lt(`missing output at index ${e.output_index}`);if("message"===s.type){const t=s.content[e.content_index];if(!t)throw new Lt(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new Lt(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const s=t.output[e.output_index];if(!s)throw new Lt(`missing output at index ${e.output_index}`);"function_call"===s.type&&(s.arguments+=e.delta);break}case"response.completed":ai(this,Kn,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let s=!1;return this.on("event",(s=>{const a=t.shift();a?a.resolve(s):e.push(s)})),this.on("end",(()=>{s=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),this.on("error",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),{next:async()=>{if(!e.length)return s?{value:void 0,done:!0}:new Promise(((e,s)=>t.push({resolve:e,reject:s}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ri(this,Qn,"f");if(!e)throw new Lt("stream ended without producing a ChatCompletion");return e}}class ii extends Gs{constructor(){super(...arguments),this.inputItems=new Jn(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap((e=>("object"in e&&"response"===e.object&&Vn(e),e)))}retrieve(e,t={},s){return this._client.get(`/responses/${e}`,{query:t,...s,stream:(null==t?void 0:t.stream)??!1})}del(e,t){return this._client.delete(`/responses/${e}`,{...t,headers:{Accept:"*/*",...null==t?void 0:t.headers}})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap((t=>Hn(t,e)))}stream(e,t){return ni.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(`/responses/${e}/cancel`,{...t,headers:{Accept:"*/*",...null==t?void 0:t.headers}})}}class oi extends Xs{}ii.InputItems=Jn;class li extends Gs{create(e,t,s){return this._client.post(`/uploads/${e}/parts`,ps({body:t,...s}))}}class ci extends Gs{constructor(){super(...arguments),this.parts=new li(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,s){return this._client.post(`/uploads/${e}/complete`,{body:t,...s})}}ci.Parts=li;class di extends Gs{create(e,t,s){return this._client.post(`/vector_stores/${e}/files`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get(`/vector_stores/${e}/files/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}update(e,t,s,a){return this._client.post(`/vector_stores/${e}/files/${t}`,{body:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers}})}list(e,t={},s){return Is(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,hi,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}del(e,t,s){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}async createAndPoll(e,t,s){const a=await this.create(e,t,s);return await this.poll(e,a.id,s)}async poll(e,t,s){const a={...null==s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for((null==s?void 0:s.pollIntervalMs)&&(a["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const r=await this.retrieve(e,t,{...s,headers:a}).withResponse(),n=r.data;switch(n.status){case"in_progress":let e=5e3;if(null==s?void 0:s.pollIntervalMs)e=s.pollIntervalMs;else{const t=r.response.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await $s(e);break;case"failed":case"completed":return n}}}async upload(e,t,s){const a=await this._client.files.create({file:t,purpose:"assistants"},s);return this.create(e,{file_id:a.id},s)}async uploadAndPoll(e,t,s){const a=await this.upload(e,t,s);return await this.poll(e,a.id,s)}content(e,t,s){return this._client.getAPIList(`/vector_stores/${e}/files/${t}/content`,mi,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}}class hi extends Xs{}class mi extends Js{}di.VectorStoreFilesPage=hi,di.FileContentResponsesPage=mi;class ui extends Gs{create(e,t,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}cancel(e,t,s){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}async createAndPoll(e,t,s){const a=await this.create(e,t);return await this.poll(e,a.id,s)}listFiles(e,t,s={},a){return Is(s)?this.listFiles(e,t,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,hi,{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...null==a?void 0:a.headers}})}async poll(e,t,s){const a={...null==s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for((null==s?void 0:s.pollIntervalMs)&&(a["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:r,response:n}=await this.retrieve(e,t,{...s,headers:a}).withResponse();switch(r.status){case"in_progress":let e=5e3;if(null==s?void 0:s.pollIntervalMs)e=s.pollIntervalMs;else{const t=n.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await $s(e);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,{files:t,fileIds:s=[]},a){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const r=(null==a?void 0:a.maxConcurrency)??5,n=Math.min(r,t.length),i=this._client,o=t.values(),l=[...s];const c=Array(n).fill(o).map((async function(e){for(let t of e){const e=await i.files.create({file:t,purpose:"assistants"},a);l.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),s=t.filter((e=>"rejected"===e.status));if(s.length){for(const e of s);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const a=[];for(const r of t)"fulfilled"===r.status&&a.push(r.value);return a})(c),await this.createAndPoll(e,{file_ids:l})}}class pi extends Gs{constructor(){super(...arguments),this.files=new di(this._client),this.fileBatches=new ui(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}update(e,t,s){return this._client.post(`/vector_stores/${e}`,{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}list(e={},t){return Is(e)?this.list({},e):this._client.getAPIList("/vector_stores",gi,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...null==t?void 0:t.headers}})}search(e,t,s){return this._client.getAPIList(`/vector_stores/${e}/search`,xi,{body:t,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...null==s?void 0:s.headers}})}}class gi extends Xs{}class xi extends Js{}var fi;pi.VectorStoresPage=gi,pi.VectorStoreSearchResponsesPage=xi,pi.Files=di,pi.VectorStoreFilesPage=hi,pi.FileContentResponsesPage=mi,pi.FileBatches=ui;class bi extends vs{constructor({baseURL:e=Bs("OPENAI_BASE_URL"),apiKey:t=Bs("OPENAI_API_KEY"),organization:s=Bs("OPENAI_ORG_ID")??null,project:a=Bs("OPENAI_PROJECT_ID")??null,...r}={}){if(void 0===t)throw new Lt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const n={apiKey:t,organization:s,project:a,...r,baseURL:e||"https://api.openai.com/v1"};if(!n.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new Lt("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:n.baseURL,timeout:n.timeout??6e5,httpAgent:n.httpAgent,maxRetries:n.maxRetries,fetch:n.fetch}),this.completions=new dn(this),this.chat=new ta(this),this.embeddings=new xn(this),this.files=new Nn(this),this.images=new Bn(this),this.audio=new na(this),this.moderations=new Mn(this),this.models=new qn(this),this.fineTuning=new $n(this),this.graders=new Fn(this),this.vectorStores=new pi(this),this.beta=new cn(this),this.batches=new ia(this),this.uploads=new ci(this),this.responses=new ii(this),this.evals=new wn(this),this.containers=new pn(this),this._options=n,this.apiKey=t,this.organization=s,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Nt(e,{arrayFormat:"brackets"})}}fi=bi,bi.OpenAI=fi,bi.DEFAULT_TIMEOUT=6e5,bi.OpenAIError=Lt,bi.APIError=Ft,bi.APIConnectionError=qt,bi.APIConnectionTimeoutError=Ot,bi.APIUserAbortError=Bt,bi.NotFoundError=Yt,bi.ConflictError=zt,bi.RateLimitError=Jt,bi.BadRequestError=Mt,bi.AuthenticationError=Wt,bi.InternalServerError=Xt,bi.PermissionDeniedError=Ht,bi.UnprocessableEntityError=Vt,bi.toFile=ds,bi.fileFromPath=Tt,bi.Completions=dn,bi.Chat=ta,bi.ChatCompletionsPage=Zs,bi.Embeddings=xn,bi.Files=Nn,bi.FileObjectsPage=_n,bi.Images=Bn,bi.Audio=na,bi.Moderations=Mn,bi.Models=qn,bi.ModelsPage=On,bi.FineTuning=$n,bi.Graders=Fn,bi.VectorStores=pi,bi.VectorStoresPage=gi,bi.VectorStoreSearchResponsesPage=xi,bi.Beta=cn,bi.Batches=ia,bi.BatchesPage=oa,bi.Uploads=ci,bi.Responses=ii,bi.Evals=wn,bi.EvalListResponsesPage=vn,bi.Containers=pn,bi.ContainerListResponsesPage=gn;const yi=new bi({apiKey:"sk-your_openai_api_keyVITE_SUPABASE_URL=https://mcnfrgwnwgksordlviiv.supabase.co",dangerouslyAllowBrowser:!0});class ji extends Error{constructor(e){super(e),this.name="AIGenerationError"}}const wi=()=>{const t=a(),[s,r]=e.useState(1),[n,i]=e.useState(!1),[o,l]=e.useState(!1),[c,d]=e.useState(!1),[h,u]=e.useState(null),[p,g]=e.useState(null),[x,f]=e.useState(!1),[b,y]=e.useState(!1),[j,w]=e.useState(null),[v,N]=e.useState(null),[_,S]=e.useState([]),[k,I]=e.useState(!1),[C,P]=e.useState(!1),[A,E]=e.useState(!1),[T,D]=e.useState({title:"",price:0,deposit:0,bedrooms:0,bathrooms:0,squareFeet:0,address:"",boroughId:"",neighborhoodId:"",keyFeature:"",zipCode:"",description:"",amenities:[],images:[],displayName:"",email:"",password:"",confirmPassword:"",preferredContact:"email",phone:"",availableDate:new Date,agreeToTerms:!1,notificationConsent:!1}),R=He.filter((e=>!T.boroughId||e.boroughId===T.boroughId)),$=e=>{const{name:t,value:s,type:a}=e.target;if("checkbox"===a){const s=e.target.checked;D((e=>({...e,[t]:s})))}else D("number"===a?e=>({...e,[t]:parseFloat(s)||0}):e=>({...e,[t]:s}));_.length>0&&S([])},L=()=>{if(1===s)(()=>{const e=[];return T.title.trim()||e.push("Title is required"),(!T.price||T.price<=0)&&e.push("Monthly rent must be greater than 0"),(!T.deposit||T.deposit<=0)&&e.push("Security deposit must be greater than 0"),T.bedrooms<0&&e.push("Please select number of bedrooms"),(!T.bathrooms||T.bathrooms<=0)&&e.push("Please select number of bathrooms"),T.address.trim()||e.push("Address is required"),T.zipCode&&T.zipCode.trim()||e.push("Zip code is required. Please enter the 5-digit zip code for the property."),T.neighborhoodId||e.push("Please select a neighborhood"),T.boroughId||e.push("Please select a borough"),T.keyFeature||e.push("Please select a key feature"),T.description.trim()||e.push("Description is required"),T.availableDate||e.push("Available date is required"),0===T.images.length&&e.push("At least one image is required"),S(e),0===e.length})()&&(r(2),S([]));else if(2===s&&(()=>{const e=[];return T.displayName.trim()||e.push("Display name is required"),T.email.trim()||e.push("Email is required"),T.password||e.push("Password is required"),T.confirmPassword||e.push("Please confirm your password"),T.password!==T.confirmPassword&&e.push("Passwords do not match"),T.password&&T.password.length<8&&e.push("Password must be at least 8 characters long"),T.agreeToTerms||e.push("You must agree to the terms and conditions"),S(e),0===e.length})()){const e={listing:{id:"preview",title:T.title,description:T.description,price:T.price,deposit:T.deposit,bedrooms:T.bedrooms,bathrooms:T.bathrooms,square_feet:T.squareFeet||0,address:T.address,neighborhood_id:T.neighborhoodId,borough_id:T.boroughId,key_feature:T.keyFeature,amenities:T.amenities,images:T.images,landlord_id:"preview",available_date:T.availableDate,created_at:new Date,updated_at:new Date,status:"draft"},landlord:{displayName:T.displayName,email:T.email,preferredContact:T.preferredContact,phone:T.phone}};N(e),r(3),S([])}},F=()=>{r(1),N(null),S([])},B=async()=>{if(v){w(null),I(!0);try{const{data:{session:e}}=await $e.auth.getSession();if(!e){const{data:e,error:t}=await $e.auth.signUp({email:T.email,password:T.password,options:{data:{role:"landlord",display_name:T.displayName}}});if(t){if(!t.message.includes("already registered"))throw t.message.includes("429")?new Error("Too many requests. Please wait a moment and try again."):t;{const{data:e,error:t}=await $e.auth.signInWithPassword({email:T.email,password:T.password});if(t)throw new Error("Invalid email or password. Please check your credentials.")}}else if(e.user&&!e.session){const{data:e,error:t}=await $e.auth.signInWithPassword({email:T.email,password:T.password});if(t)throw E(!0),new Error("Please check your email and click the confirmation link before continuing. You can close this page and return after confirming your email.")}await new Promise((e=>setTimeout(e,2e3)));const{data:{session:s}}=await $e.auth.getSession();if(!s)throw new Error("Authentication failed. Please try again.")}const s=await Qe(T),{data:{session:a}}=await $e.auth.getSession();return P(!0),setTimeout((()=>{t(`/payment?listing_id=${s.id}`)}),2e3),s}catch(Zi){Zi instanceof Error?Zi.message.includes("429")||"RATE_LIMIT"===Zi.message?w("Too many requests. Please wait a moment and try again."):Zi.message.includes("already exists")||Zi.message.includes("already registered")?w("Account already exists. Please use the correct email and password."):w(Zi.message):w("Failed to create listing. Please try again.")}finally{I(!1)}}};return 3===s&&v?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-8",children:C?Ue.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Ue.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Listing Created Successfully!"}),Ue.jsx("p",{className:"text-gray-600",children:"Redirecting to payment page..."})]}),Ue.jsx("div",{className:"flex justify-center",children:Ue.jsx(J,{className:"h-6 w-6 animate-spin text-[#4f46e5]"})})]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(it,{preview:v,onEdit:F,onPublish:B,isSubmitting:k}),j&&Ue.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx(H,{className:"h-5 w-5 text-red-400 mr-2"}),Ue.jsx("p",{className:"text-red-700",children:j})]})}),A&&Ue.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx(H,{className:"h-5 w-5 text-blue-400 mr-2"}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Email Confirmation Required"}),Ue.jsxs("p",{className:"text-blue-700 mb-3",children:["We've sent a confirmation email to ",Ue.jsx("strong",{children:T.email}),". Please check your inbox and click the confirmation link to continue."]}),Ue.jsxs("div",{className:"space-y-2",children:[Ue.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"I've Confirmed My Email - Continue"}),Ue.jsx("button",{onClick:()=>E(!1),className:"block px-4 py-2 text-blue-600 text-sm hover:underline",children:"Try Again"})]})]})]})})]})})}):Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs("button",{onClick:()=>t("/"),className:"inline-flex items-center text-[#4f46e5] hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[Ue.jsx("div",{className:"mb-8",children:Ue.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[Ue.jsxs("div",{className:"flex items-center "+(s>=1?"text-[#4f46e5]":"text-gray-400"),children:[Ue.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(s>=1?"bg-[#4f46e5] text-white":"bg-gray-200"),children:s>1?Ue.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"1"}),Ue.jsx("span",{className:"ml-2 font-medium",children:"Listing Details"})]}),Ue.jsx("div",{className:"w-16 h-1 "+(s>=2?"bg-[#4f46e5]":"bg-gray-200")}),Ue.jsxs("div",{className:"flex items-center "+(s>=2?"text-[#4f46e5]":"text-gray-400"),children:[Ue.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(s>=2?"bg-[#4f46e5] text-white":"bg-gray-200"),children:s>2?Ue.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"2"}),Ue.jsx("span",{className:"ml-2 font-medium",children:"Account Setup"})]}),Ue.jsx("div",{className:"w-16 h-1 "+(s>=3?"bg-[#4f46e5]":"bg-gray-200")}),Ue.jsxs("div",{className:"flex items-center "+(s>=3?"text-[#4f46e5]":"text-gray-400"),children:[Ue.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(s>=3?"bg-[#4f46e5] text-white":"bg-gray-200"),children:"3"}),Ue.jsx("span",{className:"ml-2 font-medium",children:"Preview & Payment"})]})]})}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[_.length>0&&Ue.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx(H,{className:"h-5 w-5 text-red-400 mr-2 mt-0.5"}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Please fix the following errors:"}),Ue.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:_.map((e=>Ue.jsx("li",{children:e})))})]})]})}),!1,1===s&&Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Step 1 of 3: Listing Details"}),Ue.jsx("p",{className:"text-gray-600 mb-8",children:"Tell us about your property. The more details you provide, the better your chances of finding the right tenant."}),Ue.jsxs("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[Ue.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"ğ¡ Helpful Tips:"}),Ue.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[Ue.jsx("li",{children:"â¢ Use the AI generator to create compelling titles and descriptions"}),Ue.jsx("li",{children:"â¢ Upload high-quality photos to attract more tenants"}),Ue.jsx("li",{children:"â¢ Be specific about amenities and key features"}),Ue.jsx("li",{children:"â¢ Accurate pricing helps you find qualified tenants faster"})]})]}),Ue.jsxs("form",{className:"space-y-8",children:[Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Basic Information"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{className:"md:col-span-2",children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Listing Title *"}),Ue.jsxs("div",{className:"flex gap-2",children:[Ue.jsx("input",{type:"text",name:"title",value:T.title,onChange:$,className:"flex-1 px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"e.g., Beautiful 2BR Apartment in Manhattan",required:!0}),Ue.jsxs("button",{type:"button",onClick:async()=>{if(T.neighborhoodId&&T.boroughId&&T.bedrooms&&T.bathrooms&&T.keyFeature){l(!0),u(null);try{const e=He.find((e=>e.id===T.neighborhoodId)),t=We.find((e=>e.id===T.boroughId));if(!e||!t)throw new Error("Invalid neighborhood or borough selection");const s=await(async(e,t,s,a,r)=>{var n;try{return null==(n=(await yi.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates apartment listing titles. Keep titles concise and highlight key features."},{role:"user",content:`Create a title for an apartment with these details:\n          - ${s} bedrooms\n          - ${a} bathrooms\n          - Located in ${e}, ${t}\n          - Key feature: ${r}\n          \n          Keep it under 60 characters and highlight the most appealing aspects.`}],temperature:.7,max_tokens:50})).choices[0].message.content)?void 0:n.trim()}catch(Zi){if(429===Zi.status)throw new ji("AI generation is temporarily unavailable. Please try again later or enter your title manually.");throw new ji("Failed to generate title. Please try again or enter your title manually.")}})(e.name,t.name,T.bedrooms,T.bathrooms,T.keyFeature);s&&D((e=>({...e,title:s})))}catch(Zi){u(Zi instanceof ji?Zi.message:"Failed to generate title. Please try again or enter manually.")}finally{l(!1)}}else u("Please fill in neighborhood, bedrooms, bathrooms, and key feature first")},disabled:o,className:"px-4 py-3 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Generate title with AI",children:[o?Ue.jsx(J,{className:"h-4 w-4 animate-spin"}):Ue.jsx(ee,{className:"h-4 w-4"}),o?"Generating...":"AI Generate"]})]}),h&&Ue.jsx("p",{className:"mt-2 text-sm text-red-600",children:h})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Monthly Rent *"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),Ue.jsx("input",{type:"number",name:"price",value:T.price||"",onChange:$,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"3000",min:"1",required:!0})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Security Deposit *"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),Ue.jsx("input",{type:"number",name:"deposit",value:T.deposit||"",onChange:$,className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"3000",min:"1",required:!0})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Bedrooms *"}),Ue.jsxs("select",{name:"bedrooms",value:T.bedrooms,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0,children:[Ue.jsx("option",{value:"",children:"Select bedrooms"}),Ue.jsx("option",{value:"0",children:"Studio"}),Ue.jsx("option",{value:"1",children:"1 Bedroom"}),Ue.jsx("option",{value:"2",children:"2 Bedrooms"}),Ue.jsx("option",{value:"3",children:"3 Bedrooms"}),Ue.jsx("option",{value:"4",children:"4 Bedrooms"}),Ue.jsx("option",{value:"5",children:"5+ Bedrooms"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Bathrooms *"}),Ue.jsxs("select",{name:"bathrooms",value:T.bathrooms,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0,children:[Ue.jsx("option",{value:"",children:"Select bathrooms"}),Ue.jsx("option",{value:"1",children:"1 Bathroom"}),Ue.jsx("option",{value:"1.5",children:"1.5 Bathrooms"}),Ue.jsx("option",{value:"2",children:"2 Bathrooms"}),Ue.jsx("option",{value:"2.5",children:"2.5 Bathrooms"}),Ue.jsx("option",{value:"3",children:"3 Bathrooms"}),Ue.jsx("option",{value:"3.5",children:"3.5 Bathrooms"}),Ue.jsx("option",{value:"4",children:"4+ Bathrooms"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Square Feet"}),Ue.jsx("input",{type:"number",name:"squareFeet",value:T.squareFeet||"",onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"800",min:"1"})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Available Date *"}),Ue.jsx("input",{type:"date",name:"availableDate",value:T.availableDate instanceof Date?T.availableDate.toISOString().split("T")[0]:T.availableDate,onChange:e=>D((t=>({...t,availableDate:new Date(e.target.value)}))),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0})]})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Location"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{className:"md:col-span-2",children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Address *"}),Ue.jsx("input",{type:"text",name:"address",value:T.address,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Enter the full property address (e.g., 123 Main St, New York, NY)",required:!0}),Ue.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ğ¡ Enter the complete address including street, city, and state"})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Zip Code *"}),Ue.jsx("input",{type:"text",name:"zipCode",value:T.zipCode,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Enter zip code manually",pattern:"[0-9]{5}",maxLength:5,required:!0}),Ue.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter manually if not auto-filled from address"})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Borough *"}),Ue.jsxs("select",{name:"boroughId",value:T.boroughId,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0,children:[Ue.jsx("option",{value:"",children:"Select borough"}),We.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Neighborhood *"}),Ue.jsxs("select",{name:"neighborhoodId",value:T.neighborhoodId,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",disabled:!T.boroughId,required:!0,children:[Ue.jsx("option",{value:"",children:T.boroughId?"Select neighborhood":"Select a borough first"}),R.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),Ue.jsxs("div",{className:"md:col-span-2",children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Key Feature *"}),Ue.jsxs("select",{name:"keyFeature",value:T.keyFeature,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0,children:[Ue.jsx("option",{value:"",children:"Select a key feature"}),Ue.jsx("option",{value:"Stunning City Views",children:"Stunning City Views"}),Ue.jsx("option",{value:"Private Outdoor Space",children:"Private Outdoor Space"}),Ue.jsx("option",{value:"Modern Kitchen",children:"Modern Kitchen"}),Ue.jsx("option",{value:"Luxury Finishes",children:"Luxury Finishes"}),Ue.jsx("option",{value:"High Ceilings",children:"High Ceilings"}),Ue.jsx("option",{value:"Natural Light",children:"Natural Light"}),Ue.jsx("option",{value:"Renovated",children:"Recently Renovated"}),Ue.jsx("option",{value:"Doorman Building",children:"Doorman Building"}),Ue.jsx("option",{value:"Elevator Building",children:"Elevator Building"}),Ue.jsx("option",{value:"Pet Friendly",children:"Pet Friendly"})]})]})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Description"}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Property Description *"}),Ue.jsxs("div",{className:"flex flex-col gap-2",children:[Ue.jsx("textarea",{name:"description",value:T.description,onChange:$,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent resize-vertical",placeholder:"Describe your property in detail. Include what makes it special, nearby amenities, and any unique features...",required:!0}),Ue.jsxs("button",{type:"button",onClick:async()=>{if(T.neighborhoodId&&T.bedrooms&&T.bathrooms&&T.keyFeature){d(!0),g(null);try{const e=He.find((e=>e.id===T.neighborhoodId));if(!e)throw new Error("Invalid neighborhood selection");const t=await(async(e,t,s,a,r)=>{var n;try{return null==(n=(await yi.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates apartment listing descriptions. Use this template:\n\nWelcome to Your [Adjective] [Neighborhood] Retreat!\n\nDiscover this [Bedrooms] BR / [Bathrooms] BA gem in the heart of [Neighborhood], offering [Key Feature] and [Bonus Selling Point]. Step into a thoughtfully designed space featuring [Additional Highlight], perfect for modern city living.\n\nEnjoy the convenience of [Nearby Attraction], plus easy access to [Transportation or Local Hotspot]. Whether you're relaxing in your [Feature] or exploring the vibrant streets of [Neighborhood], this home is designed for comfort and style.\n\nDon't miss outâschedule a tour today!"},{role:"user",content:`Create an engaging description for an apartment with these details:\n          - ${t} bedrooms\n          - ${s} bathrooms\n          - Located in ${e}\n          - Key feature: ${a}\n          - Amenities: ${r.join(", ")}\n          \n          Follow the template exactly, filling in the placeholders with engaging content.`}],temperature:.7,max_tokens:300})).choices[0].message.content)?void 0:n.trim()}catch(Zi){if(429===Zi.status)throw new ji("AI generation is temporarily unavailable. Please try again later or enter your description manually.");throw new ji("Failed to generate description. Please try again or enter your description manually.")}})(e.name,T.bedrooms,T.bathrooms,T.keyFeature,T.amenities);t&&D((e=>({...e,description:t})))}catch(Zi){g(Zi instanceof ji?Zi.message:"Failed to generate description. Please try again or enter manually.")}finally{d(!1)}}else g("Please fill in neighborhood, bedrooms, bathrooms, and key feature first")},disabled:c,className:"self-start px-4 py-2 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Generate description with AI",children:[c?Ue.jsx(J,{className:"h-4 w-4 animate-spin"}):Ue.jsx(ee,{className:"h-4 w-4"}),c?"Generating...":"AI Generate Description"]})]}),p&&Ue.jsx("p",{className:"mt-2 text-sm text-red-600",children:p})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Amenities"}),Ue.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Me.map((e=>Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx("input",{type:"checkbox",id:`amenity-${e}`,checked:T.amenities.includes(e),onChange:()=>(e=>{D((t=>({...t,amenities:t.amenities.includes(e)?t.amenities.filter((t=>t!==e)):[...t.amenities,e]})))})(e),className:"h-4 w-4 text-[#4f46e5] rounded focus:ring-[#4f46e5]"}),Ue.jsx("label",{htmlFor:`amenity-${e}`,className:"ml-2 text-sm text-gray-700 cursor-pointer",children:e})]},e)))})]}),Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Photos *"}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsx("div",{children:Ue.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[Ue.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#4f46e5] transition-colors",children:[Ue.jsx(te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Upload Property Photos"}),Ue.jsx("p",{className:"text-gray-500",children:"Click to select multiple images or drag and drop"}),Ue.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Supported formats: JPG, PNG, WebP (Max 10MB each)"})]}),Ue.jsx("input",{id:"image-upload",type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files||[]);if(0!==t.length){try{const e=t.map((async(e,t)=>{try{return URL.createObjectURL(e)}catch(Zi){Zi instanceof Error&&Zi.message;return null}})),s=(await Promise.all(e)).filter((e=>null!==e));s.length>0&&D((e=>({...e,images:[...e.images,...s]})))}catch(Zi){}e.target.value=""}},className:"hidden"})]})}),T.images.length>0&&Ue.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:T.images.map(((e,t)=>Ue.jsxs("div",{className:"relative group",children:[Ue.jsx("img",{src:e,alt:`Property image ${t+1}`,className:"w-full h-32 object-cover rounded-lg"}),Ue.jsx("button",{type:"button",onClick:()=>(async e=>{const t=T.images[e];t.startsWith("blob:")&&URL.revokeObjectURL(t),D((t=>({...t,images:t.images.filter(((t,s)=>s!==e))})))})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:Ue.jsx(m,{className:"h-4 w-4"})}),0===t&&Ue.jsx("div",{className:"absolute bottom-2 left-2 bg-[#4f46e5] text-white text-xs px-2 py-1 rounded",children:"Main Photo"})]},t)))})]})]}),Ue.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[Ue.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),Ue.jsx("button",{type:"button",onClick:L,className:"px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Next: Account Setup"})]})]})]}),2===s&&Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Account Setup"}),Ue.jsx("p",{className:"text-gray-600 mb-8",children:"Create your landlord account to manage your listings"}),Ue.jsxs("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[Ue.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"ğ¡ Account Setup Tips:"}),Ue.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[Ue.jsx("li",{children:"â¢ Use your real name as it will be displayed to potential tenants"}),Ue.jsx("li",{children:"â¢ Choose a strong password with at least 8 characters"}),Ue.jsx("li",{children:"â¢ Provide a phone number for faster communication with tenants"}),Ue.jsx("li",{children:"â¢ Select your preferred contact method for tenant inquiries"})]})]}),Ue.jsxs("form",{className:"space-y-6",children:[Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Personal Information"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Display Name *"}),Ue.jsx("input",{type:"text",name:"displayName",value:T.displayName,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Your full name",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address *"}),Ue.jsx("input",{type:"email",name:"email",value:T.email,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"your.email@example.com",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password *"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("input",{type:x?"text":"password",name:"password",value:T.password,onChange:$,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Create a strong password",minLength:8,required:!0}),Ue.jsx("button",{type:"button",onClick:()=>f(!x),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:x?Ue.jsx(se,{className:"h-5 w-5"}):Ue.jsx(ae,{className:"h-5 w-5"})})]}),Ue.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 8 characters long"})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Confirm Password *"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("input",{type:b?"text":"password",name:"confirmPassword",value:T.confirmPassword,onChange:$,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Confirm your password",minLength:8,required:!0}),Ue.jsx("button",{type:"button",onClick:()=>y(!b),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:b?Ue.jsx(se,{className:"h-5 w-5"}):Ue.jsx(ae,{className:"h-5 w-5"})})]})]})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Contact Preferences"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Preferred Contact Method"}),Ue.jsxs("select",{name:"preferredContact",value:T.preferredContact,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",children:[Ue.jsx("option",{value:"email",children:"Email"}),Ue.jsx("option",{value:"phone",children:"Phone"}),Ue.jsx("option",{value:"text",children:"Text Message"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),Ue.jsx("input",{type:"tel",name:"phone",value:T.phone,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"(555) 123-4567"})]})]})]}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:T.agreeToTerms,onChange:$,className:"h-4 w-4 text-[#4f46e5] rounded focus:ring-[#4f46e5] mt-1 mr-3",required:!0}),Ue.jsxs("label",{className:"text-gray-700",children:["I agree to the"," ",Ue.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-[#4f46e5] hover:underline",children:"Terms and Conditions"})," ","and"," ",Ue.jsx("a",{href:"/privacy",target:"_blank",className:"text-[#4f46e5] hover:underline",children:"Privacy Policy"}),". *"]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx("input",{type:"checkbox",name:"notificationConsent",checked:T.notificationConsent,onChange:$,className:"h-4 w-4 text-[#4f46e5] rounded focus:ring-[#4f46e5] mt-1 mr-3"}),Ue.jsx("label",{className:"text-gray-700",children:"I would like to receive email notifications about new applications, messages, and important updates."})]})]}),Ue.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[Ue.jsx("button",{type:"button",onClick:()=>{s>1&&(r(s-1),N(null),S([]))},className:"px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-gray-50 transition-colors",children:"Back"}),Ue.jsx("button",{type:"button",onClick:L,className:"px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Preview Listing"})]})]})]})]}),Ue.jsx(ot,{isOpen:n,onClose:()=>i(!1)})]})]})},vi=()=>{const[t,s]=e.useState(""),[a,n]=e.useState(!1),[i,o]=e.useState(null),[l,c]=e.useState(!1),[d,h]=e.useState(null),[u,p]=e.useState({displayName:"",email:""}),g=t?He.filter((e=>e.boroughId===t)):[];return a?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:Ue.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[Ue.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-8 text-center",children:[Ue.jsx("div",{className:"inline-block p-3 bg-white/20 rounded-full mb-4",children:Ue.jsx(re,{className:"h-12 w-12"})}),Ue.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Highlight Submitted Successfully!"}),Ue.jsx("p",{className:"text-xl opacity-90",children:"Thank you for contributing to our neighborhood guide!"})]}),Ue.jsxs("div",{className:"p-8",children:[Ue.jsx("div",{className:"text-center mb-8",children:Ue.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Your submission will be reviewed and added to the neighborhood page soon."})}),Ue.jsxs("div",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] rounded-xl p-8 text-white mb-8",children:[Ue.jsxs("div",{className:"flex items-center justify-center mb-6",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-3 mr-4",children:Ue.jsx(ne,{className:"h-8 w-8"})}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-2xl font-bold mb-1",children:"Join Dumb Rent NYC!"}),Ue.jsx("p",{className:"text-white/90",children:"Get access to exclusive features and stay updated"})]})]}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-3",children:Ue.jsx(re,{className:"h-6 w-6"})}),Ue.jsx("h4",{className:"font-semibold mb-1",children:"Save Favorites"}),Ue.jsx("p",{className:"text-sm text-white/80",children:"Bookmark listings you love"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-3",children:Ue.jsx(re,{className:"h-6 w-6"})}),Ue.jsx("h4",{className:"font-semibold mb-1",children:"Track Applications"}),Ue.jsx("p",{className:"text-sm text-white/80",children:"Monitor your rental applications"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-3",children:Ue.jsx(re,{className:"h-6 w-6"})}),Ue.jsx("h4",{className:"font-semibold mb-1",children:"Get Notifications"}),Ue.jsx("p",{className:"text-sm text-white/80",children:"Stay updated on new listings"})]})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsxs(r,{to:`/signup?name=${encodeURIComponent(u.displayName)}&email=${encodeURIComponent(u.email)}`,className:"inline-flex items-center px-8 py-3 bg-white text-[#4f46e5] font-semibold rounded-lg hover:bg-gray-100 transition-colors",children:["Create Free Account",Ue.jsx(ie,{className:"h-5 w-5 ml-2"})]}),Ue.jsx("p",{className:"text-sm text-white/70 mt-3",children:"We'll pre-fill your information to make signup quick and easy"})]})]}),Ue.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[Ue.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[Ue.jsx(r,{to:"/neighborhoods",className:"px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-md hover:bg-gray-200 transition-colors text-center",children:"View Neighborhoods"}),Ue.jsx("button",{onClick:()=>{n(!1),p({displayName:"",email:""})},className:"px-6 py-3 border border-[#4f46e5] text-[#4f46e5] font-semibold rounded-md hover:bg-[#4f46e5]/5 transition-colors",children:"Submit Another Highlight"})]}),Ue.jsx("div",{className:"text-center mt-4",children:Ue.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account? ",Ue.jsx(r,{to:"/login",className:"text-[#4f46e5] hover:underline",children:"Sign in here"})]})})]})]})]})})}):Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs(r,{to:"/",className:"inline-flex items-center text-blue-600 hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Add a Neighborhood Highlight"}),Ue.jsx("p",{className:"text-gray-600",children:"Share your knowledge about local restaurants, parks, landmarks, and more"})]}),Ue.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=e.target,s=new FormData(t);p({displayName:s.get("displayName"),email:s.get("email")}),setTimeout((()=>{n(!0)}),1e3)},className:"bg-white rounded-lg shadow-md p-6",children:[Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Location"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Borough"}),Ue.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:e=>s(e.target.value),required:!0,children:[Ue.jsx("option",{value:"",children:"Select borough"}),We.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Neighborhood"}),Ue.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t,required:!0,children:[Ue.jsx("option",{value:"",children:t?"Select neighborhood":"Select a borough first"}),g.map((e=>Ue.jsx("option",{value:e.id,children:e.name},e.id)))]})]})]})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Highlight Information"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Highlight Type"}),Ue.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[Ue.jsx("option",{value:"",children:"Select highlight type"}),qe.map((e=>Ue.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ")},e)))]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Name"}),Ue.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Central Park, Joe's Pizza",required:!0})]})]}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Address"}),Ue.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address of the highlight",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Description"}),Ue.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32",placeholder:"Describe this highlight and why it's notable",required:!0})]})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Photo"}),d&&Ue.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:Ue.jsx("p",{className:"text-red-700 text-sm",children:d})}),Ue.jsxs("div",{className:"mb-4",children:[Ue.jsxs("label",{htmlFor:"photo-upload",children:[Ue.jsxs("div",{className:"px-4 py-2 flex items-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors cursor-pointer "+(l?"opacity-50 cursor-not-allowed":""),children:[Ue.jsx(te,{className:"h-5 w-5 mr-2"}),l?"Uploading...":"Upload Photo"]}),Ue.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){c(!0),h(null);try{const e=URL.createObjectURL(s);o(e)}catch(Zi){h("Failed to upload image. Please try again.")}finally{c(!1)}}},disabled:l,className:"hidden"})]}),Ue.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a high-quality photo of this highlight (optional)"})]}),i&&Ue.jsxs("div",{className:"relative inline-block",children:[Ue.jsx("img",{src:i,alt:"Uploaded highlight",className:"h-48 object-cover rounded-md"}),Ue.jsx("button",{type:"button",onClick:()=>{i&&URL.revokeObjectURL(i),o(null),h(null)},className:"absolute top-2 right-2 bg-black bg-opacity-50 rounded-full p-1 text-white hover:bg-opacity-70 transition-colors",children:Ue.jsx(m,{className:"h-4 w-4"})})]})]}),Ue.jsxs("div",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Your Information"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Display Name"}),Ue.jsx("input",{type:"text",name:"displayName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your display name",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),Ue.jsx("input",{type:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your email address",required:!0})]})]})]}),Ue.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[Ue.jsx("div",{className:"mb-6",children:Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx("input",{type:"checkbox",id:"terms",className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 mt-1 mr-2",required:!0}),Ue.jsxs("label",{htmlFor:"terms",className:"text-gray-700",children:["I confirm that all information provided is accurate and I have the right to share this information. I understand that submissions are reviewed before being published. I agree to the"," ",Ue.jsx(r,{to:"/terms",className:"text-blue-600 hover:underline",target:"_blank",children:"Terms and Conditions"}),"."]})]})}),Ue.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Uploading Photo...":"Submit Highlight"})]})]})]})]})},Ni=({listingId:t,className:s="",showDetails:a=!1})=>{const[r,n]=e.useState(null),[i,o]=e.useState(!0),[l,c]=e.useState(null);e.useEffect((()=>{d()}),[t]);const d=async()=>{try{o(!0),c(null);const e=await fetch("https://mcnfrgwnwgksordlviiv.supabase.co/functions/v1/subscription-status",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jbmZyZ3dud2drc29yZGx2aWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTUwMTksImV4cCI6MjA2NDQ3MTAxOX0.1YOuP3eCF35aY1vDLMnwqbb_0QqDJSSTQe9i25ilq0Q"},body:JSON.stringify({listingId:t})});if(!e.ok)throw new Error("Failed to fetch subscription status");const s=await e.json();n(s)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{o(!1)}};if(i)return Ue.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${s}`,children:[Ue.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}),Ue.jsx("span",{className:"text-gray-600",children:"Checking..."})]});if(l||!r)return Ue.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-600 ${s}`,children:[Ue.jsx(Z,{className:"h-4 w-4 mr-2"}),Ue.jsx("span",{children:"Status Unknown"})]});const h=(()=>{switch(r.status){case"active":return{icon:Ue.jsx(re,{className:"h-4 w-4 mr-2"}),text:`ğ¢ Active â ${r.days_remaining} Days Left`,bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};case"expired":return{icon:Ue.jsx(Z,{className:"h-4 w-4 mr-2"}),text:"ğ´ Expired â Renew Plan",bgColor:"bg-red-100",textColor:"text-red-800",borderColor:"border-red-200"};case"none":return{icon:Ue.jsx(T,{className:"h-4 w-4 mr-2"}),text:"âª No Subscription",bgColor:"bg-gray-100",textColor:"text-gray-600",borderColor:"border-gray-200"};default:return{icon:Ue.jsx(Z,{className:"h-4 w-4 mr-2"}),text:"Unknown Status",bgColor:"bg-gray-100",textColor:"text-gray-600",borderColor:"border-gray-200"}}})();return Ue.jsxs("div",{className:`inline-flex flex-col ${s}`,children:[Ue.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${h.bgColor} ${h.textColor} ${h.borderColor}`,children:[h.icon,Ue.jsx("span",{children:h.text})]}),a&&"none"!==r.status&&Ue.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[r.plan_type&&Ue.jsxs("div",{children:["Plan: ",r.plan_type.charAt(0).toUpperCase()+r.plan_type.slice(1)]}),r.start_date&&r.end_date&&Ue.jsxs("div",{children:[new Date(r.start_date).toLocaleDateString()," - ",new Date(r.end_date).toLocaleDateString()]}),r.amount_paid&&Ue.jsxs("div",{children:["Paid: $",r.amount_paid]})]})]})},_i=({listings:t,onListingUpdate:s})=>{const[a,r]=e.useState([]),[n,i]=e.useState(!1);e.useEffect((()=>{o()}),[t]);const o=async()=>{try{const{data:{user:e}}=await $e.auth.getSession();if(!e)return;const{data:t,error:s}=await $e.from("listing_subscriptions").select("*").eq("owner_id",e.id);if(s)throw s;r(t||[])}catch(Zi){}},l=e=>a.find((t=>t.listing_id===e)),c=e=>{switch(e){case"published":return"text-green-600 bg-green-100";case"archived":default:return"text-gray-600 bg-gray-100";case"pending":return"text-yellow-600 bg-yellow-100"}};return Ue.jsxs("div",{className:"space-y-6",children:[t.map((e=>{return l(e.id),Ue.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx("div",{className:"w-48 h-32 flex-shrink-0",children:Ue.jsx("img",{src:e.images[0]||"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg",alt:e.title,className:"w-full h-full object-cover"})}),Ue.jsxs("div",{className:"flex-1 p-6",children:[Ue.jsxs("div",{className:"flex justify-between items-start mb-4",children:[Ue.jsxs("div",{className:"flex-1",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),Ue.jsx("p",{className:"text-gray-600 mb-2",children:e.address}),Ue.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[Ue.jsxs("span",{className:"flex items-center",children:[Ue.jsx(Y,{className:"h-4 w-4 mr-1"}),(t=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)),"/month"]}),Ue.jsxs("span",{className:"flex items-center",children:[Ue.jsx(S,{className:"h-4 w-4 mr-1"}),"Available ",new Date(e.available_date).toLocaleDateString()]})]})]}),Ue.jsxs("div",{className:"text-right flex flex-col items-end",children:[Ue.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),"published"===e.status&&Ue.jsx("div",{className:"mt-2",children:Ue.jsx(Ni,{listingId:e.id})})]})]}),"published"===e.status&&Ue.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:Ue.jsx("div",{className:"flex justify-between items-center",children:Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-medium text-gray-800",children:"Subscription Status"}),Ue.jsx(Ni,{listingId:e.id,showDetails:!0})]})})}),Ue.jsxs("div",{className:"flex gap-3",children:[Ue.jsxs("a",{href:`/listing/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[Ue.jsx(ae,{className:"h-4 w-4 mr-2"}),"View Listing"]}),"published"===e.status?Ue.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to archive this listing? This will remove it from public view and cancel any active subscription.")){i(!0);try{const{error:t}=await $e.from("listings").update({status:"archived"}).eq("id",e);if(t)throw t;const a=l(e);if(a&&"active"===a.status){const{error:e}=await $e.from("listing_subscriptions").update({status:"cancelled"}).eq("id",a.id);if(e)throw e}alert("Listing archived successfully"),s()}catch(Zi){alert("Failed to archive listing. Please try again.")}finally{i(!1)}}})(e.id),disabled:n,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50",children:[Ue.jsx(le,{className:"h-4 w-4 mr-2"}),"Archive"]}):"archived"===e.status?Ue.jsxs("button",{onClick:()=>(async e=>{confirm("Reactivating this listing will require a new subscription payment. Continue?")&&(window.location.href=`/payment?listing_id=${e}`)})(e.id),disabled:n,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",children:[Ue.jsx(re,{className:"h-4 w-4 mr-2"}),"Reactivate"]}):null]})]})]})},e.id);var t})),0===t.length&&Ue.jsxs("div",{className:"text-center py-12",children:[Ue.jsx(Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No listings found"}),Ue.jsx("p",{className:"text-gray-600",children:"Create your first listing to get started."})]})]})};const Si=()=>{const t=a(),[s]=n(),[r,i]=e.useState(null),[o,l]=e.useState([]),[c,d]=e.useState([]),[h,u]=e.useState([]),[p,g]=e.useState([]),[x,f]=e.useState([]),[b,y]=e.useState([]),[j,v]=e.useState(!0),[N,_]=e.useState("profile"),[S,k]=e.useState([]),[I,C]=e.useState(!1),[P,A]=e.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[E,U]=e.useState(null),[R,$]=e.useState(!1),[L,F]=e.useState(null),[B,q]=e.useState(null),[O,M]=e.useState("");e.useEffect((()=>{const e=s.get("tab");e&&_(e),W()}),[s]);const W=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return void t("/login");const{data:s,error:a}=await $e.from("user_profiles").select("display_name, role, email_notifications").eq("user_id",e.user.id).single();if(a)throw a;s&&(i(s),"admin"===s.role?await J():"listing_owner"===s.role&&await z(),await Promise.all([Y(),V(),X(),H()])),F(null)}catch(e){F("Failed to load profile data")}finally{v(!1)}},H=async()=>{try{if("admin"===(null==r?void 0:r.role)){const{data:{session:e}}=await $e.auth.getSession();if(!e)return;const{data:t,error:s}=await $e.from("applications").select("\n            *,\n            listings (\n              id,\n              title,\n              address,\n              price,\n              neighborhood_id,\n              borough_id,\n              images:listing_images (\n                url\n              )\n            ),\n            tenant:user_profiles!applications_tenant_id_fkey (\n              display_name,\n              email_notifications\n            ),\n            landlord:user_profiles!applications_landlord_id_fkey (\n              display_name,\n              email_notifications\n            )\n          ").order("created_at",{ascending:!1});if(s)throw s;g(t||[])}else{const e=await(async()=>{try{const{data:{user:e}}=await $e.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:s}=await $e.from("applications").select("\n        *,\n        listings (\n          id,\n          title,\n          address,\n          price,\n          neighborhood_id,\n          borough_id,\n          images:listing_images (\n            url\n          )\n        )\n      ").eq("tenant_id",e.id).order("created_at",{ascending:!1});if(s)throw s;return t}catch(L){throw L}})();g(e||[])}}catch(e){}},Y=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return;const{data:t,error:s}=await $e.from("favorite_listings").select("\n          listing_id,\n          listings (\n            id,\n            title,\n            description,\n            price,\n            address,\n            images: listing_images (\n              url\n            )\n          )\n        ").eq("user_id",e.user.id).order("created_at",{ascending:!1});if(s)throw s;l(t||[])}catch(e){}},z=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return;const{data:t,error:s}=await $e.from("listings").select("\n          id,\n          title,\n          description,\n          price,\n          status,\n          created_at,\n          images: listing_images (\n            url\n          )\n        ").eq("landlord_id",e.user.id).order("created_at",{ascending:!1});if(s)throw s;d(t||[])}catch(e){}},V=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return;const t=await async function(){try{const{data:e,error:t}=await $e.rpc("get_my_messages");if(t)throw t;return(null==e?void 0:e.map((e=>({id:e.id,content:e.content,created_at:e.created_at,read_at:e.read_at,sender:e.sender,recipient:e.recipient,listing:e.listing}))))||[]}catch(L){throw L}}(e.user.id);u(t||[])}catch(e){}},J=async()=>{try{const{data:e,error:t}=await $e.from("listings").select("id, title, description, created_at, landlord_id, status").eq("status","pending").order("created_at",{ascending:!1});if(t)throw t;f(e||[]);const{data:s,error:a}=await $e.from("neighborhood_highlights").select("id, name, description, created_at, submitted_by, status").eq("status","pending").order("created_at",{ascending:!1});if(a)throw a;y(s||[])}catch(e){}},X=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return;if("admin"===(null==r?void 0:r.role)){const{data:t,error:s}=await $e.from("admin_saved_listings").select("\n            id,\n            notes,\n            flagged,\n            flag_reason,\n            created_at,\n            listings (\n              id,\n              title,\n              description,\n              price,\n              address\n            )\n          ").eq("admin_id",e.user.id).order("created_at",{ascending:!1});if(s)throw s;k(t||[])}else if("tenant"===(null==r?void 0:r.role)){const e=await(async()=>{try{const{data:{user:e}}=await $e.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:s}=await $e.from("tenant_saved_listings").select("\n        id,\n        notes,\n        created_at,\n        listings (\n          id,\n          title,\n          description,\n          price,\n          address,\n          bedrooms,\n          bathrooms,\n          square_feet,\n          neighborhood_id,\n          borough_id,\n          available_date,\n          images:listing_images (\n            url\n          )\n        )\n      ").eq("tenant_id",e.id).order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(L){throw L}})();k(e||[])}}catch(e){}},G=async e=>{try{await(async(e,t)=>{try{if(!Ve(e))throw new Error("Invalid saved listing ID format");const{data:{user:s}}=await $e.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:a}=await $e.from("tenant_saved_listings").update({notes:t}).eq("id",e).eq("tenant_id",s.id);if(a)throw a}catch(L){throw L}})(e,O),q(null),M(""),await X()}catch(t){alert("Failed to update notes. Please try again.")}},K=()=>{q(null),M("")},Q=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"",Z=e=>{switch(e){case"approved":return Ue.jsx(re,{className:"h-5 w-5 text-green-500"});case"rejected":return Ue.jsx(ge,{className:"h-5 w-5 text-red-500"});default:return Ue.jsx(T,{className:"h-5 w-5 text-yellow-500"})}},ee=e=>{switch(e){case"approved":return"text-green-600 bg-green-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-yellow-600 bg-yellow-50"}},te=e=>{const t=He.find((t=>t.id===e));return t?t.name:""},se=e=>{const t=We.find((t=>t.id===e));return t?t.name:""};return j?Ue.jsx(Be,{children:Ue.jsx("div",{className:"flex justify-center items-center min-h-screen",children:Ue.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#4f46e5]"})})}):L?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-8",children:Ue.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:Ue.jsx("p",{className:"text-red-700",children:L})})})}):r?Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-8",children:[Ue.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:Ue.jsxs("div",{className:"flex items-center justify-between",children:[Ue.jsxs("div",{children:[Ue.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.display_name}),Ue.jsxs("p",{className:"text-gray-600",children:["Role: ",r.role]})]}),Ue.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center gap-2",children:[Ue.jsx(ce,{className:"h-5 w-5"}),"Change Password"]})]})}),Ue.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-200 overflow-x-auto",children:[Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("profile"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("profile"),children:"Profile"}),Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("applications"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("applications"),children:"admin"===r.role?"All Applications":"My Applications"}),Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("saved"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("saved"),children:"Saved Listings"}),"listing_owner"===r.role&&Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("listings"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("listings"),children:"My Listings"}),Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("messages"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("messages"),children:"Messages"}),Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("favorites"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("favorites"),children:"Favorites"}),"admin"===r.role&&Ue.jsx("button",{className:"pb-4 px-2 whitespace-nowrap "+("admin"===N?"border-b-2 border-[#4f46e5] text-[#4f46e5]":"text-gray-500 hover:text-gray-700"),onClick:()=>_("admin"),children:"Admin"})]}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:["profile"===N&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),Ue.jsx("p",{className:"mt-1 text-gray-900",children:r.display_name})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),Ue.jsx("p",{className:"mt-1 text-gray-900",children:r.role})]}),Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx("input",{type:"checkbox",checked:r.email_notifications,onChange:()=>{},className:"h-4 w-4 text-[#4f46e5] rounded"}),Ue.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Receive email notifications"})]})]})]}),"applications"===N&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"admin"===r.role?"All Applications":"My Applications"}),0===p.length?Ue.jsxs("div",{className:"text-center py-8",children:[Ue.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"admin"===r.role?"No applications found":"No applications submitted yet"}),"admin"!==r.role&&Ue.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Browse listings and apply to apartments you're interested in"})]}):Ue.jsx("div",{className:"space-y-4",children:p.map((e=>{var s,a,n,i,o,l;return Ue.jsxs("div",{className:"border rounded-lg p-4",children:[Ue.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-medium text-lg",children:null==(s=e.listings)?void 0:s.title}),Ue.jsx("p",{className:"text-gray-600",children:null==(a=e.listings)?void 0:a.address}),Ue.jsxs("p",{className:"text-[#4f46e5] font-semibold",children:[Q(null==(n=e.listings)?void 0:n.price),"/month"]}),"admin"===r.role&&Ue.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Tenant:"})," ",(null==(i=e.tenant)?void 0:i.display_name)||e.full_name||e.email]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Landlord:"})," ",(null==(o=e.landlord)?void 0:o.display_name)||(null==(l=e.listings)?void 0:l.landlord_id)||"Unknown"]})]})]}),Ue.jsxs("div",{className:"flex items-center gap-2",children:[Z(e.status),Ue.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ee(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),Ue.jsxs("div",{className:"text-sm text-gray-500",children:[Ue.jsxs("p",{children:["Applied on: ",new Date(e.created_at).toLocaleDateString()]}),Ue.jsxs("p",{children:["Move-in date: ",new Date(e.move_in_date).toLocaleDateString()]}),"admin"===r.role&&Ue.jsxs("p",{children:["Email: ",e.email]})]}),Ue.jsx("div",{className:"mt-4 flex justify-end",children:Ue.jsx("button",{onClick:()=>{var s;return t(`/listing/${null==(s=e.listings)?void 0:s.id}`)},className:"px-3 py-1 text-sm bg-[#4f46e5] text-white rounded hover:bg-[#4f46e5]/90",children:"View Listing"})})]},e.id)}))})]}),"saved"===N&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Saved Listings"}),0===S.length?Ue.jsxs("div",{className:"text-center py-8",children:[Ue.jsx(he,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"No saved listings yet"}),Ue.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Save listings you're interested in to keep track of them"})]}):Ue.jsx("div",{className:"space-y-4",children:S.map((e=>{var s,a,r,n,i,o,l,c,d,h;return Ue.jsxs("div",{className:"border rounded-lg p-4",children:[Ue.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Ue.jsxs("div",{className:"flex-1",children:[Ue.jsx("h4",{className:"font-medium text-lg",children:null==(s=e.listings)?void 0:s.title}),Ue.jsxs("p",{className:"text-gray-600",children:[null==(a=e.listings)?void 0:a.address,(null==(r=e.listings)?void 0:r.neighborhood_id)&&Ue.jsxs("span",{children:[" - ",te(e.listings.neighborhood_id)]}),(null==(n=e.listings)?void 0:n.borough_id)&&Ue.jsxs("span",{children:[", ",se(e.listings.borough_id)]})]}),Ue.jsxs("p",{className:"text-[#4f46e5] font-semibold",children:[Q(null==(i=e.listings)?void 0:i.price),"/month"]}),void 0!==(null==(o=e.listings)?void 0:o.bedrooms)&&void 0!==(null==(l=e.listings)?void 0:l.bathrooms)&&Ue.jsxs("p",{className:"text-sm text-gray-500",children:[e.listings.bedrooms," bed, ",e.listings.bathrooms," bath",e.listings.square_feet&&` â¢ ${e.listings.square_feet} sq ft`]})]}),(null==(h=null==(d=null==(c=e.listings)?void 0:c.images)?void 0:d[0])?void 0:h.url)&&Ue.jsx("img",{src:e.listings.images[0].url,alt:e.listings.title,className:"w-20 h-20 object-cover rounded-md ml-4"})]}),Ue.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[Ue.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Ue.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes:"}),B===e.id?Ue.jsxs("div",{className:"flex gap-2",children:[Ue.jsx("button",{onClick:()=>G(e.id),className:"text-green-600 hover:text-green-700",title:"Save notes",children:Ue.jsx(me,{className:"h-4 w-4"})}),Ue.jsx("button",{onClick:K,className:"text-gray-600 hover:text-gray-700",title:"Cancel editing",children:Ue.jsx(m,{className:"h-4 w-4"})})]}):Ue.jsx("button",{onClick:()=>{return t=e.id,s=e.notes,q(t),void M(s||"");var t,s},className:"text-blue-600 hover:text-blue-700",title:"Edit notes",children:Ue.jsx(ue,{className:"h-4 w-4"})})]}),B===e.id?Ue.jsx("textarea",{value:O,onChange:e=>M(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:3,placeholder:"Add your notes about this listing..."}):Ue.jsx("p",{className:"text-sm text-gray-600",children:e.notes||"No notes added yet. Click the edit icon to add notes."})]}),Ue.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[Ue.jsxs("span",{className:"text-sm text-gray-500",children:["Saved on: ",new Date(e.created_at).toLocaleDateString()]}),Ue.jsx("button",{onClick:()=>{var s;return t(`/listing/${null==(s=e.listings)?void 0:s.id}`)},className:"px-3 py-1 text-sm bg-[#4f46e5] text-white rounded hover:bg-[#4f46e5]/90",children:"View Listing"})]})]},e.id)}))})]}),"listings"===N&&"listing_owner"===r.role&&Ue.jsxs("div",{children:[Ue.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ue.jsx("h2",{className:"text-xl font-semibold",children:"My Listings"}),Ue.jsx("button",{onClick:()=>t("/submit-listing"),className:"px-4 py-2 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90",children:"Create New Listing"})]}),0===c.length?Ue.jsxs("div",{className:"text-center py-8",children:[Ue.jsx(D,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"No listings created yet"}),Ue.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create your first listing to start connecting with potential tenants"})]}):Ue.jsx(_i,{listings:c,onListingUpdate:()=>{z()}})]}),"messages"===N&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Messages"}),0===h.length?Ue.jsxs("div",{className:"text-center py-8",children:[Ue.jsx(pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"No messages yet"})]}):Ue.jsx("div",{className:"space-y-4",children:h.map((e=>{var t,s;return Ue.jsxs("div",{className:"border rounded-lg p-4",children:[Ue.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Ue.jsxs("div",{children:[Ue.jsxs("p",{className:"font-medium",children:["From: ",null==(t=e.sender)?void 0:t.display_name]}),Ue.jsxs("p",{className:"text-sm text-gray-500",children:["To: ",null==(s=e.recipient)?void 0:s.display_name]})]}),Ue.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),e.listing&&Ue.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Re: ",e.listing.title]}),Ue.jsx("p",{className:"text-gray-700",children:e.content})]},e.id)}))})]}),"favorites"===N&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Favorite Listings"}),0===o.length?Ue.jsxs("div",{className:"text-center py-8",children:[Ue.jsx(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Ue.jsx("p",{className:"text-gray-600",children:"No favorite listings yet"})]}):Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((e=>{var s,a,r,n,i,o,l;return Ue.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[Ue.jsx("img",{src:null==(r=null==(a=null==(s=e.listings)?void 0:s.images)?void 0:a[0])?void 0:r.url,alt:null==(n=e.listings)?void 0:n.title,className:"w-full h-48 object-cover"}),Ue.jsxs("div",{className:"p-4",children:[Ue.jsx("h3",{className:"font-semibold text-lg mb-2",children:null==(i=e.listings)?void 0:i.title}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:null==(o=e.listings)?void 0:o.description}),Ue.jsxs("div",{className:"flex justify-between items-center",children:[Ue.jsxs("span",{className:"text-[#4f46e5] font-semibold",children:[Q(null==(l=e.listings)?void 0:l.price),"/month"]}),Ue.jsx("button",{onClick:()=>t(`/listing/${e.listing_id}`),className:"px-3 py-1 text-sm bg-[#4f46e5] text-white rounded hover:bg-[#4f46e5]/90",children:"View Details"})]})]})]},e.listing_id)}))})]}),"admin"===N&&"admin"===r.role&&Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Admin Dashboard"}),Ue.jsxs("div",{className:"space-y-8",children:[Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-lg font-medium mb-4",children:"Pending Listings"}),0===x.length?Ue.jsx("p",{className:"text-gray-600",children:"No pending listings"}):Ue.jsx("div",{className:"space-y-4",children:x.map((e=>Ue.jsxs("div",{className:"border rounded-lg p-4",children:[Ue.jsx("h4",{className:"font-medium",children:e.title}),Ue.jsx("p",{className:"text-gray-600 mt-2",children:e.description}),Ue.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[Ue.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await $e.from("listings").update({status:"published"}).eq("id",e);if(t)throw t;await J(),alert("Listing approved successfully!")}catch(t){alert("Failed to approve listing. Please try again.")}})(e.id),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),Ue.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await $e.from("listings").update({status:"archived"}).eq("id",e);if(t)throw t;await J(),alert("Listing rejected successfully!")}catch(t){alert("Failed to reject listing. Please try again.")}})(e.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]},e.id)))})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-lg font-medium mb-4",children:"Pending Neighborhood Highlights"}),0===b.length?Ue.jsx("p",{className:"text-gray-600",children:"No pending highlights"}):Ue.jsx("div",{className:"space-y-4",children:b.map((e=>Ue.jsxs("div",{className:"border rounded-lg p-4",children:[Ue.jsx("h4",{className:"font-medium",children:e.name}),Ue.jsx("p",{className:"text-gray-600 mt-2",children:e.description}),Ue.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[Ue.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await $e.from("neighborhood_highlights").update({status:"approved"}).eq("id",e);if(t)throw t;await J(),alert("Highlight approved successfully!")}catch(t){alert("Failed to approve highlight. Please try again.")}})(e.id),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),Ue.jsx("button",{onClick:()=>(async e=>{try{const{error:t}=await $e.from("neighborhood_highlights").update({status:"rejected"}).eq("id",e);if(t)throw t;await J(),alert("Highlight rejected successfully!")}catch(t){alert("Failed to reject highlight. Please try again.")}})(e.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]},e.id)))})]})]})]})]}),I&&Ue.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Ue.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[Ue.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Password"}),R?Ue.jsxs("div",{className:"text-center",children:[Ue.jsx(re,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),Ue.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Password Changed Successfully!"})]}):Ue.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),U(null),$(!1),P.newPassword===P.confirmPassword)if(P.newPassword.length<8)U("New password must be at least 8 characters long");else try{const{error:e}=await $e.auth.updateUser({password:P.newPassword});if(e)throw e;$(!0),A({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout((()=>{C(!1),$(!1)}),2e3)}catch(t){U(t instanceof Error?t.message:"Failed to change password")}else U("New passwords do not match")},children:[E&&Ue.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:E}),Ue.jsxs("div",{className:"mb-4",children:[Ue.jsx("label",{className:"block text-gray-700 mb-2",children:"New Password"}),Ue.jsx("input",{type:"password",value:P.newPassword,onChange:e=>A((t=>({...t,newPassword:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx("label",{className:"block text-gray-700 mb-2",children:"Confirm New Password"}),Ue.jsx("input",{type:"password",value:P.confirmPassword,onChange:e=>A((t=>({...t,confirmPassword:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),Ue.jsxs("div",{className:"flex justify-end gap-3",children:[Ue.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),Ue.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Change Password"})]})]})]})})]})}):Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[Ue.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Profile not found"}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:"Please try logging in again"}),Ue.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90",children:"Go to Login"})]})})},ki=()=>{const t=a(),[s,n]=e.useState(""),[i,o]=e.useState(""),[l,c]=e.useState(null),[d,h]=e.useState(!1),[u,p]=e.useState(!1),[g,x]=e.useState(""),[f,b]=e.useState(!1),[j,w]=e.useState(!1),[v,N]=e.useState(null);return Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Ue.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Ue.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",Ue.jsx(r,{to:"/signup",className:"font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Sign up"})]})]}),Ue.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{var a;e.preventDefault(),c(null),h(!0);try{const{data:e,error:r}=await $e.auth.signInWithPassword({email:s,password:i});if(r)throw r;if(e.user&&e.session){await new Promise((e=>setTimeout(e,100)));const s=null==(a=e.user.user_metadata)?void 0:a.role;t("admin"===s?"/profile?tab=admin":"/profile",{replace:!0}),window.location.reload()}}catch(r){c(r instanceof Error?r.message:"An error occurred during login")}finally{h(!1)}},children:[l&&Ue.jsx("div",{className:"rounded-md bg-red-50 p-4",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx("div",{className:"flex-shrink-0",children:Ue.jsx(H,{className:"h-5 w-5 text-red-400"})}),Ue.jsx("div",{className:"ml-3",children:Ue.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),!1,Ue.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(y,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Email address",value:s,onChange:e=>n(e.target.value)})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(xe,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:e=>o(e.target.value)})]})]})]}),Ue.jsx("div",{className:"flex items-center justify-end",children:Ue.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Forgot your password?"})}),Ue.jsx("div",{children:Ue.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#4f46e5] hover:bg-[#4f46e5]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4f46e5] disabled:opacity-50",children:d?"Signing in...":"Sign in"})})]})]})}),u&&Ue.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:Ue.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[Ue.jsx("button",{onClick:()=>{p(!1),b(!1),N(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-500",children:Ue.jsx(m,{className:"h-5 w-5"})}),f?Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:Ue.jsx(ie,{className:"h-6 w-6 text-green-600"})}),Ue.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your email"}),Ue.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["We've sent password reset instructions to ",Ue.jsx("strong",{children:g})]}),Ue.jsx("button",{onClick:()=>{p(!1),b(!1),N(null)},className:"text-sm font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Return to login"})]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reset your password"}),Ue.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your email address and we'll send you instructions to reset your password."}),v&&Ue.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx("div",{className:"flex-shrink-0",children:Ue.jsx(H,{className:"h-5 w-5 text-red-400"})}),Ue.jsx("div",{className:"ml-3",children:Ue.jsx("h3",{className:"text-sm font-medium text-red-800",children:v})})]})}),Ue.jsxs("form",{onSubmit:async e=>{e.preventDefault(),N(null),w(!0);try{const{error:e}=await $e.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/login`});if(e)throw e;b(!0)}catch(t){N(t instanceof Error?t.message:"An error occurred while sending reset email")}finally{w(!1)}},children:[Ue.jsxs("div",{className:"mb-4",children:[Ue.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),Ue.jsx("input",{type:"email",id:"reset-email",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] sm:text-sm",value:g,onChange:e=>x(e.target.value),required:!0})]}),Ue.jsx("button",{type:"submit",disabled:j,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#4f46e5] hover:bg-[#4f46e5]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4f46e5] disabled:opacity-50",children:j?"Sending...":"Send reset instructions"})]})]})]})})]})},Ii=()=>{a();const[t]=n(),[s,i]=e.useState(""),[o,l]=e.useState(""),[c,d]=e.useState(""),[h,m]=e.useState(""),[u,p]=e.useState(null),[g,x]=e.useState(!1),[f,b]=e.useState(!1);e.useEffect((()=>{const e=t.get("name"),s=t.get("email");e&&m(e),s&&i(s)}),[t]);return f?Ue.jsx(Be,{children:Ue.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Ue.jsxs("div",{className:"max-w-md w-full text-center",children:[Ue.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:Ue.jsx(re,{className:"h-6 w-6 text-green-600"})}),Ue.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Check your email"}),Ue.jsxs("p",{className:"text-gray-600 mb-8",children:["We've sent a verification link to ",Ue.jsx("strong",{children:s}),".",Ue.jsx("br",{}),"Please click the link to verify your account."]}),Ue.jsx(r,{to:"/login",className:"text-[#4f46e5] hover:text-[#4f46e5]/90 font-medium",children:"Return to login"})]})})}):Ue.jsx(Be,{children:Ue.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Ue.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Ue.jsxs("div",{children:[Ue.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),Ue.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",Ue.jsx(r,{to:"/login",className:"font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Sign in"})]}),(t.get("name")||t.get("email"))&&Ue.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:Ue.jsx("p",{className:"text-blue-700 text-sm text-center",children:"â¨ We've pre-filled your information from your highlight submission!"})})]}),Ue.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),p(null),o!==c?(p("Passwords do not match"),0):!(o.length<8&&(p("Password must be at least 8 characters long"),1))){x(!0);try{const{data:e,error:t}=await $e.auth.signUp({email:s,password:o,options:{data:{display_name:h,role:"user"},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t;e.user&&b(!0)}catch(t){p(t instanceof Error?t.message:"An error occurred during signup"),b(!1)}finally{x(!1)}}},children:[u&&Ue.jsx("div",{className:"rounded-md bg-red-50 p-4",children:Ue.jsxs("div",{className:"flex",children:[Ue.jsx("div",{className:"flex-shrink-0",children:Ue.jsx(H,{className:"h-5 w-5 text-red-400"})}),Ue.jsx("div",{className:"ml-3",children:Ue.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})})]})}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"display-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(E,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"display-name",name:"display-name",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Enter your display name",value:h,onChange:e=>m(e.target.value)})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(y,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:s,onChange:e=>i(e.target.value)})]})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(xe,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Create a password",value:o,onChange:e=>l(e.target.value),minLength:8})]}),Ue.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 8 characters long"})]}),Ue.jsxs("div",{children:[Ue.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),Ue.jsxs("div",{className:"relative",children:[Ue.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.jsx(xe,{className:"h-5 w-5 text-gray-400"})}),Ue.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-[#4f46e5] focus:border-[#4f46e5] focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:c,onChange:e=>d(e.target.value),minLength:8})]})]})]}),Ue.jsx("div",{children:Ue.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#4f46e5] hover:bg-[#4f46e5]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4f46e5] disabled:opacity-50",children:g?"Creating account...":"Sign up"})}),Ue.jsxs("div",{className:"text-sm text-center text-gray-600",children:["By signing up, you agree to our"," ",Ue.jsx(r,{to:"/terms",className:"font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Terms of Service"})," ","and"," ",Ue.jsx(r,{to:"/privacy",className:"font-medium text-[#4f46e5] hover:text-[#4f46e5]/90",children:"Privacy Policy"})]})]})]})})})},Ci=()=>Ue.jsxs(Be,{children:[Ue.jsx("section",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] text-white py-16",children:Ue.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ue.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About Dumb Rent NYC"}),Ue.jsx("p",{className:"text-xl max-w-3xl mx-auto",children:"Your trusted partner in finding the perfect NYC apartment, with detailed neighborhood insights and transparent pricing that gets better over time."})]})}),Ue.jsx("section",{className:"py-16 bg-white",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Our Mission"}),Ue.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're on a mission to make apartment hunting in New York City simpler, more transparent, and more enjoyable. By combining comprehensive listings with local insights and fair pricing, we help both renters find their perfect home and landlords connect with quality tenants."})]}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-12",children:[Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-[#4f46e5]/10 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(p,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Quality Listings"}),Ue.jsx("p",{className:"text-gray-600",children:"Curated rental listings from verified landlords across all five boroughs"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-[#4f46e5]/10 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(K,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Community Driven"}),Ue.jsx("p",{className:"text-gray-600",children:"Local insights and recommendations from real New Yorkers"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-[#4f46e5]/10 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(b,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Neighborhood Focus"}),Ue.jsx("p",{className:"text-gray-600",children:"Detailed guides and information about NYC's diverse neighborhoods"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-[#4f46e5]/10 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(G,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Trusted Platform"}),Ue.jsx("p",{className:"text-gray-600",children:"Verified listings and secure communication with landlords"})]})]})]})}),Ue.jsx("section",{className:"py-16 bg-gray-50",children:Ue.jsxs("div",{className:"container mx-auto px-4",children:[Ue.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"What You Can Expect"}),Ue.jsx("p",{className:"text-lg text-gray-600",children:"Whether you're searching for your next home or listing your property, here's what makes Dumb Rent NYC different."})]}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[Ue.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"For Renters"}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"No Hidden Fees"}),Ue.jsx("p",{className:"text-gray-600",children:"Browse and apply to listings completely free"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Detailed Neighborhood Guides"}),Ue.jsx("p",{className:"text-gray-600",children:"Get insider knowledge about local amenities, transportation, and culture"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Direct Communication"}),Ue.jsx("p",{className:"text-gray-600",children:"Message landlords directly without intermediaries"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Save & Track Applications"}),Ue.jsx("p",{className:"text-gray-600",children:"Keep track of your favorite listings and application status"})]})]})]})]}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[Ue.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"For Landlords"}),Ue.jsxs("div",{className:"space-y-4",children:[Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Quality Tenant Pool"}),Ue.jsx("p",{className:"text-gray-600",children:"Connect with serious renters actively searching for homes"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Easy Listing Management"}),Ue.jsx("p",{className:"text-gray-600",children:"Simple tools to create, edit, and manage your property listings"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Application Tracking"}),Ue.jsx("p",{className:"text-gray-600",children:"Review and manage tenant applications in one place"})]})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx(re,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),Ue.jsxs("div",{children:[Ue.jsx("h4",{className:"font-semibold text-gray-800",children:"Fair Pricing Model"}),Ue.jsx("p",{className:"text-gray-600",children:"Transparent pricing that decreases over time"})]})]})]})]})]})]})}),Ue.jsx("section",{className:"py-16 bg-white",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Simple, Fair Pricing for Landlords"}),Ue.jsx("p",{className:"text-lg text-gray-600 mb-12",children:"Our pricing gets better over time. The longer your listing stays active, the less you pay."}),Ue.jsxs("div",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] rounded-2xl p-8 text-white mb-8",children:[Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(Y,{className:"h-8 w-8"})}),Ue.jsx("h3",{className:"text-2xl font-bold mb-2",children:"$100"}),Ue.jsx("p",{className:"text-white/90",children:"First 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(T,{className:"h-8 w-8"})}),Ue.jsx("h3",{className:"text-2xl font-bold mb-2",children:"$50"}),Ue.jsx("p",{className:"text-white/90",children:"Next 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(T,{className:"h-8 w-8"})}),Ue.jsx("h3",{className:"text-2xl font-bold mb-2",children:"$25"}),Ue.jsx("p",{className:"text-white/90",children:"Following 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-white/20 rounded-full p-4 w-16 h-16 flex items-center justify-center mx-auto mb-4",children:Ue.jsx(fe,{className:"h-8 w-8"})}),Ue.jsx("h3",{className:"text-2xl font-bold mb-2",children:"FREE"}),Ue.jsx("p",{className:"text-white/90",children:"After 90 days"})]})]}),Ue.jsxs("div",{className:"mt-8 p-6 bg-white/10 rounded-lg",children:[Ue.jsxs("div",{className:"flex items-center justify-center mb-4",children:[Ue.jsx(re,{className:"h-6 w-6 mr-2"}),Ue.jsx("span",{className:"text-lg font-semibold",children:"Cancel anytime!"})]}),Ue.jsx("p",{className:"text-white/90 text-center",children:"No long-term contracts or hidden fees. Your listing stays free until it's rented or you remove it."})]})]}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-left",children:[Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[Ue.jsx(re,{className:"h-8 w-8 text-green-500 mb-4"}),Ue.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Setup Fees"}),Ue.jsx("p",{className:"text-gray-600",children:"Get started immediately with no upfront costs or hidden charges."})]}),Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[Ue.jsx(re,{className:"h-8 w-8 text-green-500 mb-4"}),Ue.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Flexible Cancellation"}),Ue.jsx("p",{className:"text-gray-600",children:"Cancel your listing subscription at any time without penalties."})]}),Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[Ue.jsx(re,{className:"h-8 w-8 text-green-500 mb-4"}),Ue.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Free After 90 Days"}),Ue.jsx("p",{className:"text-gray-600",children:"If your property hasn't rented in 90 days, we'll list it for free."})]})]})]})})}),Ue.jsx("section",{className:"py-16 bg-gray-50",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Ready to Get Started?"}),Ue.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join thousands of New Yorkers who have found their perfect home or connected with quality tenants through Dumb Rent NYC."}),Ue.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Ue.jsx("a",{href:"/signup",className:"inline-block px-8 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Start Browsing Listings"}),Ue.jsx("a",{href:"/submit-listing",className:"inline-block px-8 py-3 border-2 border-[#4f46e5] text-[#4f46e5] font-semibold rounded-md hover:bg-[#4f46e5]/5 transition-colors",children:"List Your Property"})]})]})})})]}),Pi=()=>Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs(r,{to:"/",className:"inline-flex items-center text-[#4f46e5] hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[Ue.jsxs("div",{className:"text-center mb-12",children:[Ue.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#4f46e5]/10 rounded-full mb-6",children:Ue.jsx(X,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms and Conditions"}),Ue.jsx("p",{className:"text-xl text-gray-600",children:"Please read these terms carefully before using Dumb Rent NYC"}),Ue.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(G,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1. Introduction"})]}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'Welcome to Dumb Rent NYC ("we," "our," or "us"). These Terms and Conditions ("Terms") govern your use of our website and services located at dumbrent.com (the "Service") operated by Dumb Rent Inc.'}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By accessing or using our Service, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access the Service."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Acceptance of Terms"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"By creating an account, accessing, or using Dumb Rent NYC, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions and our Privacy Policy."}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These Terms constitute a legally binding agreement between you and Dumb Rent Inc. If you do not agree to these Terms, you must not use our Service."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(K,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"3. User Accounts"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.1 Account Creation:"})," To access certain features of our Service, you must create an account. You agree to provide accurate, current, and complete information during registration."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.2 Account Security:"})," You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.3 Account Types:"})," We offer different account types including tenant accounts and listing owner accounts, each with specific features and responsibilities."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.4 Account Termination:"})," We reserve the right to suspend or terminate your account at any time for violation of these Terms or for any other reason at our sole discretion."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(V,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"4. Listing Services"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.1 Listing Accuracy:"})," Listing owners must provide accurate, complete, and up-to-date information about their properties. False or misleading information is strictly prohibited."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.2 Property Ownership:"})," By submitting a listing, you represent and warrant that you are the owner of the property or have proper authorization to list it."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.3 Listing Approval:"})," All listings are subject to our review and approval process. We reserve the right to reject or remove any listing that violates these Terms or our community standards."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.4 Listing Content:"})," You retain ownership of the content you submit, but grant us a license to use, display, and distribute your listing content on our platform."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(Q,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"5. Payment Terms"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.1 Subscription Fees:"})," Listing owners must pay subscription fees to publish their listings. Our pricing structure is as follows:"]}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[Ue.jsx("li",{children:"First 30 days: $100"}),Ue.jsx("li",{children:"Second 30 days: $50"}),Ue.jsx("li",{children:"Third 30 days: $25"}),Ue.jsx("li",{children:"After 90 days: Free"})]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.2 Payment Processing:"})," All payments are processed securely through our payment partners. We do not store your payment information."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.3 Refunds:"})," Subscription fees are generally non-refundable. However, we may provide refunds at our sole discretion in exceptional circumstances."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.4 Cancellation:"})," You may cancel your subscription at any time. Cancellation will take effect at the end of your current billing period."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(Z,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"6. User Conduct"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsx("p",{children:"You agree not to use our Service to:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[Ue.jsx("li",{children:"Violate any applicable laws or regulations"}),Ue.jsx("li",{children:"Post false, misleading, or fraudulent content"}),Ue.jsx("li",{children:"Harass, abuse, or harm other users"}),Ue.jsx("li",{children:"Spam or send unsolicited communications"}),Ue.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),Ue.jsx("li",{children:"Interfere with the proper functioning of our Service"}),Ue.jsx("li",{children:"Collect personal information from other users without consent"}),Ue.jsx("li",{children:"Use our Service for any commercial purpose other than legitimate rental activities"})]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Intellectual Property"}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.1 Our Content:"})," The Service and its original content, features, and functionality are owned by Dumb Rent Inc. and are protected by international copyright, trademark, and other intellectual property laws."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.2 User Content:"})," You retain ownership of content you submit to our Service. However, by submitting content, you grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.3 Trademark:"}),' "Dumb Rent NYC" and our logo are trademarks of Dumb Rent Inc. You may not use our trademarks without our prior written consent.']})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Privacy"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information when you use our Service. By using our Service, you agree to the collection and use of information in accordance with our Privacy Policy."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Disclaimers"}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"9.1 Service Availability:"})," We strive to maintain continuous service availability but cannot guarantee uninterrupted access. We may suspend or discontinue the Service at any time."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"9.2 Third-Party Content:"})," We are not responsible for the accuracy, completeness, or reliability of user-generated content or third-party information on our platform."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"9.3 Rental Transactions:"})," We facilitate connections between tenants and listing owners but are not a party to any rental agreements. All rental transactions are between users."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Limitation of Liability"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To the maximum extent permitted by law, Dumb Rent Inc. shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of profits, data, or use, arising out of or relating to your use of the Service."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"11. Indemnification"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You agree to indemnify, defend, and hold harmless Dumb Rent Inc. and its officers, directors, employees, and agents from any claims, damages, losses, or expenses arising out of your use of the Service or violation of these Terms."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"12. Governing Law"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of the State of New York, without regard to its conflict of law provisions. Any disputes arising under these Terms shall be subject to the exclusive jurisdiction of the courts of New York."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"13. Changes to Terms"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to modify these Terms at any time. We will notify users of significant changes via email or through our Service. Your continued use of the Service after changes become effective constitutes acceptance of the new Terms."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"14. Contact Information"}),Ue.jsxs("div",{className:"text-gray-700 space-y-2",children:[Ue.jsx("p",{children:"If you have any questions about these Terms and Conditions, please contact us:"}),Ue.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[Ue.jsx("p",{children:Ue.jsx("strong",{children:"Dumb Rent Inc."})}),Ue.jsx("p",{children:"123 Broadway, New York, NY 10001"}),Ue.jsx("p",{children:"Email: info@dumbrent.com"}),Ue.jsx("p",{children:"Phone: (212) 555-1234"})]})]})]}),Ue.jsx("section",{className:"border-t border-gray-200 pt-6",children:Ue.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["These Terms and Conditions are effective as of ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," and were last updated on the same date."]})})]}),Ue.jsx("div",{className:"text-center mt-8",children:Ue.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"px-6 py-3 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Back to Top"})})]})]}),Ai=()=>Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs(r,{to:"/",className:"inline-flex items-center text-[#4f46e5] hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[Ue.jsxs("div",{className:"text-center mb-12",children:[Ue.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#4f46e5]/10 rounded-full mb-6",children:Ue.jsx(G,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),Ue.jsx("p",{className:"text-xl text-gray-600",children:"How we collect, use, and protect your personal information"}),Ue.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(ae,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1. Introduction"})]}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'At Dumb Rent NYC ("we," "our," or "us"), we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and services.'}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our Service, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use our Service."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(be,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"2. Information We Collect"})]}),Ue.jsxs("div",{className:"space-y-6",children:[Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.1 Personal Information"}),Ue.jsx("p",{className:"text-gray-700 mb-3",children:"We may collect the following personal information:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-gray-700",children:[Ue.jsx("li",{children:"Name and contact information (email address, phone number)"}),Ue.jsx("li",{children:"Account credentials (username, password)"}),Ue.jsx("li",{children:"Profile information (display name, preferences)"}),Ue.jsx("li",{children:"Property listing information (for landlords)"}),Ue.jsx("li",{children:"Application information (for tenants)"}),Ue.jsx("li",{children:"Payment information (processed securely through third-party providers)"}),Ue.jsx("li",{children:"Communication records (messages, support inquiries)"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.2 Automatically Collected Information"}),Ue.jsx("p",{className:"text-gray-700 mb-3",children:"When you use our Service, we automatically collect:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-gray-700",children:[Ue.jsx("li",{children:"Device information (IP address, browser type, operating system)"}),Ue.jsx("li",{children:"Usage data (pages visited, time spent, features used)"}),Ue.jsx("li",{children:"Location information (general geographic location)"}),Ue.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),Ue.jsxs("div",{children:[Ue.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.3 Information from Third Parties"}),Ue.jsx("p",{className:"text-gray-700 mb-3",children:"We may receive information from:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-gray-700",children:[Ue.jsx("li",{children:"Social media platforms (if you choose to connect your accounts)"}),Ue.jsx("li",{children:"Payment processors (transaction information)"}),Ue.jsx("li",{children:"Analytics providers (usage statistics)"}),Ue.jsx("li",{children:"Public records (property information verification)"})]})]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(K,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"3. How We Use Your Information"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.1 Service Provision:"})," To provide, maintain, and improve our rental platform services."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.2 Account Management:"})," To create and manage your account, authenticate users, and provide customer support."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.3 Communication:"})," To send you service-related notifications, updates, and respond to your inquiries."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.4 Matching Services:"})," To connect tenants with suitable rental properties and landlords with qualified tenants."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.5 Payment Processing:"})," To process subscription payments and manage billing (through secure third-party processors)."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.6 Safety and Security:"})," To verify identities, prevent fraud, and ensure platform safety."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.7 Analytics and Improvement:"})," To analyze usage patterns and improve our services."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"3.8 Legal Compliance:"})," To comply with applicable laws and regulations."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(ye,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"4. Information Sharing and Disclosure"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.1 With Other Users:"})," Listing information is shared with potential tenants; tenant application information is shared with relevant landlords."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.2 Service Providers:"})," We share information with trusted third-party service providers who assist in operating our platform (payment processors, hosting providers, analytics services)."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.3 Legal Requirements:"})," We may disclose information when required by law, court order, or to protect our rights and safety."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.4 Business Transfers:"})," Information may be transferred in connection with mergers, acquisitions, or asset sales."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"4.5 Consent:"})," We may share information with your explicit consent for specific purposes."]})]}),Ue.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[Ue.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"We Do NOT:"}),Ue.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[Ue.jsx("li",{children:"Sell your personal information to third parties"}),Ue.jsx("li",{children:"Share your information for marketing purposes without consent"}),Ue.jsx("li",{children:"Provide access to your private messages or personal data to unauthorized parties"})]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(xe,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"5. Data Security"})]}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.1 Security Measures:"})," We implement industry-standard security measures including encryption, secure servers, and access controls to protect your information."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.2 Data Transmission:"})," All data transmission is encrypted using SSL/TLS protocols."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.3 Access Controls:"})," We limit access to personal information to authorized personnel who need it for business purposes."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.4 Regular Monitoring:"})," We regularly monitor our systems for potential vulnerabilities and attacks."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"5.5 Incident Response:"})," We have procedures in place to respond to data breaches and will notify affected users as required by law."]})]}),Ue.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:Ue.jsxs("p",{className:"text-yellow-800 text-sm",children:[Ue.jsx("strong",{children:"Important:"})," While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Your Rights and Choices"}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.1 Account Information:"})," You can update your account information at any time through your profile settings."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.2 Communication Preferences:"})," You can opt out of non-essential communications through your account settings or unsubscribe links."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.3 Data Access:"})," You can request access to the personal information we have about you."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.4 Data Correction:"})," You can request correction of inaccurate personal information."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.5 Data Deletion:"})," You can request deletion of your personal information, subject to legal and business requirements."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.6 Data Portability:"})," You can request a copy of your personal information in a portable format."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"6.7 Account Deletion:"})," You can delete your account at any time, which will remove your personal information from our active systems."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Cookies and Tracking Technologies"}),Ue.jsxs("div",{className:"space-y-4 text-gray-700",children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.1 Cookies:"})," We use cookies to enhance your experience, remember your preferences, and analyze site usage."]}),Ue.jsx("p",{children:Ue.jsx("strong",{children:"7.2 Types of Cookies:"})}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[Ue.jsx("li",{children:"Essential cookies (required for site functionality)"}),Ue.jsx("li",{children:"Performance cookies (analytics and site improvement)"}),Ue.jsx("li",{children:"Functional cookies (user preferences and settings)"}),Ue.jsx("li",{children:"Targeting cookies (personalized content and advertising)"})]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.3 Cookie Control:"})," You can control cookies through your browser settings, though disabling certain cookies may affect site functionality."]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"7.4 Third-Party Tracking:"})," We may use third-party analytics services that use their own cookies and tracking technologies."]})]})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Children's Privacy"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our Service is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us, and we will delete such information from our files."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. International Users"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Our services are primarily intended for users in the United States, specifically New York City. If you are accessing our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States."}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our Service, you consent to the transfer of your information to the United States and the application of United States privacy laws."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Changes to This Privacy Policy"}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by:"}),Ue.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-gray-700 mb-4",children:[Ue.jsx("li",{children:"Posting the updated Privacy Policy on our website"}),Ue.jsx("li",{children:"Sending you an email notification (if you have an account)"}),Ue.jsx("li",{children:"Displaying a prominent notice on our platform"})]}),Ue.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your continued use of our Service after the effective date of the updated Privacy Policy constitutes acceptance of the changes."})]}),Ue.jsxs("section",{className:"mb-8",children:[Ue.jsxs("div",{className:"flex items-center mb-4",children:[Ue.jsx(y,{className:"h-6 w-6 text-[#4f46e5] mr-3"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"11. Contact Us"})]}),Ue.jsxs("div",{className:"text-gray-700 space-y-2",children:[Ue.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),Ue.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[Ue.jsx("p",{children:Ue.jsx("strong",{children:"Dumb Rent Inc."})}),Ue.jsx("p",{children:"123 Broadway, New York, NY 10001"}),Ue.jsx("p",{children:"Email: info@dumbrent.com"}),Ue.jsx("p",{children:"Phone: (212) 555-1234"})]}),Ue.jsx("p",{className:"text-sm text-gray-600 mt-4",children:'For data protection inquiries specifically, please use the subject line "Privacy Inquiry" in your email.'})]})]}),Ue.jsx("section",{className:"border-t border-gray-200 pt-6",children:Ue.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["This Privacy Policy is effective as of ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," and was last updated on the same date."]})})]}),Ue.jsx("div",{className:"text-center mt-8",children:Ue.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"px-6 py-3 bg-[#4f46e5] text-white rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Back to Top"})})]})]});var Ei,Ti="https://js.stripe.com/v3",Ui=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Di=function(e){var t=document.createElement("script");t.src="".concat(Ti).concat("");var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(t),t},Ri=null,$i=null,Li=null,Fi=function(e){return null!==Ri?Ri:(Ri=new Promise((function(t,s){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe,window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ti,'"]')),t=0;t<e.length;t++){var s=e[t];if(Ui.test(s.src))return s}return null}();if(a&&e);else if(a){if(a&&null!==Li&&null!==$i){var r;a.removeEventListener("load",Li),a.removeEventListener("error",$i),null===(r=a.parentNode)||void 0===r||r.removeChild(a),a=Di()}}else a=Di();Li=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,s),$i=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(s),a.addEventListener("load",Li),a.addEventListener("error",$i)}catch(Zi){return void s(Zi)}else t(null)}))).catch((function(e){return Ri=null,Promise.reject(e)}))},Bi=function(){return Ei||(Ei=Fi(null).catch((function(e){return Ei=null,Promise.reject(e)})))};Promise.resolve().then((function(){return Bi()})).catch((function(e){}));const qi="pk_live_51RX3TIHrAzxRBItJbNkleNrTMOWH6jJlQGu2Ic7HIIVZz23Fb4lRXca9tYt7sSV9li3CKKnNDccX6GpjAZxVqKxC00XgX6WFCW";qi.startsWith("pk_");let Oi=null;if(qi.startsWith("pk_"))try{Oi=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];0;var a=Date.now();return Bi().then((function(e){return function(e,t,s){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(a,s),a}(e,t,a)}))}(qi,{apiVersion:"2023-10-16"}).catch((e=>null))}catch(Zi){Oi=Promise.resolve(null)}else Oi=Promise.resolve(null);const Mi=[{id:"monthly",name:"Monthly Plan",price:100,duration:30,description:"Get your listing live with monthly recurring billing",features:["Listing published for 30 days","Automatic renewal every 30 days","Full listing management","Application tracking","Direct tenant communication","Cancel anytime"]},{id:"quarterly",name:"Quarterly Plan",price:175,duration:90,description:"Save with our 3-month recurring plan",features:["Listing published for 90 days","Automatic renewal every 90 days","Full listing management","Application tracking","Direct tenant communication","Cancel anytime","Better value than monthly"]}],Wi=({listingId:t,listingTitle:s,onCancel:r})=>{a();const[n,i]=e.useState("monthly"),[o,l]=e.useState(!1),[c,d]=e.useState(null),h=Mi.find((e=>e.id===n));return Ue.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden max-w-4xl mx-auto",children:[Ue.jsxs("div",{className:"bg-gradient-to-r from-[#4f46e5] to-[#4338ca] text-white p-8 text-center",children:[Ue.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Choose Your Listing Plan"}),Ue.jsxs("p",{className:"text-xl opacity-90",children:['Get your listing "',s,'" live and start connecting with tenants']})]}),Ue.jsxs("div",{className:"p-8",children:[Ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Mi.map((e=>Ue.jsxs("div",{className:"border-2 rounded-xl p-6 cursor-pointer transition-all duration-200 "+(n===e.id?"border-[#4f46e5] bg-[#4f46e5]/5 shadow-lg":"border-gray-200 hover:border-gray-300"),onClick:()=>i(e.id),children:[Ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ue.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),Ue.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center "+(n===e.id?"border-[#4f46e5] bg-[#4f46e5]":"border-gray-300"),children:n===e.id&&Ue.jsx(re,{className:"h-4 w-4 text-white"})})]}),Ue.jsxs("div",{className:"mb-4",children:[Ue.jsxs("div",{className:"flex items-baseline",children:[Ue.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",e.price]}),Ue.jsxs("span",{className:"text-gray-500 ml-2",children:["for ",e.duration," days"]})]}),"quarterly"===e.id&&Ue.jsx("div",{className:"text-green-600 text-sm font-medium mt-1",children:"Save $25 vs monthly plans"})]}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),Ue.jsx("ul",{className:"space-y-2",children:e.features.map(((e,t)=>Ue.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[Ue.jsx(re,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),e]},t)))})]},e.id)))}),Ue.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Our Fair Pricing Model"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-[#4f46e5] text-white rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-2",children:Ue.jsx(Q,{className:"h-6 w-6"})}),Ue.jsx("div",{className:"font-bold text-lg",children:"$100"}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"First 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-blue-500 text-white rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-2",children:Ue.jsx(T,{className:"h-6 w-6"})}),Ue.jsx("div",{className:"font-bold text-lg",children:"$50"}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"Next 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-green-500 text-white rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-2",children:Ue.jsx(T,{className:"h-6 w-6"})}),Ue.jsx("div",{className:"font-bold text-lg",children:"$25"}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"Following 30 days"})]}),Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("div",{className:"bg-yellow-500 text-white rounded-full p-3 w-12 h-12 flex items-center justify-center mx-auto mb-2",children:Ue.jsx(fe,{className:"h-6 w-6"})}),Ue.jsx("div",{className:"font-bold text-lg",children:"FREE"}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"After 90 days"})]})]}),Ue.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"If your property hasn't rented after 90 days, we'll keep it listed for free!"})]}),h&&Ue.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[Ue.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Selected Plan Summary"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[Ue.jsxs("div",{children:[Ue.jsx("span",{className:"text-gray-600",children:"Plan:"}),Ue.jsx("div",{className:"font-medium",children:h.name})]}),Ue.jsxs("div",{children:[Ue.jsx("span",{className:"text-gray-600",children:"Duration:"}),Ue.jsxs("div",{className:"font-medium",children:[h.duration," days"]})]}),Ue.jsxs("div",{children:[Ue.jsx("span",{className:"text-gray-600",children:"Total Cost:"}),Ue.jsxs("div",{className:"font-medium text-lg",children:["$",h.price]})]})]})]}),c&&Ue.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:Ue.jsx("p",{className:"text-red-700",children:c})}),Ue.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Ue.jsx("button",{onClick:r,disabled:o,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),Ue.jsx("button",{onClick:async()=>{l(!0),d(null);try{await(async e=>{try{const{data:{session:t}}=await $e.auth.getSession();if(!t)throw new Error("User not authenticated");const s=await fetch("https://mcnfrgwnwgksordlviiv.supabase.co/functions/v1/create-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({listingId:e.listingId,planType:e.planType,successUrl:e.successUrl||`${window.location.origin}/payment-success`,cancelUrl:e.cancelUrl||`${window.location.origin}/submit-listing`})});if(!s.ok){const e=await s.json();if(e.error&&e.error.includes("payment mode"))throw new Error("Payment configuration error. Please contact support.");throw new Error(e.error||"Failed to create subscription")}const{sessionId:a}=await s.json(),r=await Oi;if(!r)throw new Error("Payment system failed to load. Please refresh the page and try again.");const{error:n}=await r.redirectToCheckout({sessionId:a});if(n)throw new Error(n.message)}catch(c){throw c}})({listingId:t,planType:n,successUrl:`${window.location.origin}/payment-success`,cancelUrl:`${window.location.origin}/submit-listing`})}catch(e){d(e instanceof Error?e.message:"Failed to process payment"),l(!1)}},disabled:o,className:"flex-1 px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors disabled:opacity-50 flex items-center justify-center",children:o?Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(J,{className:"h-5 w-5 animate-spin mr-2"}),"Processing..."]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(Q,{className:"h-5 w-5 mr-2"}),"Continue to Payment"]})})]}),Ue.jsx("div",{className:"mt-6 text-center",children:Ue.jsx("p",{className:"text-sm text-gray-500",children:"ğ Secure payment processing powered by Stripe. Your payment information is encrypted and secure."})})]})]})},Hi=()=>{const[t]=n(),s=a(),[r,i]=e.useState(null),[o,l]=e.useState(!0),[c,d]=e.useState(null),h=t.get("listing_id");e.useEffect((()=>{if(!h)return d("No listing ID provided"),void l(!1);m()}),[h]);const m=async()=>{try{const{data:{session:e}}=await $e.auth.getSession();if(!e)return d("You need to be logged in to access this page. Please sign in and try again."),void l(!1);const{data:t,error:s}=await $e.from("listings").select("id, title, landlord_id").eq("id",h).eq("landlord_id",e.user.id).single();if(s){if("PGRST116"===s.code)throw new Error("Listing not found. It may have been deleted or you may not have permission to access it.");throw new Error("Failed to load listing. Please try again.")}i(t)}catch(e){d(e instanceof Error?e.message:"Failed to load listing")}finally{l(!1)}},u=()=>{s("/submit-listing")};return o?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-12",children:Ue.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:Ue.jsxs("div",{className:"text-center",children:[Ue.jsx(J,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-[#4f46e5]"}),Ue.jsx("p",{className:"text-gray-600",children:"Loading payment options..."})]})})})}):c||!r?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-12",children:Ue.jsxs("div",{className:"text-center",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Error"}),Ue.jsx("p",{className:"text-gray-600 mb-6",children:c||"Listing not found"}),Ue.jsxs("div",{className:"space-y-3",children:[Ue.jsx("button",{onClick:()=>s("/login"),className:"inline-flex items-center px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Sign In"}),Ue.jsx("br",{}),Ue.jsxs("button",{onClick:()=>s("/submit-listing"),className:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-gray-50 transition-colors",children:[Ue.jsx(U,{className:"h-5 w-5 mr-2"}),"Back to Listing Submission"]})]})]})})}):Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs("button",{onClick:u,className:"inline-flex items-center text-[#4f46e5] hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Listing"]})})}),Ue.jsx("div",{className:"container mx-auto px-4 py-12",children:Ue.jsx(Wi,{listingId:r.id,listingTitle:r.title,onCancel:u})})]})};function Yi(){const[t]=n(),[s,a]=e.useState(null);return e.useEffect((()=>{const e=t.get("session_id");e&&a(e)}),[t]),Ue.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:Ue.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[Ue.jsxs("div",{className:"mb-6",children:[Ue.jsx(re,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),Ue.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),Ue.jsx("p",{className:"text-gray-600",children:"Thank you for your payment. Your transaction has been completed successfully."})]}),s&&Ue.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[Ue.jsxs("div",{className:"flex items-center justify-center mb-2",children:[Ue.jsx(je,{className:"w-5 h-5 text-gray-500 mr-2"}),Ue.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"})]}),Ue.jsx("p",{className:"text-xs text-gray-500 font-mono break-all",children:s})]}),Ue.jsxs("div",{className:"space-y-3",children:[Ue.jsx("p",{className:"text-sm text-gray-600",children:"You will receive a confirmation email shortly with your receipt and details."}),Ue.jsxs(r,{to:"/",className:"inline-flex items-center justify-center w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[Ue.jsx(V,{className:"w-5 h-5 mr-2"}),"Return to Home"]})]})]})})}const zi=()=>{const[t,s]=e.useState({name:"",email:"",category:"",rating:0,subject:"",message:"",allowContact:!1}),[a,n]=e.useState(!1),[i,o]=e.useState(!1),[l,c]=e.useState(null),d=e=>{const{name:t,value:a,type:r}=e.target;s((s=>({...s,[t]:"checkbox"===r?e.target.checked:a})))};return i?Ue.jsx(Be,{children:Ue.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:Ue.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[Ue.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-8 text-center",children:[Ue.jsx("div",{className:"inline-block p-3 bg-white/20 rounded-full mb-4",children:Ue.jsx(re,{className:"h-12 w-12"})}),Ue.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Thank You!"}),Ue.jsx("p",{className:"text-xl opacity-90",children:"Your feedback has been submitted successfully"})]}),Ue.jsxs("div",{className:"p-8 text-center",children:[Ue.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"We appreciate you taking the time to share your thoughts with us. Your feedback helps us improve Dumb Rent NYC for everyone."}),Ue.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What happens next?"}),Ue.jsxs("div",{className:"text-left space-y-2 text-gray-700",children:[Ue.jsx("p",{children:"â¢ Our team will review your feedback within 2-3 business days"}),Ue.jsx("p",{children:"â¢ If you requested a response, we'll get back to you via email"}),Ue.jsx("p",{children:"â¢ Bug reports and feature requests are prioritized based on impact"}),Ue.jsx("p",{children:"â¢ We may follow up if we need additional information"})]})]}),Ue.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Ue.jsx(r,{to:"/",className:"flex-1 px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors text-center",children:"Back to Home"}),Ue.jsx("button",{onClick:()=>{o(!1),s({name:"",email:"",category:"",rating:0,subject:"",message:"",allowContact:!1})},className:"flex-1 px-6 py-3 border border-[#4f46e5] text-[#4f46e5] font-semibold rounded-md hover:bg-[#4f46e5]/5 transition-colors",children:"Submit More Feedback"})]})]})]})})}):Ue.jsxs(Be,{children:[Ue.jsx("div",{className:"bg-gray-100 py-4",children:Ue.jsx("div",{className:"container mx-auto px-4",children:Ue.jsxs(r,{to:"/",className:"inline-flex items-center text-[#4f46e5] hover:underline",children:[Ue.jsx(U,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})}),Ue.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[Ue.jsxs("div",{className:"text-center mb-12",children:[Ue.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#4f46e5]/10 rounded-full mb-6",children:Ue.jsx(pe,{className:"h-8 w-8 text-[#4f46e5]"})}),Ue.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Share Your Feedback"}),Ue.jsx("p",{className:"text-xl text-gray-600",children:"Help us improve Dumb Rent NYC with your thoughts and suggestions"})]}),Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[l&&Ue.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:Ue.jsxs("div",{className:"flex items-center",children:[Ue.jsx(H,{className:"h-5 w-5 text-red-500 mr-2"}),Ue.jsx("p",{className:"text-red-700",children:l})]})}),Ue.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c(null),n(!0),!(t.name&&t.email&&t.category&&t.subject&&t.message))return c("Please fill in all required fields."),void n(!1);if(0===t.rating)return c("Please provide a rating."),void n(!1);try{const e=await fetch("https://mcnfrgwnwgksordlviiv.supabase.co/functions/v1/send-feedback-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jbmZyZ3dud2drc29yZGx2aWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTUwMTksImV4cCI6MjA2NDQ3MTAxOX0.1YOuP3eCF35aY1vDLMnwqbb_0QqDJSSTQe9i25ilq0Q"},body:JSON.stringify(t)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to submit feedback")}o(!0)}catch(s){c(s instanceof Error?s.message:"Failed to submit feedback. Please try again.")}finally{n(!1)}},className:"space-y-6",children:[Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Your Name ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsx("input",{type:"text",name:"name",value:t.name,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Email Address ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Feedback Category ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsxs("select",{name:"category",value:t.category,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",required:!0,children:[Ue.jsx("option",{value:"",children:"Select a category"}),["General Feedback","Bug Report","Feature Request","User Experience","Listing Issues","Payment & Billing","Account Issues","Other"].map((e=>Ue.jsx("option",{value:e,children:e},e)))]})]}),Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Overall Rating ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map((e=>Ue.jsx("button",{type:"button",onClick:()=>{return t=e,void s((e=>({...e,rating:t})));var t},className:"p-1 transition-colors "+(e<=t.rating?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-yellow-300"),children:Ue.jsx(we,{className:"h-8 w-8 fill-current"})},e))),Ue.jsx("span",{className:"ml-4 text-gray-600",children:t.rating>0&&Ue.jsxs(Ue.Fragment,{children:[t.rating," out of 5 stars",5===t.rating&&" - Excellent!",4===t.rating&&" - Very Good",3===t.rating&&" - Good",2===t.rating&&" - Fair",1===t.rating&&" - Poor"]})})]})]}),Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Subject ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent",placeholder:"Brief summary of your feedback",required:!0})]}),Ue.jsxs("div",{children:[Ue.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Your Feedback ",Ue.jsx("span",{className:"text-red-500",children:"*"})]}),Ue.jsx("textarea",{name:"message",value:t.message,onChange:d,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent resize-vertical",placeholder:"Please share your detailed feedback, suggestions, or report any issues you've encountered...",required:!0}),Ue.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Be as specific as possible to help us understand and address your feedback effectively."})]}),Ue.jsxs("div",{className:"flex items-start",children:[Ue.jsx("input",{type:"checkbox",name:"allowContact",checked:t.allowContact,onChange:d,className:"h-4 w-4 text-[#4f46e5] rounded focus:ring-[#4f46e5] mt-1 mr-3"}),Ue.jsx("label",{className:"text-gray-700",children:"I allow Dumb Rent NYC to contact me via email regarding this feedback for follow-up questions or updates."})]}),Ue.jsx("div",{className:"pt-6",children:Ue.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#4f46e5] text-white py-3 px-6 rounded-md font-semibold hover:bg-[#4f46e5]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Submitting Feedback..."]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(ve,{className:"h-5 w-5 mr-2"}),"Submit Feedback"]})})})]}),Ue.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[Ue.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Other Ways to Reach Us"}),Ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[Ue.jsxs("div",{children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Email:"})," info@dumbrent.com"]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Phone:"})," (212) 555-1234"]})]}),Ue.jsxs("div",{children:[Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Response Time:"})," 2-3 business days"]}),Ue.jsxs("p",{children:[Ue.jsx("strong",{children:"Priority:"})," Bug reports get fastest response"]})]})]})]})]})]})]})},Vi=()=>{const t=a(),[s]=n(),[r,i]=e.useState("loading"),[o,l]=e.useState(""),c=e.useRef(!1);e.useEffect((()=>{c.current||(c.current=!0,d())}),[]);const d=async()=>{try{const e=s.get("code"),a=s.get("error"),r=s.get("error_description");s.get("type");if(a)return i("error"),void l(r||"Authentication failed");if(!e)return i("error"),void l("No verification code found. Please check your email and try again.");const{data:n,error:o}=await $e.auth.exchangeCodeForSession(e);if(o){if(400===o.status||o.message.includes("reused")||o.message.includes("expired")||o.message.includes("invalid")){const{data:e,error:s}=await $e.auth.getSession();return s?(i("error"),void l("Verification failed. Please try signing up again.")):e.session?(i("success"),l("You are already signed in! Redirecting to your profile..."),void setTimeout((()=>{t("/profile",{replace:!0})}),2e3)):(i("error"),void l("Verification link has expired or is invalid. Please request a new verification email."))}return i("error"),void l(`Verification failed: ${o.message}`)}n.session?(i("success"),l("Email verified successfully! Redirecting to your profile..."),setTimeout((()=>{t("/profile",{replace:!0})}),2e3)):(i("error"),l("Verification completed but no session was created. Please try logging in."))}catch(e){i("error"),l("An unexpected error occurred during verification")}};return Ue.jsx(Be,{children:Ue.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4",children:Ue.jsxs("div",{className:"max-w-md w-full text-center",children:["loading"===r&&Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(J,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-[#4f46e5]"}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying your email..."}),Ue.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your account."})]}),"success"===r&&Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:Ue.jsx(re,{className:"h-6 w-6 text-green-600"})}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Verified!"}),Ue.jsx("p",{className:"text-gray-600 mb-4",children:o})]}),"error"===r&&Ue.jsxs(Ue.Fragment,{children:[Ue.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:Ue.jsx(H,{className:"h-6 w-6 text-red-600"})}),Ue.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),Ue.jsx("p",{className:"text-gray-600 mb-6",children:o}),Ue.jsxs("div",{className:"space-y-3",children:[Ue.jsx("button",{onClick:()=>t("/login"),className:"w-full px-6 py-3 bg-[#4f46e5] text-white font-semibold rounded-md hover:bg-[#4f46e5]/90 transition-colors",children:"Go to Login"}),Ue.jsx("button",{onClick:()=>t("/signup"),className:"w-full px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-md hover:bg-gray-200 transition-colors",children:"Try Signing Up Again"})]})]})]})})})},Ji={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"sk-your_openai_api_keyVITE_SUPABASE_URL=https://mcnfrgwnwgksordlviiv.supabase.co",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51RX3TIHrAzxRBItJbNkleNrTMOWH6jJlQGu2Ic7HIIVZz23Fb4lRXca9tYt7sSV9li3CKKnNDccX6GpjAZxVqKxC00XgX6WFCW",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jbmZyZ3dud2drc29yZGx2aWl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTUwMTksImV4cCI6MjA2NDQ3MTAxOX0.1YOuP3eCF35aY1vDLMnwqbb_0QqDJSSTQe9i25ilq0Q",VITE_SUPABASE_URL:"https://mcnfrgwnwgksordlviiv.supabase.co"},Xi=()=>{const[t,s]=e.useState({}),a=[{key:"VITE_SUPABASE_URL",name:"Supabase URL",required:!0},{key:"VITE_SUPABASE_ANON_KEY",name:"Supabase Anon Key",required:!0},{key:"VITE_STRIPE_PUBLISHABLE_KEY",name:"Stripe Publishable Key",required:!0},{key:"VITE_GOOGLE_MAPS_API_KEY",name:"Google Maps API Key",required:!0},{key:"VITE_OPENAI_API_KEY",name:"OpenAI API Key",required:!1}],r=(e,s)=>e in t?t[e]?Ue.jsx(re,{className:"h-5 w-5 text-green-500"}):s?Ue.jsx(ge,{className:"h-5 w-5 text-red-500"}):Ue.jsx(H,{className:"h-5 w-5 text-yellow-500"}):Ue.jsx(H,{className:"h-5 w-5 text-gray-400"}),n=(e,s)=>e in t?t[e]?"Configured":s?"Missing (Required)":"Missing (Optional)":"Not tested";return Ue.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto",children:[Ue.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Environment Configuration Test"}),Ue.jsx("button",{onClick:()=>{const e={};a.forEach((({key:t})=>{const s=Ji[t];e[t]=!!(s&&s.length>0)})),s(e)},className:"mb-6 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Test Environment Variables"}),Ue.jsx("div",{className:"space-y-3",children:a.map((({key:e,name:s,required:a})=>Ue.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[Ue.jsxs("div",{className:"flex items-center",children:[r(e,a),Ue.jsxs("div",{className:"ml-3",children:[Ue.jsx("p",{className:"font-medium text-gray-800",children:s}),Ue.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),Ue.jsx("div",{className:"text-right",children:Ue.jsx("span",{className:"text-sm font-medium "+(t[e]?"text-green-600":a?"text-red-600":"text-yellow-600"),children:n(e,a)})})]},e)))}),Object.keys(t).length>0&&Ue.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[Ue.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Test Summary:"}),Ue.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[Ue.jsxs("div",{children:[Ue.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(t).filter(Boolean).length}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"Configured"})]}),Ue.jsxs("div",{children:[Ue.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter((e=>e.required&&!t[e.key])).length}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"Missing Required"})]}),Ue.jsxs("div",{children:[Ue.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter((e=>!e.required&&!t[e.key])).length}),Ue.jsx("div",{className:"text-sm text-gray-600",children:"Missing Optional"})]})]})]})]})},Gi=()=>Ue.jsx(Be,{children:Ue.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ue.jsxs("div",{className:"text-center mb-8",children:[Ue.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Environment Configuration Test"}),Ue.jsx("p",{className:"text-gray-600",children:"Test your API keys and environment variables to ensure everything is properly configured."})]}),Ue.jsx(Xi,{})]})});function Ki(){return Ue.jsx(o,{children:Ue.jsxs(l,{children:[Ue.jsx(c,{path:"/",element:Ue.jsx(Ze,{})}),Ue.jsx(c,{path:"/about",element:Ue.jsx(Ci,{})}),Ue.jsx(c,{path:"/terms",element:Ue.jsx(Pi,{})}),Ue.jsx(c,{path:"/privacy",element:Ue.jsx(Ai,{})}),Ue.jsx(c,{path:"/feedback",element:Ue.jsx(zi,{})}),Ue.jsx(c,{path:"/neighborhoods",element:Ue.jsx(tt,{})}),Ue.jsx(c,{path:"/neighborhood/:id",element:Ue.jsx(at,{})}),Ue.jsx(c,{path:"/listing/:id",element:Ue.jsx(nt,{})}),Ue.jsx(c,{path:"/submit-listing",element:Ue.jsx(wi,{})}),Ue.jsx(c,{path:"/submit-highlight",element:Ue.jsx(vi,{})}),Ue.jsx(c,{path:"/profile",element:Ue.jsx(Si,{})}),Ue.jsx(c,{path:"/login",element:Ue.jsx(ki,{})}),Ue.jsx(c,{path:"/signup",element:Ue.jsx(Ii,{})}),Ue.jsx(c,{path:"/payment",element:Ue.jsx(Hi,{})}),Ue.jsx(c,{path:"/payment-success",element:Ue.jsx(Yi,{})}),Ue.jsx(c,{path:"/auth/callback",element:Ue.jsx(Vi,{})}),Ue.jsx(c,{path:"/env-test",element:Ue.jsx(Gi,{})})]})})}const Qi=document.getElementById("root");if(!Qi)throw new Error("Failed to find root element");Te(Qi).render(Ue.jsx(e.StrictMode,{children:Ue.jsx(Ki,{})}));
